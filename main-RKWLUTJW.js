var OE=Object.defineProperty,eV=Object.defineProperties;var tV=Object.getOwnPropertyDescriptors;var Hh=Object.getOwnPropertySymbols;var LE=Object.prototype.hasOwnProperty,NE=Object.prototype.propertyIsEnumerable;var RE=(n,e,t)=>e in n?OE(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,P=(n,e)=>{for(var t in e||={})LE.call(e,t)&&RE(n,t,e[t]);if(Hh)for(var t of Hh(e))NE.call(e,t)&&RE(n,t,e[t]);return n},ye=(n,e)=>eV(n,tV(e));var Gc=(n,e)=>{var t={};for(var i in n)LE.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&Hh)for(var i of Hh(n))e.indexOf(i)<0&&NE.call(n,i)&&(t[i]=n[i]);return t};var nV=(n,e)=>{for(var t in e)OE(n,t,{get:e[t],enumerable:!0})};var vr=(n,e,t)=>new Promise((i,r)=>{var s=l=>{try{a(t.next(l))}catch(c){r(c)}},o=l=>{try{a(t.throw(l))}catch(c){r(c)}},a=l=>l.done?i(l.value):Promise.resolve(l.value).then(s,o);a((t=t.apply(n,e)).next())});function FE(n,e){return Object.is(n,e)}var an=null,zh=!1,$h=1,yr=Symbol("SIGNAL");function Ve(n){let e=an;return an=n,e}function PE(){return an}var Wc={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function Gh(n){if(zh)throw new Error("");if(an===null)return;an.consumerOnSignalRead(n);let e=an.nextProducerIndex++;if(Yh(an),e<an.producerNode.length&&an.producerNode[e]!==n&&qc(an)){let t=an.producerNode[e];Wh(t,an.producerIndexOfThis[e])}an.producerNode[e]!==n&&(an.producerNode[e]=n,an.producerIndexOfThis[e]=qc(an)?HE(n,an,e):0),an.producerLastReadVersion[e]=n.version}function iV(){$h++}function VE(n){if(!(qc(n)&&!n.dirty)&&!(!n.dirty&&n.lastCleanEpoch===$h)){if(!n.producerMustRecompute(n)&&!Ey(n)){n.dirty=!1,n.lastCleanEpoch=$h;return}n.producerRecomputeValue(n),n.dirty=!1,n.lastCleanEpoch=$h}}function BE(n){if(n.liveConsumerNode===void 0)return;let e=zh;zh=!0;try{for(let t of n.liveConsumerNode)t.dirty||rV(t)}finally{zh=e}}function jE(){return an?.consumerAllowSignalWrites!==!1}function rV(n){n.dirty=!0,BE(n),n.consumerMarkedDirty?.(n)}function qh(n){return n&&(n.nextProducerIndex=0),Ve(n)}function Sy(n,e){if(Ve(e),!(!n||n.producerNode===void 0||n.producerIndexOfThis===void 0||n.producerLastReadVersion===void 0)){if(qc(n))for(let t=n.nextProducerIndex;t<n.producerNode.length;t++)Wh(n.producerNode[t],n.producerIndexOfThis[t]);for(;n.producerNode.length>n.nextProducerIndex;)n.producerNode.pop(),n.producerLastReadVersion.pop(),n.producerIndexOfThis.pop()}}function Ey(n){Yh(n);for(let e=0;e<n.producerNode.length;e++){let t=n.producerNode[e],i=n.producerLastReadVersion[e];if(i!==t.version||(VE(t),i!==t.version))return!0}return!1}function Dy(n){if(Yh(n),qc(n))for(let e=0;e<n.producerNode.length;e++)Wh(n.producerNode[e],n.producerIndexOfThis[e]);n.producerNode.length=n.producerLastReadVersion.length=n.producerIndexOfThis.length=0,n.liveConsumerNode&&(n.liveConsumerNode.length=n.liveConsumerIndexOfThis.length=0)}function HE(n,e,t){if(zE(n),n.liveConsumerNode.length===0&&$E(n))for(let i=0;i<n.producerNode.length;i++)n.producerIndexOfThis[i]=HE(n.producerNode[i],n,i);return n.liveConsumerIndexOfThis.push(t),n.liveConsumerNode.push(e)-1}function Wh(n,e){if(zE(n),n.liveConsumerNode.length===1&&$E(n))for(let i=0;i<n.producerNode.length;i++)Wh(n.producerNode[i],n.producerIndexOfThis[i]);let t=n.liveConsumerNode.length-1;if(n.liveConsumerNode[e]=n.liveConsumerNode[t],n.liveConsumerIndexOfThis[e]=n.liveConsumerIndexOfThis[t],n.liveConsumerNode.length--,n.liveConsumerIndexOfThis.length--,e<n.liveConsumerNode.length){let i=n.liveConsumerIndexOfThis[e],r=n.liveConsumerNode[e];Yh(r),r.producerIndexOfThis[i]=e}}function qc(n){return n.consumerIsAlwaysLive||(n?.liveConsumerNode?.length??0)>0}function Yh(n){n.producerNode??=[],n.producerIndexOfThis??=[],n.producerLastReadVersion??=[]}function zE(n){n.liveConsumerNode??=[],n.liveConsumerIndexOfThis??=[]}function $E(n){return n.producerNode!==void 0}function UE(n){let e=Object.create(sV);e.computation=n;let t=()=>{if(VE(e),Gh(e),e.value===Uh)throw e.error;return e.value};return t[yr]=e,t}var Cy=Symbol("UNSET"),wy=Symbol("COMPUTING"),Uh=Symbol("ERRORED"),sV=ye(P({},Wc),{value:Cy,dirty:!0,error:null,equal:FE,producerMustRecompute(n){return n.value===Cy||n.value===wy},producerRecomputeValue(n){if(n.value===wy)throw new Error("Detected cycle in computations.");let e=n.value;n.value=wy;let t=qh(n),i;try{i=n.computation()}catch(r){i=Uh,n.error=r}finally{Sy(n,t)}if(e!==Cy&&e!==Uh&&i!==Uh&&n.equal(e,i)){n.value=e;return}n.value=i,n.version++}});function oV(){throw new Error}var GE=oV;function qE(){GE()}function WE(n){GE=n}var aV=null;function YE(n){let e=Object.create(Ty);e.value=n;let t=()=>(Gh(e),e.value);return t[yr]=e,t}function Qh(n,e){jE()||qE(),n.equal(n.value,e)||(n.value=e,lV(n))}function QE(n,e){jE()||qE(),Qh(n,e(n.value))}var Ty=ye(P({},Wc),{equal:FE,value:void 0});function lV(n){n.version++,iV(),BE(n),aV?.()}function xe(n){return typeof n=="function"}function Qa(n){let t=n(i=>{Error.call(i),i.stack=new Error().stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}var Xh=Qa(n=>function(t){n(this),this.message=t?`${t.length} errors occurred during unsubscription:
${t.map((i,r)=>`${r+1}) ${i.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=t});function Uo(n,e){if(n){let t=n.indexOf(e);0<=t&&n.splice(t,1)}}var jt=class n{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(let s of t)s.remove(this);else t.remove(this);let{initialTeardown:i}=this;if(xe(i))try{i()}catch(s){e=s instanceof Xh?s.errors:[s]}let{_finalizers:r}=this;if(r){this._finalizers=null;for(let s of r)try{XE(s)}catch(o){e=e??[],o instanceof Xh?e=[...e,...o.errors]:e.push(o)}}if(e)throw new Xh(e)}}add(e){var t;if(e&&e!==this)if(this.closed)XE(e);else{if(e instanceof n){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(t=this._finalizers)!==null&&t!==void 0?t:[]).push(e)}}_hasParent(e){let{_parentage:t}=this;return t===e||Array.isArray(t)&&t.includes(e)}_addParent(e){let{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e}_removeParent(e){let{_parentage:t}=this;t===e?this._parentage=null:Array.isArray(t)&&Uo(t,e)}remove(e){let{_finalizers:t}=this;t&&Uo(t,e),e instanceof n&&e._removeParent(this)}};jt.EMPTY=(()=>{let n=new jt;return n.closed=!0,n})();var Ay=jt.EMPTY;function Zh(n){return n instanceof jt||n&&"closed"in n&&xe(n.remove)&&xe(n.add)&&xe(n.unsubscribe)}function XE(n){xe(n)?n():n.unsubscribe()}var Zi={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var Xa={setTimeout(n,e,...t){let{delegate:i}=Xa;return i?.setTimeout?i.setTimeout(n,e,...t):setTimeout(n,e,...t)},clearTimeout(n){let{delegate:e}=Xa;return(e?.clearTimeout||clearTimeout)(n)},delegate:void 0};function Kh(n){Xa.setTimeout(()=>{let{onUnhandledError:e}=Zi;if(e)e(n);else throw n})}function Yc(){}var ZE=Iy("C",void 0,void 0);function KE(n){return Iy("E",void 0,n)}function JE(n){return Iy("N",n,void 0)}function Iy(n,e,t){return{kind:n,value:e,error:t}}var Go=null;function Za(n){if(Zi.useDeprecatedSynchronousErrorHandling){let e=!Go;if(e&&(Go={errorThrown:!1,error:null}),n(),e){let{errorThrown:t,error:i}=Go;if(Go=null,t)throw i}}else n()}function eD(n){Zi.useDeprecatedSynchronousErrorHandling&&Go&&(Go.errorThrown=!0,Go.error=n)}var qo=class extends jt{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,Zh(e)&&e.add(this)):this.destination=dV}static create(e,t,i){return new Os(e,t,i)}next(e){this.isStopped?ky(JE(e),this):this._next(e)}error(e){this.isStopped?ky(KE(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?ky(ZE,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},cV=Function.prototype.bind;function My(n,e){return cV.call(n,e)}var Ry=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:t}=this;if(t.next)try{t.next(e)}catch(i){Jh(i)}}error(e){let{partialObserver:t}=this;if(t.error)try{t.error(e)}catch(i){Jh(i)}else Jh(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(t){Jh(t)}}},Os=class extends qo{constructor(e,t,i){super();let r;if(xe(e)||!e)r={next:e??void 0,error:t??void 0,complete:i??void 0};else{let s;this&&Zi.useDeprecatedNextContext?(s=Object.create(e),s.unsubscribe=()=>this.unsubscribe(),r={next:e.next&&My(e.next,s),error:e.error&&My(e.error,s),complete:e.complete&&My(e.complete,s)}):r=e}this.destination=new Ry(r)}};function Jh(n){Zi.useDeprecatedSynchronousErrorHandling?eD(n):Kh(n)}function uV(n){throw n}function ky(n,e){let{onStoppedNotification:t}=Zi;t&&Xa.setTimeout(()=>t(n,e))}var dV={closed:!0,next:Yc,error:uV,complete:Yc};var Ka=typeof Symbol=="function"&&Symbol.observable||"@@observable";function Un(n){return n}function Wo(...n){return Oy(n)}function Oy(n){return n.length===0?Un:n.length===1?n[0]:function(t){return n.reduce((i,r)=>r(i),t)}}var He=(()=>{class n{constructor(t){t&&(this._subscribe=t)}lift(t){let i=new n;return i.source=this,i.operator=t,i}subscribe(t,i,r){let s=pV(t)?t:new Os(t,i,r);return Za(()=>{let{operator:o,source:a}=this;s.add(o?o.call(s,a):a?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(t){try{return this._subscribe(t)}catch(i){t.error(i)}}forEach(t,i){return i=tD(i),new i((r,s)=>{let o=new Os({next:a=>{try{t(a)}catch(l){s(l),o.unsubscribe()}},error:s,complete:r});this.subscribe(o)})}_subscribe(t){var i;return(i=this.source)===null||i===void 0?void 0:i.subscribe(t)}[Ka](){return this}pipe(...t){return Oy(t)(this)}toPromise(t){return t=tD(t),new t((i,r)=>{let s;this.subscribe(o=>s=o,o=>r(o),()=>i(s))})}}return n.create=e=>new n(e),n})();function tD(n){var e;return(e=n??Zi.Promise)!==null&&e!==void 0?e:Promise}function hV(n){return n&&xe(n.next)&&xe(n.error)&&xe(n.complete)}function pV(n){return n&&n instanceof qo||hV(n)&&Zh(n)}function Ly(n){return xe(n?.lift)}function Le(n){return e=>{if(Ly(e))return e.lift(function(t){try{return n(t,this)}catch(i){this.error(i)}});throw new TypeError("Unable to lift unknown Observable type")}}function Ne(n,e,t,i,r){return new Ny(n,e,t,i,r)}var Ny=class extends qo{constructor(e,t,i,r,s,o){super(e),this.onFinalize=s,this.shouldUnsubscribe=o,this._next=t?function(a){try{t(a)}catch(l){e.error(l)}}:super._next,this._error=r?function(a){try{r(a)}catch(l){e.error(l)}finally{this.unsubscribe()}}:super._error,this._complete=i?function(){try{i()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:t}=this;super.unsubscribe(),!t&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function Ja(){return Le((n,e)=>{let t=null;n._refCount++;let i=Ne(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount){t=null;return}let r=n._connection,s=t;t=null,r&&(!s||r===s)&&r.unsubscribe(),e.unsubscribe()});n.subscribe(i),i.closed||(t=n.connect())})}var el=class extends He{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,Ly(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new jt;let t=this.getSubject();e.add(this.source.subscribe(Ne(t,void 0,()=>{this._teardown(),t.complete()},i=>{this._teardown(),t.error(i)},()=>this._teardown()))),e.closed&&(this._connection=null,e=jt.EMPTY)}return e}refCount(){return Ja()(this)}};var nD=Qa(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var ut=(()=>{class n extends He{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){let i=new ep(this,this);return i.operator=t,i}_throwIfClosed(){if(this.closed)throw new nD}next(t){Za(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let i of this.currentObservers)i.next(t)}})}error(t){Za(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;let{observers:i}=this;for(;i.length;)i.shift().error(t)}})}complete(){Za(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return((t=this.observers)===null||t===void 0?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){let{hasError:i,isStopped:r,observers:s}=this;return i||r?Ay:(this.currentObservers=null,s.push(t),new jt(()=>{this.currentObservers=null,Uo(s,t)}))}_checkFinalizedStatuses(t){let{hasError:i,thrownError:r,isStopped:s}=this;i?t.error(r):s&&t.complete()}asObservable(){let t=new He;return t.source=this,t}}return n.create=(e,t)=>new ep(e,t),n})(),ep=class extends ut{constructor(e,t){super(),this.destination=e,this.source=t}next(e){var t,i;(i=(t=this.destination)===null||t===void 0?void 0:t.next)===null||i===void 0||i.call(t,e)}error(e){var t,i;(i=(t=this.destination)===null||t===void 0?void 0:t.error)===null||i===void 0||i.call(t,e)}complete(){var e,t;(t=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||t===void 0||t.call(e)}_subscribe(e){var t,i;return(i=(t=this.source)===null||t===void 0?void 0:t.subscribe(e))!==null&&i!==void 0?i:Ay}};var Be=class extends ut{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){let{hasError:e,thrownError:t,_value:i}=this;if(e)throw t;return this._throwIfClosed(),i}next(e){super.next(this._value=e)}};var Fy={now(){return(Fy.delegate||Date).now()},delegate:void 0};var tp=class extends jt{constructor(e,t){super()}schedule(e,t=0){return this}};var Qc={setInterval(n,e,...t){let{delegate:i}=Qc;return i?.setInterval?i.setInterval(n,e,...t):setInterval(n,e,...t)},clearInterval(n){let{delegate:e}=Qc;return(e?.clearInterval||clearInterval)(n)},delegate:void 0};var np=class extends tp{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){var i;if(this.closed)return this;this.state=e;let r=this.id,s=this.scheduler;return r!=null&&(this.id=this.recycleAsyncId(s,r,t)),this.pending=!0,this.delay=t,this.id=(i=this.id)!==null&&i!==void 0?i:this.requestAsyncId(s,this.id,t),this}requestAsyncId(e,t,i=0){return Qc.setInterval(e.flush.bind(e,this),i)}recycleAsyncId(e,t,i=0){if(i!=null&&this.delay===i&&this.pending===!1)return t;t!=null&&Qc.clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let i=this._execute(e,t);if(i)return i;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let i=!1,r;try{this.work(e)}catch(s){i=!0,r=s||new Error("Scheduled action threw falsy error")}if(i)return this.unsubscribe(),r}unsubscribe(){if(!this.closed){let{id:e,scheduler:t}=this,{actions:i}=t;this.work=this.state=this.scheduler=null,this.pending=!1,Uo(i,this),e!=null&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null,super.unsubscribe()}}};var tl=class n{constructor(e,t=n.now){this.schedulerActionCtor=e,this.now=t}schedule(e,t=0,i){return new this.schedulerActionCtor(this,e).schedule(i,t)}};tl.now=Fy.now;var ip=class extends tl{constructor(e,t=tl.now){super(e,t),this.actions=[],this._active=!1}flush(e){let{actions:t}=this;if(this._active){t.push(e);return}let i;this._active=!0;do if(i=e.execute(e.state,e.delay))break;while(e=t.shift());if(this._active=!1,i){for(;e=t.shift();)e.unsubscribe();throw i}}};var Xc=new ip(np),iD=Xc;var Si=new He(n=>n.complete());function rp(n){return n&&xe(n.schedule)}function rD(n){return n[n.length-1]}function nl(n){return xe(rD(n))?n.pop():void 0}function Ls(n){return rp(rD(n))?n.pop():void 0}function oD(n,e,t,i){var r=arguments.length,s=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(r<3?o(s):r>3?o(e,t,s):o(e,t))||s);return r>3&&s&&Object.defineProperty(e,t,s),s}function aD(n,e,t,i){function r(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(u){try{c(i.next(u))}catch(p){o(p)}}function l(u){try{c(i.throw(u))}catch(p){o(p)}}function c(u){u.done?s(u.value):r(u.value).then(a,l)}c((i=i.apply(n,e||[])).next())})}function sD(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],i=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&i>=n.length&&(n=void 0),{value:n&&n[i++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Yo(n){return this instanceof Yo?(this.v=n,this):new Yo(n)}function lD(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=t.apply(n,e||[]),r,s=[];return r=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",o),r[Symbol.asyncIterator]=function(){return this},r;function o(f){return function(_){return Promise.resolve(_).then(f,p)}}function a(f,_){i[f]&&(r[f]=function(w){return new Promise(function(S,D){s.push([f,w,S,D])>1||l(f,w)})},_&&(r[f]=_(r[f])))}function l(f,_){try{c(i[f](_))}catch(w){m(s[0][3],w)}}function c(f){f.value instanceof Yo?Promise.resolve(f.value.v).then(u,p):m(s[0][2],f)}function u(f){l("next",f)}function p(f){l("throw",f)}function m(f,_){f(_),s.shift(),s.length&&l(s[0][0],s[0][1])}}function cD(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=n[Symbol.asyncIterator],t;return e?e.call(n):(n=typeof sD=="function"?sD(n):n[Symbol.iterator](),t={},i("next"),i("throw"),i("return"),t[Symbol.asyncIterator]=function(){return this},t);function i(s){t[s]=n[s]&&function(o){return new Promise(function(a,l){o=n[s](o),r(a,l,o.done,o.value)})}}function r(s,o,a,l){Promise.resolve(l).then(function(c){s({value:c,done:a})},o)}}var il=n=>n&&typeof n.length=="number"&&typeof n!="function";function sp(n){return xe(n?.then)}function op(n){return xe(n[Ka])}function ap(n){return Symbol.asyncIterator&&xe(n?.[Symbol.asyncIterator])}function lp(n){return new TypeError(`You provided ${n!==null&&typeof n=="object"?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function fV(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var cp=fV();function up(n){return xe(n?.[cp])}function dp(n){return lD(this,arguments,function*(){let t=n.getReader();try{for(;;){let{value:i,done:r}=yield Yo(t.read());if(r)return yield Yo(void 0);yield yield Yo(i)}}finally{t.releaseLock()}})}function hp(n){return xe(n?.getReader)}function Ht(n){if(n instanceof He)return n;if(n!=null){if(op(n))return mV(n);if(il(n))return gV(n);if(sp(n))return vV(n);if(ap(n))return uD(n);if(up(n))return yV(n);if(hp(n))return _V(n)}throw lp(n)}function mV(n){return new He(e=>{let t=n[Ka]();if(xe(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function gV(n){return new He(e=>{for(let t=0;t<n.length&&!e.closed;t++)e.next(n[t]);e.complete()})}function vV(n){return new He(e=>{n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,Kh)})}function yV(n){return new He(e=>{for(let t of n)if(e.next(t),e.closed)return;e.complete()})}function uD(n){return new He(e=>{bV(n,e).catch(t=>e.error(t))})}function _V(n){return uD(dp(n))}function bV(n,e){var t,i,r,s;return aD(this,void 0,void 0,function*(){try{for(t=cD(n);i=yield t.next(),!i.done;){let o=i.value;if(e.next(o),e.closed)return}}catch(o){r={error:o}}finally{try{i&&!i.done&&(s=t.return)&&(yield s.call(t))}finally{if(r)throw r.error}}e.complete()})}function ai(n,e,t,i=0,r=!1){let s=e.schedule(function(){t(),r?n.add(this.schedule(null,i)):this.unsubscribe()},i);if(n.add(s),!r)return s}function pp(n,e=0){return Le((t,i)=>{t.subscribe(Ne(i,r=>ai(i,n,()=>i.next(r),e),()=>ai(i,n,()=>i.complete(),e),r=>ai(i,n,()=>i.error(r),e)))})}function fp(n,e=0){return Le((t,i)=>{i.add(n.schedule(()=>t.subscribe(i),e))})}function dD(n,e){return Ht(n).pipe(fp(e),pp(e))}function hD(n,e){return Ht(n).pipe(fp(e),pp(e))}function pD(n,e){return new He(t=>{let i=0;return e.schedule(function(){i===n.length?t.complete():(t.next(n[i++]),t.closed||this.schedule())})})}function fD(n,e){return new He(t=>{let i;return ai(t,e,()=>{i=n[cp](),ai(t,e,()=>{let r,s;try{({value:r,done:s}=i.next())}catch(o){t.error(o);return}s?t.complete():t.next(r)},0,!0)}),()=>xe(i?.return)&&i.return()})}function mp(n,e){if(!n)throw new Error("Iterable cannot be null");return new He(t=>{ai(t,e,()=>{let i=n[Symbol.asyncIterator]();ai(t,e,()=>{i.next().then(r=>{r.done?t.complete():t.next(r.value)})},0,!0)})})}function mD(n,e){return mp(dp(n),e)}function gD(n,e){if(n!=null){if(op(n))return dD(n,e);if(il(n))return pD(n,e);if(sp(n))return hD(n,e);if(ap(n))return mp(n,e);if(up(n))return fD(n,e);if(hp(n))return mD(n,e)}throw lp(n)}function xt(n,e){return e?gD(n,e):Ht(n)}function z(...n){let e=Ls(n);return xt(n,e)}function rl(n,e){let t=xe(n)?n:()=>n,i=r=>r.error(t());return new He(e?r=>e.schedule(i,0,r):i)}function Py(n){return!!n&&(n instanceof He||xe(n.lift)&&xe(n.subscribe))}var Ki=Qa(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function Qo(n,e){let t=typeof e=="object";return new Promise((i,r)=>{let s=new Os({next:o=>{i(o),s.unsubscribe()},error:r,complete:()=>{t?i(e.defaultValue):r(new Ki)}});n.subscribe(s)})}function vD(n){return n instanceof Date&&!isNaN(n)}function V(n,e){return Le((t,i)=>{let r=0;t.subscribe(Ne(i,s=>{i.next(n.call(e,s,r++))}))})}var{isArray:xV}=Array;function CV(n,e){return xV(e)?n(...e):n(e)}function Ns(n){return V(e=>CV(n,e))}var{isArray:wV}=Array,{getPrototypeOf:SV,prototype:EV,keys:DV}=Object;function gp(n){if(n.length===1){let e=n[0];if(wV(e))return{args:e,keys:null};if(TV(e)){let t=DV(e);return{args:t.map(i=>e[i]),keys:t}}}return{args:n,keys:null}}function TV(n){return n&&typeof n=="object"&&SV(n)===EV}function vp(n,e){return n.reduce((t,i,r)=>(t[i]=e[r],t),{})}function Xo(...n){let e=Ls(n),t=nl(n),{args:i,keys:r}=gp(n);if(i.length===0)return xt([],e);let s=new He(Vy(i,e,r?o=>vp(r,o):Un));return t?s.pipe(Ns(t)):s}function Vy(n,e,t=Un){return i=>{yD(e,()=>{let{length:r}=n,s=new Array(r),o=r,a=r;for(let l=0;l<r;l++)yD(e,()=>{let c=xt(n[l],e),u=!1;c.subscribe(Ne(i,p=>{s[l]=p,u||(u=!0,a--),a||i.next(t(s.slice()))},()=>{--o||i.complete()}))},i)},i)}}function yD(n,e,t){n?ai(t,n,e):e()}function _D(n,e,t,i,r,s,o,a){let l=[],c=0,u=0,p=!1,m=()=>{p&&!l.length&&!c&&e.complete()},f=w=>c<i?_(w):l.push(w),_=w=>{s&&e.next(w),c++;let S=!1;Ht(t(w,u++)).subscribe(Ne(e,D=>{r?.(D),s?f(D):e.next(D)},()=>{S=!0},void 0,()=>{if(S)try{for(c--;l.length&&c<i;){let D=l.shift();o?ai(e,o,()=>_(D)):_(D)}m()}catch(D){e.error(D)}}))};return n.subscribe(Ne(e,f,()=>{p=!0,m()})),()=>{a?.()}}function nt(n,e,t=1/0){return xe(e)?nt((i,r)=>V((s,o)=>e(i,s,r,o))(Ht(n(i,r))),t):(typeof e=="number"&&(t=e),Le((i,r)=>_D(i,r,n,t)))}function Fs(n=1/0){return nt(Un,n)}function bD(){return Fs(1)}function sl(...n){return bD()(xt(n,Ls(n)))}function ol(n){return new He(e=>{Ht(n()).subscribe(e)})}function By(...n){let e=nl(n),{args:t,keys:i}=gp(n),r=new He(s=>{let{length:o}=t;if(!o){s.complete();return}let a=new Array(o),l=o,c=o;for(let u=0;u<o;u++){let p=!1;Ht(t[u]).subscribe(Ne(s,m=>{p||(p=!0,c--),a[u]=m},()=>l--,void 0,()=>{(!l||!p)&&(c||s.next(i?vp(i,a):a),s.complete())}))}});return e?r.pipe(Ns(e)):r}var AV=["addListener","removeListener"],IV=["addEventListener","removeEventListener"],MV=["on","off"];function Zc(n,e,t,i){if(xe(t)&&(i=t,t=void 0),i)return Zc(n,e,t).pipe(Ns(i));let[r,s]=OV(n)?IV.map(o=>a=>n[o](e,a,t)):kV(n)?AV.map(xD(n,e)):RV(n)?MV.map(xD(n,e)):[];if(!r&&il(n))return nt(o=>Zc(o,e,t))(Ht(n));if(!r)throw new TypeError("Invalid event target");return new He(o=>{let a=(...l)=>o.next(1<l.length?l:l[0]);return r(a),()=>s(a)})}function xD(n,e){return t=>i=>n[t](e,i)}function kV(n){return xe(n.addListener)&&xe(n.removeListener)}function RV(n){return xe(n.on)&&xe(n.off)}function OV(n){return xe(n.addEventListener)&&xe(n.removeEventListener)}function Kc(n,e,t){return ol(()=>n()?e:t)}function CD(n=0,e,t=iD){let i=-1;return e!=null&&(rp(e)?t=e:i=e),new He(r=>{let s=vD(n)?+n-t.now():n;s<0&&(s=0);let o=0;return t.schedule(function(){r.closed||(r.next(o++),0<=i?this.schedule(void 0,i):r.complete())},s)})}function Jc(n=0,e=Xc){return n<0&&(n=0),CD(n,n,e)}var{isArray:LV}=Array;function wD(n){return n.length===1&&LV(n[0])?n[0]:n}function li(n,e){return Le((t,i)=>{let r=0;t.subscribe(Ne(i,s=>n.call(e,s,r++)&&i.next(s)))})}function ie(n){return Le((e,t)=>{let i=null,r=!1,s;i=e.subscribe(Ne(t,void 0,void 0,o=>{s=Ht(n(o,ie(n)(e))),i?(i.unsubscribe(),i=null,s.subscribe(t)):r=!0})),r&&(i.unsubscribe(),i=null,s.subscribe(t))})}function SD(n,e,t,i,r){return(s,o)=>{let a=t,l=e,c=0;s.subscribe(Ne(o,u=>{let p=c++;l=a?n(l,u,p):(a=!0,u),i&&o.next(l)},r&&(()=>{a&&o.next(l),o.complete()})))}}function jy(...n){let e=nl(n);return e?Wo(jy(...n),Ns(e)):Le((t,i)=>{Vy([t,...wD(n)])(i)})}function eu(...n){return jy(...n)}function en(n,e){return xe(e)?nt(n,e,1):nt(n,1)}function ln(n,e=Xc){return Le((t,i)=>{let r=null,s=null,o=null,a=()=>{if(r){r.unsubscribe(),r=null;let c=s;s=null,i.next(c)}};function l(){let c=o+n,u=e.now();if(u<c){r=this.schedule(void 0,c-u),i.add(r);return}a()}t.subscribe(Ne(i,c=>{s=c,o=e.now(),r||(r=e.schedule(l,n),i.add(r))},()=>{a(),i.complete()},void 0,()=>{s=r=null}))})}function Ps(n){return Le((e,t)=>{let i=!1;e.subscribe(Ne(t,r=>{i=!0,t.next(r)},()=>{i||t.next(n),t.complete()}))})}function Qt(n){return n<=0?()=>Si:Le((e,t)=>{let i=0;e.subscribe(Ne(t,r=>{++i<=n&&(t.next(r),n<=i&&t.complete())}))})}function Hy(n){return V(()=>n)}function _r(n,e=Un){return n=n??NV,Le((t,i)=>{let r,s=!0;t.subscribe(Ne(i,o=>{let a=e(o);(s||!n(r,a))&&(s=!1,r=a,i.next(o))}))})}function NV(n,e){return n===e}function yp(n=FV){return Le((e,t)=>{let i=!1;e.subscribe(Ne(t,r=>{i=!0,t.next(r)},()=>i?t.complete():t.error(n())))})}function FV(){return new Ki}function Zo(n){return Le((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}function br(n,e){let t=arguments.length>=2;return i=>i.pipe(n?li((r,s)=>n(r,s,i)):Un,Qt(1),t?Ps(e):yp(()=>new Ki))}function al(n){return n<=0?()=>Si:Le((e,t)=>{let i=[];e.subscribe(Ne(t,r=>{i.push(r),n<i.length&&i.shift()},()=>{for(let r of i)t.next(r);t.complete()},void 0,()=>{i=null}))})}function zy(n,e){let t=arguments.length>=2;return i=>i.pipe(n?li((r,s)=>n(r,s,i)):Un,al(1),t?Ps(e):yp(()=>new Ki))}function $y(n,e){return Le(SD(n,e,arguments.length>=2,!0))}function ll(...n){let e=Ls(n);return Le((t,i)=>{(e?sl(n,t,e):sl(n,t)).subscribe(i)})}function Ye(n,e){return Le((t,i)=>{let r=null,s=0,o=!1,a=()=>o&&!r&&i.complete();t.subscribe(Ne(i,l=>{r?.unsubscribe();let c=0,u=s++;Ht(n(l,u)).subscribe(r=Ne(i,p=>i.next(e?e(l,p,u,c++):p),()=>{r=null,a()}))},()=>{o=!0,a()}))})}function Uy(n){return Le((e,t)=>{Ht(n).subscribe(Ne(t,()=>t.complete(),Yc)),!t.closed&&e.subscribe(t)})}function q(n,e,t){let i=xe(n)||e||t?{next:n,error:e,complete:t}:n;return i?Le((r,s)=>{var o;(o=i.subscribe)===null||o===void 0||o.call(i);let a=!0;r.subscribe(Ne(s,l=>{var c;(c=i.next)===null||c===void 0||c.call(i,l),s.next(l)},()=>{var l;a=!1,(l=i.complete)===null||l===void 0||l.call(i),s.complete()},l=>{var c;a=!1,(c=i.error)===null||c===void 0||c.call(i,l),s.error(l)},()=>{var l,c;a&&((l=i.unsubscribe)===null||l===void 0||l.call(i)),(c=i.finalize)===null||c===void 0||c.call(i)}))}):Un}var mT="https://g.co/ng/security#xss",W=class extends Error{constructor(e,t){super(af(e,t)),this.code=e}};function af(n,e){return`${`NG0${Math.abs(n)}`}${e?": "+e:""}`}var gT=Symbol("InputSignalNode#UNSET"),PV=ye(P({},Ty),{transformFn:void 0,applyValueToInputSignal(n,e){Qh(n,e)}});function vT(n,e){let t=Object.create(PV);t.value=n,t.transformFn=e?.transform;function i(){if(Gh(t),t.value===gT)throw new W(-950,!1);return t.value}return i[yr]=t,i}function du(n){return{toString:n}.toString()}var _p="__parameters__";function VV(n){return function(...t){if(n){let i=n(...t);for(let r in i)this[r]=i[r]}}}function yT(n,e,t){return du(()=>{let i=VV(e);function r(...s){if(this instanceof r)return i.apply(this,s),this;let o=new r(...s);return a.annotation=o,a;function a(l,c,u){let p=l.hasOwnProperty(_p)?l[_p]:Object.defineProperty(l,_p,{value:[]})[_p];for(;p.length<=u;)p.push(null);return(p[u]=p[u]||[]).push(o),l}}return t&&(r.prototype=Object.create(t.prototype)),r.prototype.ngMetadataName=n,r.annotationCls=r,r})}var kn=globalThis;function gt(n){for(let e in n)if(n[e]===gt)return e;throw Error("Could not find renamed property on target object.")}function BV(n,e){for(let t in e)e.hasOwnProperty(t)&&!n.hasOwnProperty(t)&&(n[t]=e[t])}function qn(n){if(typeof n=="string")return n;if(Array.isArray(n))return"["+n.map(qn).join(", ")+"]";if(n==null)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;let e=n.toString();if(e==null)return""+e;let t=e.indexOf(`
`);return t===-1?e:e.substring(0,t)}function s_(n,e){return n==null||n===""?e===null?"":e:e==null||e===""?n:n+" "+e}var jV=gt({__forward_ref__:gt});function Yn(n){return n.__forward_ref__=Yn,n.toString=function(){return qn(this())},n}function Gn(n){return _T(n)?n():n}function _T(n){return typeof n=="function"&&n.hasOwnProperty(jV)&&n.__forward_ref__===Yn}function H(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function Qe(n){return{providers:n.providers||[],imports:n.imports||[]}}function lf(n){return ED(n,xT)||ED(n,CT)}function bT(n){return lf(n)!==null}function ED(n,e){return n.hasOwnProperty(e)?n[e]:null}function HV(n){let e=n&&(n[xT]||n[CT]);return e||null}function DD(n){return n&&(n.hasOwnProperty(TD)||n.hasOwnProperty(zV))?n[TD]:null}var xT=gt({\u0275prov:gt}),TD=gt({\u0275inj:gt}),CT=gt({ngInjectableDef:gt}),zV=gt({ngInjectorDef:gt}),de=class{constructor(e,t){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,typeof t=="number"?this.__NG_ELEMENT_ID__=t:t!==void 0&&(this.\u0275prov=H({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function wT(n){return n&&!!n.\u0275providers}var $V=gt({\u0275cmp:gt}),UV=gt({\u0275dir:gt}),GV=gt({\u0275pipe:gt}),qV=gt({\u0275mod:gt}),Rp=gt({\u0275fac:gt}),nu=gt({__NG_ELEMENT_ID__:gt}),AD=gt({__NG_ENV_ID__:gt});function wr(n){return typeof n=="string"?n:n==null?"":String(n)}function WV(n){return typeof n=="function"?n.name||n.toString():typeof n=="object"&&n!=null&&typeof n.type=="function"?n.type.name||n.type.toString():wr(n)}function YV(n,e){let t=e?`. Dependency path: ${e.join(" > ")} > ${n}`:"";throw new W(-200,n)}function hb(n,e){throw new W(-201,!1)}var je=function(n){return n[n.Default=0]="Default",n[n.Host=1]="Host",n[n.Self=2]="Self",n[n.SkipSelf=4]="SkipSelf",n[n.Optional=8]="Optional",n}(je||{}),o_;function ST(){return o_}function ci(n){let e=o_;return o_=n,e}function ET(n,e,t){let i=lf(n);if(i&&i.providedIn=="root")return i.value===void 0?i.value=i.factory():i.value;if(t&je.Optional)return null;if(e!==void 0)return e;hb(n,"Injector")}var QV={},ru=QV,a_="__NG_DI_FLAG__",Op="ngTempTokenPath",XV="ngTokenPath",ZV=/\n/gm,KV="\u0275",ID="__source",pl;function JV(){return pl}function Vs(n){let e=pl;return pl=n,e}function e3(n,e=je.Default){if(pl===void 0)throw new W(-203,!1);return pl===null?ET(n,void 0,e):pl.get(n,e&je.Optional?null:void 0,e)}function $(n,e=je.Default){return(ST()||e3)(Gn(n),e)}function B(n,e=je.Default){return $(n,cf(e))}function cf(n){return typeof n>"u"||typeof n=="number"?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function l_(n){let e=[];for(let t=0;t<n.length;t++){let i=Gn(n[t]);if(Array.isArray(i)){if(i.length===0)throw new W(900,!1);let r,s=je.Default;for(let o=0;o<i.length;o++){let a=i[o],l=t3(a);typeof l=="number"?l===-1?r=a.token:s|=l:r=a}e.push($(r,s))}else e.push($(i))}return e}function DT(n,e){return n[a_]=e,n.prototype[a_]=e,n}function t3(n){return n[a_]}function n3(n,e,t,i){let r=n[Op];throw e[ID]&&r.unshift(e[ID]),n.message=i3(`
`+n.message,r,t,i),n[XV]=r,n[Op]=null,n}function i3(n,e,t,i=null){n=n&&n.charAt(0)===`
`&&n.charAt(1)==KV?n.slice(2):n;let r=qn(e);if(Array.isArray(e))r=e.map(qn).join(" -> ");else if(typeof e=="object"){let s=[];for(let o in e)if(e.hasOwnProperty(o)){let a=e[o];s.push(o+":"+(typeof a=="string"?JSON.stringify(a):qn(a)))}r=`{${s.join(", ")}}`}return`${t}${i?"("+i+")":""}[${r}]: ${n.replace(ZV,`
  `)}`}var hu=DT(yT("Optional"),8);var uf=DT(yT("SkipSelf"),4);function ea(n,e){let t=n.hasOwnProperty(Rp);return t?n[Rp]:null}function r3(n,e,t){if(n.length!==e.length)return!1;for(let i=0;i<n.length;i++){let r=n[i],s=e[i];if(t&&(r=t(r),s=t(s)),s!==r)return!1}return!0}function s3(n){return n.flat(Number.POSITIVE_INFINITY)}function pb(n,e){n.forEach(t=>Array.isArray(t)?pb(t,e):e(t))}function TT(n,e,t){e>=n.length?n.push(t):n.splice(e,0,t)}function Lp(n,e){return e>=n.length-1?n.pop():n.splice(e,1)[0]}function o3(n,e){let t=[];for(let i=0;i<n;i++)t.push(e);return t}function a3(n,e,t,i){let r=n.length;if(r==e)n.push(t,i);else if(r===1)n.push(i,n[0]),n[0]=t;else{for(r--,n.push(n[r-1],n[r]);r>e;){let s=r-2;n[r]=n[s],r--}n[e]=t,n[e+1]=i}}function df(n,e,t){let i=pu(n,e);return i>=0?n[i|1]=t:(i=~i,a3(n,i,e,t)),i}function Gy(n,e){let t=pu(n,e);if(t>=0)return n[t|1]}function pu(n,e){return l3(n,e,1)}function l3(n,e,t){let i=0,r=n.length>>t;for(;r!==i;){let s=i+(r-i>>1),o=n[s<<t];if(e===o)return s<<t;o>e?r=s:i=s+1}return~(r<<t)}var ml={},ui=[],gl=new de(""),AT=new de("",-1),IT=new de(""),Np=class{get(e,t=ru){if(t===ru){let i=new Error(`NullInjectorError: No provider for ${qn(e)}!`);throw i.name="NullInjectorError",i}return t}},MT=function(n){return n[n.OnPush=0]="OnPush",n[n.Default=1]="Default",n}(MT||{}),Sr=function(n){return n[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",n}(Sr||{}),Hs=function(n){return n[n.None=0]="None",n[n.SignalBased=1]="SignalBased",n[n.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",n}(Hs||{});function c3(n,e,t){let i=n.length;for(;;){let r=n.indexOf(e,t);if(r===-1)return r;if(r===0||n.charCodeAt(r-1)<=32){let s=e.length;if(r+s===i||n.charCodeAt(r+s)<=32)return r}t=r+1}}function c_(n,e,t){let i=0;for(;i<t.length;){let r=t[i];if(typeof r=="number"){if(r!==0)break;i++;let s=t[i++],o=t[i++],a=t[i++];n.setAttribute(e,o,a,s)}else{let s=r,o=t[++i];u3(s)?n.setProperty(e,s,o):n.setAttribute(e,s,o),i++}}return i}function kT(n){return n===3||n===4||n===6}function u3(n){return n.charCodeAt(0)===64}function su(n,e){if(!(e===null||e.length===0))if(n===null||n.length===0)n=e.slice();else{let t=-1;for(let i=0;i<e.length;i++){let r=e[i];typeof r=="number"?t=r:t===0||(t===-1||t===2?MD(n,t,r,null,e[++i]):MD(n,t,r,null,null))}}return n}function MD(n,e,t,i,r){let s=0,o=n.length;if(e===-1)o=-1;else for(;s<n.length;){let a=n[s++];if(typeof a=="number"){if(a===e){o=-1;break}else if(a>e){o=s-1;break}}}for(;s<n.length;){let a=n[s];if(typeof a=="number")break;if(a===t){if(i===null){r!==null&&(n[s+1]=r);return}else if(i===n[s+1]){n[s+2]=r;return}}s++,i!==null&&s++,r!==null&&s++}o!==-1&&(n.splice(o,0,e),s=o+1),n.splice(s++,0,t),i!==null&&n.splice(s++,0,i),r!==null&&n.splice(s++,0,r)}var RT="ng-template";function d3(n,e,t,i){let r=0;if(i){for(;r<e.length&&typeof e[r]=="string";r+=2)if(e[r]==="class"&&c3(e[r+1].toLowerCase(),t,0)!==-1)return!0}else if(fb(n))return!1;if(r=e.indexOf(1,r),r>-1){let s;for(;++r<e.length&&typeof(s=e[r])=="string";)if(s.toLowerCase()===t)return!0}return!1}function fb(n){return n.type===4&&n.value!==RT}function h3(n,e,t){let i=n.type===4&&!t?RT:n.value;return e===i}function p3(n,e,t){let i=4,r=n.attrs,s=r!==null?g3(r):0,o=!1;for(let a=0;a<e.length;a++){let l=e[a];if(typeof l=="number"){if(!o&&!Ji(i)&&!Ji(l))return!1;if(o&&Ji(l))continue;o=!1,i=l|i&1;continue}if(!o)if(i&4){if(i=2|i&1,l!==""&&!h3(n,l,t)||l===""&&e.length===1){if(Ji(i))return!1;o=!0}}else if(i&8){if(r===null||!d3(n,r,l,t)){if(Ji(i))return!1;o=!0}}else{let c=e[++a],u=f3(l,r,fb(n),t);if(u===-1){if(Ji(i))return!1;o=!0;continue}if(c!==""){let p;if(u>s?p="":p=r[u+1].toLowerCase(),i&2&&c!==p){if(Ji(i))return!1;o=!0}}}}return Ji(i)||o}function Ji(n){return(n&1)===0}function f3(n,e,t,i){if(e===null)return-1;let r=0;if(i||!t){let s=!1;for(;r<e.length;){let o=e[r];if(o===n)return r;if(o===3||o===6)s=!0;else if(o===1||o===2){let a=e[++r];for(;typeof a=="string";)a=e[++r];continue}else{if(o===4)break;if(o===0){r+=4;continue}}r+=s?1:2}return-1}else return v3(e,n)}function OT(n,e,t=!1){for(let i=0;i<e.length;i++)if(p3(n,e[i],t))return!0;return!1}function m3(n){let e=n.attrs;if(e!=null){let t=e.indexOf(5);if(!(t&1))return e[t+1]}return null}function g3(n){for(let e=0;e<n.length;e++){let t=n[e];if(kT(t))return e}return n.length}function v3(n,e){let t=n.indexOf(4);if(t>-1)for(t++;t<n.length;){let i=n[t];if(typeof i=="number")return-1;if(i===e)return t;t++}return-1}function y3(n,e){e:for(let t=0;t<e.length;t++){let i=e[t];if(n.length===i.length){for(let r=0;r<n.length;r++)if(n[r]!==i[r])continue e;return!0}}return!1}function kD(n,e){return n?":not("+e.trim()+")":e}function _3(n){let e=n[0],t=1,i=2,r="",s=!1;for(;t<n.length;){let o=n[t];if(typeof o=="string")if(i&2){let a=n[++t];r+="["+o+(a.length>0?'="'+a+'"':"")+"]"}else i&8?r+="."+o:i&4&&(r+=" "+o);else r!==""&&!Ji(o)&&(e+=kD(s,r),r=""),i=o,s=s||!Ji(i);t++}return r!==""&&(e+=kD(s,r)),e}function b3(n){return n.map(_3).join(",")}function x3(n){let e=[],t=[],i=1,r=2;for(;i<n.length;){let s=n[i];if(typeof s=="string")r===2?s!==""&&e.push(s,n[++i]):r===8&&t.push(s);else{if(!Ji(r))break;r=s}i++}return{attrs:e,classes:t}}function A(n){return du(()=>{let e=VT(n),t=ye(P({},e),{decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===MT.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&n.dependencies||null,getStandaloneInjector:null,signals:n.signals??!1,data:n.data||{},encapsulation:n.encapsulation||Sr.Emulated,styles:n.styles||ui,_:null,schemas:n.schemas||null,tView:null,id:""});BT(t);let i=n.dependencies;return t.directiveDefs=OD(i,!1),t.pipeDefs=OD(i,!0),t.id=S3(t),t})}function C3(n){return zs(n)||LT(n)}function w3(n){return n!==null}function Xe(n){return du(()=>({type:n.type,bootstrap:n.bootstrap||ui,declarations:n.declarations||ui,imports:n.imports||ui,exports:n.exports||ui,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function RD(n,e){if(n==null)return ml;let t={};for(let i in n)if(n.hasOwnProperty(i)){let r=n[i],s,o,a=Hs.None;Array.isArray(r)?(a=r[0],s=r[1],o=r[2]??s):(s=r,o=r),e?(t[s]=a!==Hs.None?[i,a]:i,e[s]=o):t[s]=i}return t}function Ue(n){return du(()=>{let e=VT(n);return BT(e),e})}function mb(n){return{type:n.type,name:n.name,factory:null,pure:n.pure!==!1,standalone:n.standalone===!0,onDestroy:n.type.prototype.ngOnDestroy||null}}function zs(n){return n[$V]||null}function LT(n){return n[UV]||null}function NT(n){return n[GV]||null}function FT(n){let e=zs(n)||LT(n)||NT(n);return e!==null?e.standalone:!1}function PT(n,e){let t=n[qV]||null;if(!t&&e===!0)throw new Error(`Type ${qn(n)} does not have '\u0275mod' property.`);return t}function VT(n){let e={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:n.inputs||ml,exportAs:n.exportAs||null,standalone:n.standalone===!0,signals:n.signals===!0,selectors:n.selectors||ui,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:RD(n.inputs,e),outputs:RD(n.outputs),debugInfo:null}}function BT(n){n.features?.forEach(e=>e(n))}function OD(n,e){if(!n)return null;let t=e?NT:C3;return()=>(typeof n=="function"?n():n).map(i=>t(i)).filter(w3)}function S3(n){let e=0,t=[n.selectors,n.ngContentSelectors,n.hostVars,n.hostAttrs,n.consts,n.vars,n.decls,n.encapsulation,n.standalone,n.signals,n.exportAs,JSON.stringify(n.inputs),JSON.stringify(n.outputs),Object.getOwnPropertyNames(n.type.prototype),!!n.contentQueries,!!n.viewQuery].join("|");for(let r of t)e=Math.imul(31,e)+r.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function Dl(n){return{\u0275providers:n}}function gb(...n){return{\u0275providers:jT(!0,n),\u0275fromNgModule:!0}}function jT(n,...e){let t=[],i=new Set,r,s=o=>{t.push(o)};return pb(e,o=>{let a=o;u_(a,s,[],i)&&(r||=[],r.push(a))}),r!==void 0&&HT(r,s),t}function HT(n,e){for(let t=0;t<n.length;t++){let{ngModule:i,providers:r}=n[t];vb(r,s=>{e(s,i)})}}function u_(n,e,t,i){if(n=Gn(n),!n)return!1;let r=null,s=DD(n),o=!s&&zs(n);if(!s&&!o){let l=n.ngModule;if(s=DD(l),s)r=l;else return!1}else{if(o&&!o.standalone)return!1;r=n}let a=i.has(r);if(o){if(a)return!1;if(i.add(r),o.dependencies){let l=typeof o.dependencies=="function"?o.dependencies():o.dependencies;for(let c of l)u_(c,e,t,i)}}else if(s){if(s.imports!=null&&!a){i.add(r);let c;try{pb(s.imports,u=>{u_(u,e,t,i)&&(c||=[],c.push(u))})}finally{}c!==void 0&&HT(c,e)}if(!a){let c=ea(r)||(()=>new r);e({provide:r,useFactory:c,deps:ui},r),e({provide:IT,useValue:r,multi:!0},r),e({provide:gl,useValue:()=>$(r),multi:!0},r)}let l=s.providers;if(l!=null&&!a){let c=n;vb(l,u=>{e(u,c)})}}else return!1;return r!==n&&n.providers!==void 0}function vb(n,e){for(let t of n)wT(t)&&(t=t.\u0275providers),Array.isArray(t)?vb(t,e):e(t)}var E3=gt({provide:String,useValue:gt});function zT(n){return n!==null&&typeof n=="object"&&E3 in n}function D3(n){return!!(n&&n.useExisting)}function T3(n){return!!(n&&n.useFactory)}function vl(n){return typeof n=="function"}function A3(n){return!!n.useClass}var hf=new de(""),Dp={},I3={},qy;function yb(){return qy===void 0&&(qy=new Np),qy}var Wn=class{},ou=class extends Wn{get destroyed(){return this._destroyed}constructor(e,t,i,r){super(),this.parent=t,this.source=i,this.scopes=r,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,h_(e,o=>this.processProvider(o)),this.records.set(AT,cl(void 0,this)),r.has("environment")&&this.records.set(Wn,cl(void 0,this));let s=this.records.get(hf);s!=null&&typeof s.value=="string"&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(IT,ui,je.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;let e=Ve(null);try{for(let i of this._ngOnDestroyHooks)i.ngOnDestroy();let t=this._onDestroyHooks;this._onDestroyHooks=[];for(let i of t)i()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),Ve(e)}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();let t=Vs(this),i=ci(void 0),r;try{return e()}finally{Vs(t),ci(i)}}get(e,t=ru,i=je.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(AD))return e[AD](this);i=cf(i);let r,s=Vs(this),o=ci(void 0);try{if(!(i&je.SkipSelf)){let l=this.records.get(e);if(l===void 0){let c=L3(e)&&lf(e);c&&this.injectableDefInScope(c)?l=cl(d_(e),Dp):l=null,this.records.set(e,l)}if(l!=null)return this.hydrate(e,l)}let a=i&je.Self?yb():this.parent;return t=i&je.Optional&&t===ru?null:t,a.get(e,t)}catch(a){if(a.name==="NullInjectorError"){if((a[Op]=a[Op]||[]).unshift(qn(e)),s)throw a;return n3(a,e,"R3InjectorError",this.source)}else throw a}finally{ci(o),Vs(s)}}resolveInjectorInitializers(){let e=Ve(null),t=Vs(this),i=ci(void 0),r;try{let s=this.get(gl,ui,je.Self);for(let o of s)o()}finally{Vs(t),ci(i),Ve(e)}}toString(){let e=[],t=this.records;for(let i of t.keys())e.push(qn(i));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new W(205,!1)}processProvider(e){e=Gn(e);let t=vl(e)?e:Gn(e&&e.provide),i=k3(e);if(!vl(e)&&e.multi===!0){let r=this.records.get(t);r||(r=cl(void 0,Dp,!0),r.factory=()=>l_(r.multi),this.records.set(t,r)),t=e,r.multi.push(e)}this.records.set(t,i)}hydrate(e,t){let i=Ve(null);try{return t.value===Dp&&(t.value=I3,t.value=t.factory()),typeof t.value=="object"&&t.value&&O3(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}finally{Ve(i)}}injectableDefInScope(e){if(!e.providedIn)return!1;let t=Gn(e.providedIn);return typeof t=="string"?t==="any"||this.scopes.has(t):this.injectorDefTypes.has(t)}removeOnDestroy(e){let t=this._onDestroyHooks.indexOf(e);t!==-1&&this._onDestroyHooks.splice(t,1)}};function d_(n){let e=lf(n),t=e!==null?e.factory:ea(n);if(t!==null)return t;if(n instanceof de)throw new W(204,!1);if(n instanceof Function)return M3(n);throw new W(204,!1)}function M3(n){if(n.length>0)throw new W(204,!1);let t=HV(n);return t!==null?()=>t.factory(n):()=>new n}function k3(n){if(zT(n))return cl(void 0,n.useValue);{let e=$T(n);return cl(e,Dp)}}function $T(n,e,t){let i;if(vl(n)){let r=Gn(n);return ea(r)||d_(r)}else if(zT(n))i=()=>Gn(n.useValue);else if(T3(n))i=()=>n.useFactory(...l_(n.deps||[]));else if(D3(n))i=()=>$(Gn(n.useExisting));else{let r=Gn(n&&(n.useClass||n.provide));if(R3(n))i=()=>new r(...l_(n.deps));else return ea(r)||d_(r)}return i}function cl(n,e,t=!1){return{factory:n,value:e,multi:t?[]:void 0}}function R3(n){return!!n.deps}function O3(n){return n!==null&&typeof n=="object"&&typeof n.ngOnDestroy=="function"}function L3(n){return typeof n=="function"||typeof n=="object"&&n instanceof de}function h_(n,e){for(let t of n)Array.isArray(t)?h_(t,e):t&&wT(t)?h_(t.\u0275providers,e):e(t)}function ji(n,e){n instanceof ou&&n.assertNotDestroyed();let t,i=Vs(n),r=ci(void 0);try{return e()}finally{Vs(i),ci(r)}}function UT(){return ST()!==void 0||JV()!=null}function N3(n){if(!UT())throw new W(-203,!1)}function F3(n){return typeof n=="function"}var as=0,Ie=1,De=2,Ln=3,tr=4,di=5,yl=6,Fp=7,Rn=8,_l=9,Er=10,Pt=11,au=12,LD=13,Tl=14,Ei=15,ta=16,ul=17,ss=18,pf=19,GT=20,Bs=21,Wy=22,Vi=23,gn=25,qT=1;var na=7,Pp=8,bl=9,On=10,Vp=function(n){return n[n.None=0]="None",n[n.HasTransplantedViews=2]="HasTransplantedViews",n}(Vp||{});function js(n){return Array.isArray(n)&&typeof n[qT]=="object"}function ls(n){return Array.isArray(n)&&n[qT]===!0}function _b(n){return(n.flags&4)!==0}function ff(n){return n.componentOffset>-1}function mf(n){return(n.flags&1)===1}function $s(n){return!!n.template}function p_(n){return(n[De]&512)!==0}var f_=class{constructor(e,t,i){this.previousValue=e,this.currentValue=t,this.firstChange=i}isFirstChange(){return this.firstChange}};function WT(n,e,t,i){e!==null?e.applyValueToInputSignal(e,i):n[t]=i}function Ge(){return YT}function YT(n){return n.type.prototype.ngOnChanges&&(n.setInput=V3),P3}Ge.ngInherit=!0;function P3(){let n=XT(this),e=n?.current;if(e){let t=n.previous;if(t===ml)n.previous=e;else for(let i in e)t[i]=e[i];n.current=null,this.ngOnChanges(e)}}function V3(n,e,t,i,r){let s=this.declaredInputs[i],o=XT(n)||B3(n,{previous:ml,current:null}),a=o.current||(o.current={}),l=o.previous,c=l[s];a[s]=new f_(c&&c.currentValue,t,l===ml),WT(n,e,r,t)}var QT="__ngSimpleChanges__";function XT(n){return n[QT]||null}function B3(n,e){return n[QT]=e}var ND=null;var xr=function(n,e,t){ND?.(n,e,t)},ZT="svg",j3="math";function Dr(n){for(;Array.isArray(n);)n=n[as];return n}function KT(n,e){return Dr(e[n])}function Hi(n,e){return Dr(e[n.index])}function bb(n,e){return n.data[e]}function xb(n,e){return n[e]}function Ys(n,e){let t=e[n];return js(t)?t:t[as]}function H3(n){return(n[De]&4)===4}function Cb(n){return(n[De]&128)===128}function z3(n){return ls(n[Ln])}function Us(n,e){return e==null?null:n[e]}function JT(n){n[ul]=0}function eA(n){n[De]&1024||(n[De]|=1024,Cb(n)&&vf(n))}function $3(n,e){for(;n>0;)e=e[Tl],n--;return e}function gf(n){return!!(n[De]&9216||n[Vi]?.dirty)}function m_(n){n[Er].changeDetectionScheduler?.notify(8),n[De]&64&&(n[De]|=1024),gf(n)&&vf(n)}function vf(n){n[Er].changeDetectionScheduler?.notify(0);let e=ia(n);for(;e!==null&&!(e[De]&8192||(e[De]|=8192,!Cb(e)));)e=ia(e)}function tA(n,e){if((n[De]&256)===256)throw new W(911,!1);n[Bs]===null&&(n[Bs]=[]),n[Bs].push(e)}function U3(n,e){if(n[Bs]===null)return;let t=n[Bs].indexOf(e);t!==-1&&n[Bs].splice(t,1)}function ia(n){let e=n[Ln];return ls(e)?e[Ln]:e}var ke={lFrame:dA(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var nA=!1;function G3(){return ke.lFrame.elementDepthCount}function q3(){ke.lFrame.elementDepthCount++}function W3(){ke.lFrame.elementDepthCount--}function iA(){return ke.bindingsEnabled}function rA(){return ke.skipHydrationRootTNode!==null}function Y3(n){return ke.skipHydrationRootTNode===n}function Q3(){ke.skipHydrationRootTNode=null}function Ee(){return ke.lFrame.lView}function Bt(){return ke.lFrame.tView}function O(n){return ke.lFrame.contextLView=n,n[Rn]}function L(n){return ke.lFrame.contextLView=null,n}function bn(){let n=sA();for(;n!==null&&n.type===64;)n=n.parent;return n}function sA(){return ke.lFrame.currentTNode}function X3(){let n=ke.lFrame,e=n.currentTNode;return n.isParent?e:e.parent}function ua(n,e){let t=ke.lFrame;t.currentTNode=n,t.isParent=e}function wb(){return ke.lFrame.isParent}function Sb(){ke.lFrame.isParent=!1}function Z3(){return ke.lFrame.contextLView}function oA(){return nA}function FD(n){nA=n}function fu(){let n=ke.lFrame,e=n.bindingRootIndex;return e===-1&&(e=n.bindingRootIndex=n.tView.bindingStartIndex),e}function aA(){return ke.lFrame.bindingIndex}function K3(n){return ke.lFrame.bindingIndex=n}function Al(){return ke.lFrame.bindingIndex++}function yf(n){let e=ke.lFrame,t=e.bindingIndex;return e.bindingIndex=e.bindingIndex+n,t}function J3(){return ke.lFrame.inI18n}function eB(n,e){let t=ke.lFrame;t.bindingIndex=t.bindingRootIndex=n,g_(e)}function tB(){return ke.lFrame.currentDirectiveIndex}function g_(n){ke.lFrame.currentDirectiveIndex=n}function nB(n){let e=ke.lFrame.currentDirectiveIndex;return e===-1?null:n[e]}function lA(){return ke.lFrame.currentQueryIndex}function Eb(n){ke.lFrame.currentQueryIndex=n}function iB(n){let e=n[Ie];return e.type===2?e.declTNode:e.type===1?n[di]:null}function cA(n,e,t){if(t&je.SkipSelf){let r=e,s=n;for(;r=r.parent,r===null&&!(t&je.Host);)if(r=iB(s),r===null||(s=s[Tl],r.type&10))break;if(r===null)return!1;e=r,n=s}let i=ke.lFrame=uA();return i.currentTNode=e,i.lView=n,!0}function Db(n){let e=uA(),t=n[Ie];ke.lFrame=e,e.currentTNode=t.firstChild,e.lView=n,e.tView=t,e.contextLView=n,e.bindingIndex=t.bindingStartIndex,e.inI18n=!1}function uA(){let n=ke.lFrame,e=n===null?null:n.child;return e===null?dA(n):e}function dA(n){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return n!==null&&(n.child=e),e}function hA(){let n=ke.lFrame;return ke.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}var pA=hA;function Tb(){let n=hA();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function rB(n){return(ke.lFrame.contextLView=$3(n,ke.lFrame.contextLView))[Rn]}function Ir(){return ke.lFrame.selectedIndex}function ra(n){ke.lFrame.selectedIndex=n}function _f(){let n=ke.lFrame;return bb(n.tView,n.selectedIndex)}function ee(){ke.lFrame.currentNamespace=ZT}function zi(){sB()}function sB(){ke.lFrame.currentNamespace=null}function oB(){return ke.lFrame.currentNamespace}var fA=!0;function bf(){return fA}function xf(n){fA=n}function aB(n,e,t){let{ngOnChanges:i,ngOnInit:r,ngDoCheck:s}=e.type.prototype;if(i){let o=YT(e);(t.preOrderHooks??=[]).push(n,o),(t.preOrderCheckHooks??=[]).push(n,o)}r&&(t.preOrderHooks??=[]).push(0-n,r),s&&((t.preOrderHooks??=[]).push(n,s),(t.preOrderCheckHooks??=[]).push(n,s))}function Cf(n,e){for(let t=e.directiveStart,i=e.directiveEnd;t<i;t++){let s=n.data[t].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:a,ngAfterViewInit:l,ngAfterViewChecked:c,ngOnDestroy:u}=s;o&&(n.contentHooks??=[]).push(-t,o),a&&((n.contentHooks??=[]).push(t,a),(n.contentCheckHooks??=[]).push(t,a)),l&&(n.viewHooks??=[]).push(-t,l),c&&((n.viewHooks??=[]).push(t,c),(n.viewCheckHooks??=[]).push(t,c)),u!=null&&(n.destroyHooks??=[]).push(t,u)}}function Tp(n,e,t){mA(n,e,3,t)}function Ap(n,e,t,i){(n[De]&3)===t&&mA(n,e,t,i)}function Yy(n,e){let t=n[De];(t&3)===e&&(t&=16383,t+=1,n[De]=t)}function mA(n,e,t,i){let r=i!==void 0?n[ul]&65535:0,s=i??-1,o=e.length-1,a=0;for(let l=r;l<o;l++)if(typeof e[l+1]=="number"){if(a=e[l],i!=null&&a>=i)break}else e[l]<0&&(n[ul]+=65536),(a<s||s==-1)&&(lB(n,t,e,l),n[ul]=(n[ul]&4294901760)+l+2),l++}function PD(n,e){xr(4,n,e);let t=Ve(null);try{e.call(n)}finally{Ve(t),xr(5,n,e)}}function lB(n,e,t,i){let r=t[i]<0,s=t[i+1],o=r?-t[i]:t[i],a=n[o];r?n[De]>>14<n[ul]>>16&&(n[De]&3)===e&&(n[De]+=16384,PD(a,s)):PD(a,s)}var fl=-1,sa=class{constructor(e,t,i){this.factory=e,this.resolving=!1,this.canSeeViewProviders=t,this.injectImpl=i}};function cB(n){return n instanceof sa}function uB(n){return(n.flags&8)!==0}function dB(n){return(n.flags&16)!==0}var Qy={},v_=class{constructor(e,t){this.injector=e,this.parentInjector=t}get(e,t,i){i=cf(i);let r=this.injector.get(e,Qy,i);return r!==Qy||t===Qy?r:this.parentInjector.get(e,t,i)}};function gA(n){return n!==fl}function Bp(n){return n&32767}function hB(n){return n>>16}function jp(n,e){let t=hB(n),i=e;for(;t>0;)i=i[Tl],t--;return i}var y_=!0;function Hp(n){let e=y_;return y_=n,e}var pB=256,vA=pB-1,yA=5,fB=0,Cr={};function mB(n,e,t){let i;typeof t=="string"?i=t.charCodeAt(0)||0:t.hasOwnProperty(nu)&&(i=t[nu]),i==null&&(i=t[nu]=fB++);let r=i&vA,s=1<<r;e.data[n+(r>>yA)]|=s}function zp(n,e){let t=_A(n,e);if(t!==-1)return t;let i=e[Ie];i.firstCreatePass&&(n.injectorIndex=e.length,Xy(i.data,n),Xy(e,null),Xy(i.blueprint,null));let r=Ab(n,e),s=n.injectorIndex;if(gA(r)){let o=Bp(r),a=jp(r,e),l=a[Ie].data;for(let c=0;c<8;c++)e[s+c]=a[o+c]|l[o+c]}return e[s+8]=r,s}function Xy(n,e){n.push(0,0,0,0,0,0,0,0,e)}function _A(n,e){return n.injectorIndex===-1||n.parent&&n.parent.injectorIndex===n.injectorIndex||e[n.injectorIndex+8]===null?-1:n.injectorIndex}function Ab(n,e){if(n.parent&&n.parent.injectorIndex!==-1)return n.parent.injectorIndex;let t=0,i=null,r=e;for(;r!==null;){if(i=SA(r),i===null)return fl;if(t++,r=r[Tl],i.injectorIndex!==-1)return i.injectorIndex|t<<16}return fl}function __(n,e,t){mB(n,e,t)}function gB(n,e){if(e==="class")return n.classes;if(e==="style")return n.styles;let t=n.attrs;if(t){let i=t.length,r=0;for(;r<i;){let s=t[r];if(kT(s))break;if(s===0)r=r+2;else if(typeof s=="number")for(r++;r<i&&typeof t[r]=="string";)r++;else{if(s===e)return t[r+1];r=r+2}}}return null}function bA(n,e,t){if(t&je.Optional||n!==void 0)return n;hb(e,"NodeInjector")}function xA(n,e,t,i){if(t&je.Optional&&i===void 0&&(i=null),!(t&(je.Self|je.Host))){let r=n[_l],s=ci(void 0);try{return r?r.get(e,i,t&je.Optional):ET(e,i,t&je.Optional)}finally{ci(s)}}return bA(i,e,t)}function CA(n,e,t,i=je.Default,r){if(n!==null){if(e[De]&2048&&!(i&je.Self)){let o=bB(n,e,t,i,Cr);if(o!==Cr)return o}let s=wA(n,e,t,i,Cr);if(s!==Cr)return s}return xA(e,t,i,r)}function wA(n,e,t,i,r){let s=yB(t);if(typeof s=="function"){if(!cA(e,n,i))return i&je.Host?bA(r,t,i):xA(e,t,i,r);try{let o;if(o=s(i),o==null&&!(i&je.Optional))hb(t);else return o}finally{pA()}}else if(typeof s=="number"){let o=null,a=_A(n,e),l=fl,c=i&je.Host?e[Ei][di]:null;for((a===-1||i&je.SkipSelf)&&(l=a===-1?Ab(n,e):e[a+8],l===fl||!BD(i,!1)?a=-1:(o=e[Ie],a=Bp(l),e=jp(l,e)));a!==-1;){let u=e[Ie];if(VD(s,a,u.data)){let p=vB(a,e,t,o,i,c);if(p!==Cr)return p}l=e[a+8],l!==fl&&BD(i,e[Ie].data[a+8]===c)&&VD(s,a,e)?(o=u,a=Bp(l),e=jp(l,e)):a=-1}}return r}function vB(n,e,t,i,r,s){let o=e[Ie],a=o.data[n+8],l=i==null?ff(a)&&y_:i!=o&&(a.type&3)!==0,c=r&je.Host&&s===a,u=Ip(a,o,t,l,c);return u!==null?oa(e,o,u,a):Cr}function Ip(n,e,t,i,r){let s=n.providerIndexes,o=e.data,a=s&1048575,l=n.directiveStart,c=n.directiveEnd,u=s>>20,p=i?a:a+u,m=r?a+u:c;for(let f=p;f<m;f++){let _=o[f];if(f<l&&t===_||f>=l&&_.type===t)return f}if(r){let f=o[l];if(f&&$s(f)&&f.type===t)return l}return null}function oa(n,e,t,i){let r=n[t],s=e.data;if(cB(r)){let o=r;o.resolving&&YV(WV(s[t]));let a=Hp(o.canSeeViewProviders);o.resolving=!0;let l,c=o.injectImpl?ci(o.injectImpl):null,u=cA(n,i,je.Default);try{r=n[t]=o.factory(void 0,s,n,i),e.firstCreatePass&&t>=i.directiveStart&&aB(t,s[t],e)}finally{c!==null&&ci(c),Hp(a),o.resolving=!1,pA()}}return r}function yB(n){if(typeof n=="string")return n.charCodeAt(0)||0;let e=n.hasOwnProperty(nu)?n[nu]:void 0;return typeof e=="number"?e>=0?e&vA:_B:e}function VD(n,e,t){let i=1<<n;return!!(t[e+(n>>yA)]&i)}function BD(n,e){return!(n&je.Self)&&!(n&je.Host&&e)}var Jo=class{constructor(e,t){this._tNode=e,this._lView=t}get(e,t,i){return CA(this._tNode,this._lView,e,cf(i),t)}};function _B(){return new Jo(bn(),Ee())}function Di(n){return du(()=>{let e=n.prototype.constructor,t=e[Rp]||b_(e),i=Object.prototype,r=Object.getPrototypeOf(n.prototype).constructor;for(;r&&r!==i;){let s=r[Rp]||b_(r);if(s&&s!==t)return s;r=Object.getPrototypeOf(r)}return s=>new s})}function b_(n){return _T(n)?()=>{let e=b_(Gn(n));return e&&e()}:ea(n)}function bB(n,e,t,i,r){let s=n,o=e;for(;s!==null&&o!==null&&o[De]&2048&&!(o[De]&512);){let a=wA(s,o,t,i|je.Self,Cr);if(a!==Cr)return a;let l=s.parent;if(!l){let c=o[GT];if(c){let u=c.get(t,Cr,i);if(u!==Cr)return u}l=SA(o),o=o[Tl]}s=l}return r}function SA(n){let e=n[Ie],t=e.type;return t===2?e.declTNode:t===1?n[di]:null}function Ib(n){return gB(bn(),n)}function jD(n,e=null,t=null,i){let r=EA(n,e,t,i);return r.resolveInjectorInitializers(),r}function EA(n,e=null,t=null,i,r=new Set){let s=[t||ui,gb(n)];return i=i||(typeof n=="object"?void 0:qn(n)),new ou(s,e||yb(),i||null,r)}var Nn=class n{static{this.THROW_IF_NOT_FOUND=ru}static{this.NULL=new Np}static create(e,t){if(Array.isArray(e))return jD({name:""},t,e,"");{let i=e.name??"";return jD({name:i},e.parent,e.providers,i)}}static{this.\u0275prov=H({token:n,providedIn:"any",factory:()=>$(AT)})}static{this.__NG_ELEMENT_ID__=-1}};var xB=new de("");xB.__NG_ELEMENT_ID__=n=>{let e=bn();if(e===null)throw new W(204,!1);if(e.type&2)return e.value;if(n&je.Optional)return null;throw new W(204,!1)};var CB="ngOriginalError";function Zy(n){return n[CB]}var DA=!0,wf=(()=>{class n{static{this.__NG_ELEMENT_ID__=wB}static{this.__NG_ENV_ID__=t=>t}}return n})(),x_=class extends wf{constructor(e){super(),this._lView=e}onDestroy(e){return tA(this._lView,e),()=>U3(this._lView,e)}};function wB(){return new x_(Ee())}var Qs=(()=>{class n{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new Be(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let t=this.taskId++;return this.pendingTasks.add(t),t}remove(t){this.pendingTasks.delete(t),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static{this.\u0275prov=H({token:n,providedIn:"root",factory:()=>new n})}}return n})();var C_=class extends ut{constructor(e=!1){super(),this.destroyRef=void 0,this.pendingTasks=void 0,this.__isAsync=e,UT()&&(this.destroyRef=B(wf,{optional:!0})??void 0,this.pendingTasks=B(Qs,{optional:!0})??void 0)}emit(e){let t=Ve(null);try{super.next(e)}finally{Ve(t)}}subscribe(e,t,i){let r=e,s=t||(()=>null),o=i;if(e&&typeof e=="object"){let l=e;r=l.next?.bind(l),s=l.error?.bind(l),o=l.complete?.bind(l)}this.__isAsync&&(s=this.wrapInTimeout(s),r&&(r=this.wrapInTimeout(r)),o&&(o=this.wrapInTimeout(o)));let a=super.subscribe({next:r,error:s,complete:o});return e instanceof jt&&e.add(a),a}wrapInTimeout(e){return t=>{let i=this.pendingTasks?.add();setTimeout(()=>{e(t),i!==void 0&&this.pendingTasks?.remove(i)})}}},oe=C_;function $p(...n){}function TA(n){let e,t;function i(){n=$p;try{t!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(t),e!==void 0&&clearTimeout(e)}catch{}}return e=setTimeout(()=>{n(),i()}),typeof requestAnimationFrame=="function"&&(t=requestAnimationFrame(()=>{n(),i()})),()=>i()}function HD(n){return queueMicrotask(()=>n()),()=>{n=$p}}var Mb="isAngularZone",Up=Mb+"_ID",SB=0,Ke=class n{constructor(e){this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new oe(!1),this.onMicrotaskEmpty=new oe(!1),this.onStable=new oe(!1),this.onError=new oe(!1);let{enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:i=!1,shouldCoalesceRunChangeDetection:r=!1,scheduleInRootZone:s=DA}=e;if(typeof Zone>"u")throw new W(908,!1);Zone.assertZonePatched();let o=this;o._nesting=0,o._outer=o._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(o._inner=o._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(o._inner=o._inner.fork(Zone.longStackTraceZoneSpec)),o.shouldCoalesceEventChangeDetection=!r&&i,o.shouldCoalesceRunChangeDetection=r,o.callbackScheduled=!1,o.scheduleInRootZone=s,TB(o)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(Mb)===!0}static assertInAngularZone(){if(!n.isInAngularZone())throw new W(909,!1)}static assertNotInAngularZone(){if(n.isInAngularZone())throw new W(909,!1)}run(e,t,i){return this._inner.run(e,t,i)}runTask(e,t,i,r){let s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+r,e,EB,$p,$p);try{return s.runTask(o,t,i)}finally{s.cancelTask(o)}}runGuarded(e,t,i){return this._inner.runGuarded(e,t,i)}runOutsideAngular(e){return this._outer.run(e)}},EB={};function kb(n){if(n._nesting==0&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function DB(n){if(n.isCheckStableRunning||n.callbackScheduled)return;n.callbackScheduled=!0;function e(){TA(()=>{n.callbackScheduled=!1,w_(n),n.isCheckStableRunning=!0,kb(n),n.isCheckStableRunning=!1})}n.scheduleInRootZone?Zone.root.run(()=>{e()}):n._outer.run(()=>{e()}),w_(n)}function TB(n){let e=()=>{DB(n)},t=SB++;n._inner=n._inner.fork({name:"angular",properties:{[Mb]:!0,[Up]:t,[Up+t]:!0},onInvokeTask:(i,r,s,o,a,l)=>{if(AB(l))return i.invokeTask(s,o,a,l);try{return zD(n),i.invokeTask(s,o,a,l)}finally{(n.shouldCoalesceEventChangeDetection&&o.type==="eventTask"||n.shouldCoalesceRunChangeDetection)&&e(),$D(n)}},onInvoke:(i,r,s,o,a,l,c)=>{try{return zD(n),i.invoke(s,o,a,l,c)}finally{n.shouldCoalesceRunChangeDetection&&!n.callbackScheduled&&!IB(l)&&e(),$D(n)}},onHasTask:(i,r,s,o)=>{i.hasTask(s,o),r===s&&(o.change=="microTask"?(n._hasPendingMicrotasks=o.microTask,w_(n),kb(n)):o.change=="macroTask"&&(n.hasPendingMacrotasks=o.macroTask))},onHandleError:(i,r,s,o)=>(i.handleError(s,o),n.runOutsideAngular(()=>n.onError.emit(o)),!1)})}function w_(n){n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&n.callbackScheduled===!0?n.hasPendingMicrotasks=!0:n.hasPendingMicrotasks=!1}function zD(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function $D(n){n._nesting--,kb(n)}var S_=class{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new oe,this.onMicrotaskEmpty=new oe,this.onStable=new oe,this.onError=new oe}run(e,t,i){return e.apply(t,i)}runGuarded(e,t,i){return e.apply(t,i)}runOutsideAngular(e){return e()}runTask(e,t,i,r){return e.apply(t,i)}};function AB(n){return AA(n,"__ignore_ng_zone__")}function IB(n){return AA(n,"__scheduler_tick__")}function AA(n,e){return!Array.isArray(n)||n.length!==1?!1:n[0]?.data?.[e]===!0}var Tr=class{constructor(){this._console=console}handleError(e){let t=this._findOriginalError(e);this._console.error("ERROR",e),t&&this._console.error("ORIGINAL ERROR",t)}_findOriginalError(e){let t=e&&Zy(e);for(;t&&Zy(t);)t=Zy(t);return t||null}},MB=new de("",{providedIn:"root",factory:()=>{let n=B(Ke),e=B(Tr);return t=>n.runOutsideAngular(()=>e.handleError(t))}}),E_=class{constructor(){this.destroyed=!1,this.listeners=null,this.errorHandler=B(Tr,{optional:!0}),this.destroyRef=B(wf),this.destroyRef.onDestroy(()=>{this.destroyed=!0,this.listeners=null})}subscribe(e){if(this.destroyed)throw new W(953,!1);return(this.listeners??=[]).push(e),{unsubscribe:()=>{let t=this.listeners?.indexOf(e);t!==void 0&&t!==-1&&this.listeners?.splice(t,1)}}}emit(e){if(this.destroyed)throw new W(953,!1);if(this.listeners===null)return;let t=Ve(null);try{for(let i of this.listeners)try{i(e)}catch(r){this.errorHandler?.handleError(r)}}finally{Ve(t)}}};function At(n){return new E_}function UD(n,e){return vT(n,e)}function kB(n){return vT(gT,n)}var _e=(UD.required=kB,UD);function RB(){return Il(bn(),Ee())}function Il(n,e){return new rt(Hi(n,e))}var rt=(()=>{class n{constructor(t){this.nativeElement=t}static{this.__NG_ELEMENT_ID__=RB}}return n})();function OB(n){return n instanceof rt?n.nativeElement:n}function LB(){return this._results[Symbol.iterator]()}var D_=class n{get changes(){return this._changes??=new oe}constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._onDirty=void 0,this._results=[],this._changesDetected=!1,this._changes=void 0,this.length=0,this.first=void 0,this.last=void 0;let t=n.prototype;t[Symbol.iterator]||(t[Symbol.iterator]=LB)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,t){return this._results.reduce(e,t)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,t){this.dirty=!1;let i=s3(e);(this._changesDetected=!r3(this._results,i,t))&&(this._results=i,this.length=i.length,this.last=i[this.length-1],this.first=i[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}onDirty(e){this._onDirty=e}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}};function IA(n){return(n.flags&128)===128}var MA=new Map,NB=0;function FB(){return NB++}function PB(n){MA.set(n[pf],n)}function T_(n){MA.delete(n[pf])}var GD="__ngContext__";function Gs(n,e){js(e)?(n[GD]=e[pf],PB(e)):n[GD]=e}function kA(n){return OA(n[au])}function RA(n){return OA(n[tr])}function OA(n){for(;n!==null&&!ls(n);)n=n[tr];return n}var A_;function LA(n){A_=n}function NA(){if(A_!==void 0)return A_;if(typeof document<"u")return document;throw new W(210,!1)}var Sf=new de("",{providedIn:"root",factory:()=>VB}),VB="ng",Rb=new de(""),xn=new de("",{providedIn:"platform",factory:()=>"unknown"});var Ob=new de(""),Lb=new de("",{providedIn:"root",factory:()=>NA().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var BB="h",jB="b";var HB=()=>null;function Nb(n,e,t=!1){return HB(n,e,t)}var FA=!1,zB=new de("",{providedIn:"root",factory:()=>FA});var bp;function PA(){if(bp===void 0&&(bp=null,kn.trustedTypes))try{bp=kn.trustedTypes.createPolicy("angular",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return bp}function Ef(n){return PA()?.createHTML(n)||n}function $B(n){return PA()?.createScriptURL(n)||n}var xp;function VA(){if(xp===void 0&&(xp=null,kn.trustedTypes))try{xp=kn.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return xp}function qD(n){return VA()?.createHTML(n)||n}function WD(n){return VA()?.createScriptURL(n)||n}var Gp=class{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${mT})`}};function da(n){return n instanceof Gp?n.changingThisBreaksApplicationSecurity:n}function Df(n,e){let t=UB(n);if(t!=null&&t!==e){if(t==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${t} (see ${mT})`)}return t===e}function UB(n){return n instanceof Gp&&n.getTypeName()||null}function GB(n){let e=new M_(n);return qB()?new I_(e):e}var I_=class{constructor(e){this.inertDocumentHelper=e}getInertBodyElement(e){e="<body><remove></remove>"+e;try{let t=new window.DOMParser().parseFromString(Ef(e),"text/html").body;return t===null?this.inertDocumentHelper.getInertBodyElement(e):(t.firstChild?.remove(),t)}catch{return null}}},M_=class{constructor(e){this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(e){let t=this.inertDocument.createElement("template");return t.innerHTML=Ef(e),t}};function qB(){try{return!!new window.DOMParser().parseFromString(Ef(""),"text/html")}catch{return!1}}var WB=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function Fb(n){return n=String(n),n.match(WB)?n:"unsafe:"+n}function cs(n){let e={};for(let t of n.split(","))e[t]=!0;return e}function mu(...n){let e={};for(let t of n)for(let i in t)t.hasOwnProperty(i)&&(e[i]=!0);return e}var BA=cs("area,br,col,hr,img,wbr"),jA=cs("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),HA=cs("rp,rt"),YB=mu(HA,jA),QB=mu(jA,cs("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),XB=mu(HA,cs("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),YD=mu(BA,QB,XB,YB),zA=cs("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),ZB=cs("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),KB=cs("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext"),JB=mu(zA,ZB,KB),ej=cs("script,style,template"),k_=class{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(e){let t=e.firstChild,i=!0,r=[];for(;t;){if(t.nodeType===Node.ELEMENT_NODE?i=this.startElement(t):t.nodeType===Node.TEXT_NODE?this.chars(t.nodeValue):this.sanitizedSomething=!0,i&&t.firstChild){r.push(t),t=ij(t);continue}for(;t;){t.nodeType===Node.ELEMENT_NODE&&this.endElement(t);let s=nj(t);if(s){t=s;break}t=r.pop()}}return this.buf.join("")}startElement(e){let t=QD(e).toLowerCase();if(!YD.hasOwnProperty(t))return this.sanitizedSomething=!0,!ej.hasOwnProperty(t);this.buf.push("<"),this.buf.push(t);let i=e.attributes;for(let r=0;r<i.length;r++){let s=i.item(r),o=s.name,a=o.toLowerCase();if(!JB.hasOwnProperty(a)){this.sanitizedSomething=!0;continue}let l=s.value;zA[a]&&(l=Fb(l)),this.buf.push(" ",o,'="',XD(l),'"')}return this.buf.push(">"),!0}endElement(e){let t=QD(e).toLowerCase();YD.hasOwnProperty(t)&&!BA.hasOwnProperty(t)&&(this.buf.push("</"),this.buf.push(t),this.buf.push(">"))}chars(e){this.buf.push(XD(e))}};function tj(n,e){return(n.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)!==Node.DOCUMENT_POSITION_CONTAINED_BY}function nj(n){let e=n.nextSibling;if(e&&n!==e.previousSibling)throw $A(e);return e}function ij(n){let e=n.firstChild;if(e&&tj(n,e))throw $A(e);return e}function QD(n){let e=n.nodeName;return typeof e=="string"?e:"FORM"}function $A(n){return new Error(`Failed to sanitize html because the element is clobbered: ${n.outerHTML}`)}var rj=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,sj=/([^\#-~ |!])/g;function XD(n){return n.replace(/&/g,"&amp;").replace(rj,function(e){let t=e.charCodeAt(0),i=e.charCodeAt(1);return"&#"+((t-55296)*1024+(i-56320)+65536)+";"}).replace(sj,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}var Cp;function UA(n,e){let t=null;try{Cp=Cp||GB(n);let i=e?String(e):"";t=Cp.getInertBodyElement(i);let r=5,s=i;do{if(r===0)throw new Error("Failed to sanitize html because the input is unstable");r--,i=s,s=t.innerHTML,t=Cp.getInertBodyElement(i)}while(i!==s);let a=new k_().sanitizeChildren(ZD(t)||t);return Ef(a)}finally{if(t){let i=ZD(t)||t;for(;i.firstChild;)i.firstChild.remove()}}}function ZD(n){return"content"in n&&oj(n)?n.content:null}function oj(n){return n.nodeType===Node.ELEMENT_NODE&&n.nodeName==="TEMPLATE"}var gu=function(n){return n[n.NONE=0]="NONE",n[n.HTML=1]="HTML",n[n.STYLE=2]="STYLE",n[n.SCRIPT=3]="SCRIPT",n[n.URL=4]="URL",n[n.RESOURCE_URL=5]="RESOURCE_URL",n}(gu||{});function GA(n){let e=Pb();return e?qD(e.sanitize(gu.HTML,n)||""):Df(n,"HTML")?qD(da(n)):UA(NA(),wr(n))}function hi(n){let e=Pb();return e?e.sanitize(gu.URL,n)||"":Df(n,"URL")?da(n):Fb(wr(n))}function aj(n){let e=Pb();if(e)return WD(e.sanitize(gu.RESOURCE_URL,n)||"");if(Df(n,"ResourceURL"))return WD(da(n));throw new W(904,!1)}function qA(n){return $B(n[0])}function lj(n,e){return e==="src"&&(n==="embed"||n==="frame"||n==="iframe"||n==="media"||n==="script")||e==="href"&&(n==="base"||n==="link")?aj:hi}function WA(n,e,t){return lj(e,t)(n)}function Pb(){let n=Ee();return n&&n[Er].sanitizer}var cj=/^>|^->|<!--|-->|--!>|<!-$/g,uj=/(<|>)/g,dj="\u200B$1\u200B";function hj(n){return n.replace(cj,e=>e.replace(uj,dj))}function Xs(n){return n.ownerDocument.defaultView}function YA(n){return n instanceof Function?n():n}function pj(n){return(n??B(Nn)).get(xn)==="browser"}var Ar=function(n){return n[n.Important=1]="Important",n[n.DashCase=2]="DashCase",n}(Ar||{}),fj;function Vb(n,e){return fj(n,e)}function dl(n,e,t,i,r){if(i!=null){let s,o=!1;ls(i)?s=i:js(i)&&(o=!0,i=i[as]);let a=Dr(i);n===0&&t!==null?r==null?JA(e,t,a):qp(e,t,a,r||null,!0):n===1&&t!==null?qp(e,t,a,r||null,!0):n===2?Aj(e,a,o):n===3&&e.destroyNode(a),s!=null&&Mj(e,n,s,t,r)}}function mj(n,e){return n.createText(e)}function gj(n,e,t){n.setValue(e,t)}function vj(n,e){return n.createComment(hj(e))}function QA(n,e,t){return n.createElement(e,t)}function yj(n,e){XA(n,e),e[as]=null,e[di]=null}function _j(n,e,t,i,r,s){i[as]=r,i[di]=e,If(n,i,t,1,r,s)}function XA(n,e){e[Er].changeDetectionScheduler?.notify(9),If(n,e,e[Pt],2,null,null)}function bj(n){let e=n[au];if(!e)return Ky(n[Ie],n);for(;e;){let t=null;if(js(e))t=e[au];else{let i=e[On];i&&(t=i)}if(!t){for(;e&&!e[tr]&&e!==n;)js(e)&&Ky(e[Ie],e),e=e[Ln];e===null&&(e=n),js(e)&&Ky(e[Ie],e),t=e&&e[tr]}e=t}}function xj(n,e,t,i){let r=On+i,s=t.length;i>0&&(t[r-1][tr]=e),i<s-On?(e[tr]=t[r],TT(t,On+i,e)):(t.push(e),e[tr]=null),e[Ln]=t;let o=e[ta];o!==null&&t!==o&&ZA(o,e);let a=e[ss];a!==null&&a.insertView(n),m_(e),e[De]|=128}function ZA(n,e){let t=n[bl],i=e[Ln];if(js(i))n[De]|=Vp.HasTransplantedViews;else{let r=i[Ln][Ei];e[Ei]!==r&&(n[De]|=Vp.HasTransplantedViews)}t===null?n[bl]=[e]:t.push(e)}function Bb(n,e){let t=n[bl],i=t.indexOf(e);t.splice(i,1)}function lu(n,e){if(n.length<=On)return;let t=On+e,i=n[t];if(i){let r=i[ta];r!==null&&r!==n&&Bb(r,i),e>0&&(n[t-1][tr]=i[tr]);let s=Lp(n,On+e);yj(i[Ie],i);let o=s[ss];o!==null&&o.detachView(s[Ie]),i[Ln]=null,i[tr]=null,i[De]&=-129}return i}function Tf(n,e){if(!(e[De]&256)){let t=e[Pt];t.destroyNode&&If(n,e,t,3,null,null),bj(e)}}function Ky(n,e){if(e[De]&256)return;let t=Ve(null);try{e[De]&=-129,e[De]|=256,e[Vi]&&Dy(e[Vi]),wj(n,e),Cj(n,e),e[Ie].type===1&&e[Pt].destroy();let i=e[ta];if(i!==null&&ls(e[Ln])){i!==e[Ln]&&Bb(i,e);let r=e[ss];r!==null&&r.detachView(n)}T_(e)}finally{Ve(t)}}function Cj(n,e){let t=n.cleanup,i=e[Fp];if(t!==null)for(let s=0;s<t.length-1;s+=2)if(typeof t[s]=="string"){let o=t[s+3];o>=0?i[o]():i[-o].unsubscribe(),s+=2}else{let o=i[t[s+1]];t[s].call(o)}i!==null&&(e[Fp]=null);let r=e[Bs];if(r!==null){e[Bs]=null;for(let s=0;s<r.length;s++){let o=r[s];o()}}}function wj(n,e){let t;if(n!=null&&(t=n.destroyHooks)!=null)for(let i=0;i<t.length;i+=2){let r=e[t[i]];if(!(r instanceof sa)){let s=t[i+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){let a=r[s[o]],l=s[o+1];xr(4,a,l);try{l.call(a)}finally{xr(5,a,l)}}else{xr(4,r,s);try{s.call(r)}finally{xr(5,r,s)}}}}}function KA(n,e,t){return Sj(n,e.parent,t)}function Sj(n,e,t){let i=e;for(;i!==null&&i.type&168;)e=i,i=e.parent;if(i===null)return t[as];{let{componentOffset:r}=i;if(r>-1){let{encapsulation:s}=n.data[i.directiveStart+r];if(s===Sr.None||s===Sr.Emulated)return null}return Hi(i,t)}}function qp(n,e,t,i,r){n.insertBefore(e,t,i,r)}function JA(n,e,t){n.appendChild(e,t)}function KD(n,e,t,i,r){i!==null?qp(n,e,t,i,r):JA(n,e,t)}function eI(n,e){return n.parentNode(e)}function Ej(n,e){return n.nextSibling(e)}function tI(n,e,t){return Tj(n,e,t)}function Dj(n,e,t){return n.type&40?Hi(n,t):null}var Tj=Dj,JD;function Af(n,e,t,i){let r=KA(n,i,e),s=e[Pt],o=i.parent||e[di],a=tI(o,i,e);if(r!=null)if(Array.isArray(t))for(let l=0;l<t.length;l++)KD(s,r,t[l],a,!1);else KD(s,r,t,a,!1);JD!==void 0&&JD(s,i,e,t,r)}function tu(n,e){if(e!==null){let t=e.type;if(t&3)return Hi(e,n);if(t&4)return R_(-1,n[e.index]);if(t&8){let i=e.child;if(i!==null)return tu(n,i);{let r=n[e.index];return ls(r)?R_(-1,r):Dr(r)}}else{if(t&128)return tu(n,e.next);if(t&32)return Vb(e,n)()||Dr(n[e.index]);{let i=nI(n,e);if(i!==null){if(Array.isArray(i))return i[0];let r=ia(n[Ei]);return tu(r,i)}else return tu(n,e.next)}}}return null}function nI(n,e){if(e!==null){let i=n[Ei][di],r=e.projection;return i.projection[r]}return null}function R_(n,e){let t=On+n+1;if(t<e.length){let i=e[t],r=i[Ie].firstChild;if(r!==null)return tu(i,r)}return e[na]}function Aj(n,e,t){n.removeChild(null,e,t)}function jb(n,e,t,i,r,s,o){for(;t!=null;){if(t.type===128){t=t.next;continue}let a=i[t.index],l=t.type;if(o&&e===0&&(a&&Gs(Dr(a),i),t.flags|=2),(t.flags&32)!==32)if(l&8)jb(n,e,t.child,i,r,s,!1),dl(e,n,r,a,s);else if(l&32){let c=Vb(t,i),u;for(;u=c();)dl(e,n,r,u,s);dl(e,n,r,a,s)}else l&16?iI(n,e,i,t,r,s):dl(e,n,r,a,s);t=o?t.projectionNext:t.next}}function If(n,e,t,i,r,s){jb(t,i,n.firstChild,e,r,s,!1)}function Ij(n,e,t){let i=e[Pt],r=KA(n,t,e),s=t.parent||e[di],o=tI(s,t,e);iI(i,0,e,t,r,o)}function iI(n,e,t,i,r,s){let o=t[Ei],l=o[di].projection[i.projection];if(Array.isArray(l))for(let c=0;c<l.length;c++){let u=l[c];dl(e,n,r,u,s)}else{let c=l,u=o[Ln];IA(i)&&(c.flags|=128),jb(n,e,c,u,r,s,!0)}}function Mj(n,e,t,i,r){let s=t[na],o=Dr(t);s!==o&&dl(e,n,i,s,r);for(let a=On;a<t.length;a++){let l=t[a];If(l[Ie],l,n,e,i,s)}}function kj(n,e,t,i,r){if(e)r?n.addClass(t,i):n.removeClass(t,i);else{let s=i.indexOf("-")===-1?void 0:Ar.DashCase;r==null?n.removeStyle(t,i,s):(typeof r=="string"&&r.endsWith("!important")&&(r=r.slice(0,-10),s|=Ar.Important),n.setStyle(t,i,r,s))}}function Rj(n,e,t){n.setAttribute(e,"style",t)}function rI(n,e,t){t===""?n.removeAttribute(e,"class"):n.setAttribute(e,"class",t)}function sI(n,e,t){let{mergedAttrs:i,classes:r,styles:s}=t;i!==null&&c_(n,e,i),r!==null&&rI(n,e,r),s!==null&&Rj(n,e,s)}var Fn={};function g(n=1){oI(Bt(),Ee(),Ir()+n,!1)}function oI(n,e,t,i){if(!i)if((e[De]&3)===3){let s=n.preOrderCheckHooks;s!==null&&Tp(e,s,t)}else{let s=n.preOrderHooks;s!==null&&Ap(e,s,0,t)}ra(t)}function C(n,e=je.Default){let t=Ee();if(t===null)return $(n,e);let i=bn();return CA(i,t,Gn(n),e)}function aI(){let n="invalid";throw new Error(n)}function lI(n,e,t,i,r,s){let o=Ve(null);try{let a=null;r&Hs.SignalBased&&(a=e[i][yr]),a!==null&&a.transformFn!==void 0&&(s=a.transformFn(s)),r&Hs.HasDecoratorInputTransform&&(s=n.inputTransforms[i].call(e,s)),n.setInput!==null?n.setInput(e,a,s,t,i):WT(e,a,i,s)}finally{Ve(o)}}function Oj(n,e){let t=n.hostBindingOpCodes;if(t!==null)try{for(let i=0;i<t.length;i++){let r=t[i];if(r<0)ra(~r);else{let s=r,o=t[++i],a=t[++i];eB(o,s);let l=e[s];a(2,l)}}}finally{ra(-1)}}function Mf(n,e,t,i,r,s,o,a,l,c,u){let p=e.blueprint.slice();return p[as]=r,p[De]=i|4|128|8|64,(c!==null||n&&n[De]&2048)&&(p[De]|=2048),JT(p),p[Ln]=p[Tl]=n,p[Rn]=t,p[Er]=o||n&&n[Er],p[Pt]=a||n&&n[Pt],p[_l]=l||n&&n[_l]||null,p[di]=s,p[pf]=FB(),p[yl]=u,p[GT]=c,p[Ei]=e.type==2?n[Ei]:p,p}function Ml(n,e,t,i,r){let s=n.data[e];if(s===null)s=Lj(n,e,t,i,r),J3()&&(s.flags|=32);else if(s.type&64){s.type=t,s.value=i,s.attrs=r;let o=X3();s.injectorIndex=o===null?-1:o.injectorIndex}return ua(s,!0),s}function Lj(n,e,t,i,r){let s=sA(),o=wb(),a=o?s:s&&s.parent,l=n.data[e]=jj(n,a,t,e,i,r);return n.firstChild===null&&(n.firstChild=l),s!==null&&(o?s.child==null&&l.parent!==null&&(s.child=l):s.next===null&&(s.next=l,l.prev=s)),l}function cI(n,e,t,i){if(t===0)return-1;let r=e.length;for(let s=0;s<t;s++)e.push(i),n.blueprint.push(i),n.data.push(null);return r}function uI(n,e,t,i,r){let s=Ir(),o=i&2;try{ra(-1),o&&e.length>gn&&oI(n,e,gn,!1),xr(o?2:0,r),t(i,r)}finally{ra(s),xr(o?3:1,r)}}function Hb(n,e,t){if(_b(e)){let i=Ve(null);try{let r=e.directiveStart,s=e.directiveEnd;for(let o=r;o<s;o++){let a=n.data[o];if(a.contentQueries){let l=t[o];a.contentQueries(1,l,o)}}}finally{Ve(i)}}}function zb(n,e,t){iA()&&(qj(n,e,t,Hi(t,e)),(t.flags&64)===64&&pI(n,e,t))}function $b(n,e,t=Hi){let i=e.localNames;if(i!==null){let r=e.index+1;for(let s=0;s<i.length;s+=2){let o=i[s+1],a=o===-1?t(e,n):n[o];n[r++]=a}}}function dI(n){let e=n.tView;return e===null||e.incompleteFirstPass?n.tView=Ub(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts,n.id):e}function Ub(n,e,t,i,r,s,o,a,l,c,u){let p=gn+i,m=p+r,f=Nj(p,m),_=typeof c=="function"?c():c;return f[Ie]={type:n,blueprint:f,template:t,queries:null,viewQuery:a,declTNode:e,data:f.slice().fill(null,p),bindingStartIndex:p,expandoStartIndex:m,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof s=="function"?s():s,pipeRegistry:typeof o=="function"?o():o,firstChild:null,schemas:l,consts:_,incompleteFirstPass:!1,ssrId:u}}function Nj(n,e){let t=[];for(let i=0;i<e;i++)t.push(i<n?null:Fn);return t}function Fj(n,e,t,i){let s=i.get(zB,FA)||t===Sr.ShadowDom,o=n.selectRootElement(e,s);return Pj(o),o}function Pj(n){Vj(n)}var Vj=()=>null;function Bj(n,e,t,i){let r=gI(e);r.push(t),n.firstCreatePass&&vI(n).push(i,r.length-1)}function jj(n,e,t,i,r,s){let o=e?e.injectorIndex:-1,a=0;return rA()&&(a|=128),{type:t,index:i,insertBeforeIndex:null,injectorIndex:o,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:r,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function eT(n,e,t,i,r){for(let s in e){if(!e.hasOwnProperty(s))continue;let o=e[s];if(o===void 0)continue;i??={};let a,l=Hs.None;Array.isArray(o)?(a=o[0],l=o[1]):a=o;let c=s;if(r!==null){if(!r.hasOwnProperty(s))continue;c=r[s]}n===0?tT(i,t,c,a,l):tT(i,t,c,a)}return i}function tT(n,e,t,i,r){let s;n.hasOwnProperty(t)?(s=n[t]).push(e,i):s=n[t]=[e,i],r!==void 0&&s.push(r)}function Hj(n,e,t){let i=e.directiveStart,r=e.directiveEnd,s=n.data,o=e.attrs,a=[],l=null,c=null;for(let u=i;u<r;u++){let p=s[u],m=t?t.get(p):null,f=m?m.inputs:null,_=m?m.outputs:null;l=eT(0,p.inputs,u,l,f),c=eT(1,p.outputs,u,c,_);let w=l!==null&&o!==null&&!fb(e)?iH(l,u,o):null;a.push(w)}l!==null&&(l.hasOwnProperty("class")&&(e.flags|=8),l.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=l,e.outputs=c}function zj(n){return n==="class"?"className":n==="for"?"htmlFor":n==="formaction"?"formAction":n==="innerHtml"?"innerHTML":n==="readonly"?"readOnly":n==="tabindex"?"tabIndex":n}function Gb(n,e,t,i,r,s,o,a){let l=Hi(e,t),c=e.inputs,u;!a&&c!=null&&(u=c[i])?(Wb(n,t,u,i,r),ff(e)&&$j(t,e.index)):e.type&3?(i=zj(i),r=o!=null?o(r,e.value||"",i):r,s.setProperty(l,i,r)):e.type&12}function $j(n,e){let t=Ys(e,n);t[De]&16||(t[De]|=64)}function qb(n,e,t,i){if(iA()){let r=i===null?null:{"":-1},s=Yj(n,t),o,a;s===null?o=a=null:[o,a]=s,o!==null&&hI(n,e,t,o,r,a),r&&Qj(t,i,r)}t.mergedAttrs=su(t.mergedAttrs,t.attrs)}function hI(n,e,t,i,r,s){for(let c=0;c<i.length;c++)__(zp(t,e),n,i[c].type);Zj(t,n.data.length,i.length);for(let c=0;c<i.length;c++){let u=i[c];u.providersResolver&&u.providersResolver(u)}let o=!1,a=!1,l=cI(n,e,i.length,null);for(let c=0;c<i.length;c++){let u=i[c];t.mergedAttrs=su(t.mergedAttrs,u.hostAttrs),Kj(n,t,e,l,u),Xj(l,u,r),u.contentQueries!==null&&(t.flags|=4),(u.hostBindings!==null||u.hostAttrs!==null||u.hostVars!==0)&&(t.flags|=64);let p=u.type.prototype;!o&&(p.ngOnChanges||p.ngOnInit||p.ngDoCheck)&&((n.preOrderHooks??=[]).push(t.index),o=!0),!a&&(p.ngOnChanges||p.ngDoCheck)&&((n.preOrderCheckHooks??=[]).push(t.index),a=!0),l++}Hj(n,t,s)}function Uj(n,e,t,i,r){let s=r.hostBindings;if(s){let o=n.hostBindingOpCodes;o===null&&(o=n.hostBindingOpCodes=[]);let a=~e.index;Gj(o)!=a&&o.push(a),o.push(t,i,s)}}function Gj(n){let e=n.length;for(;e>0;){let t=n[--e];if(typeof t=="number"&&t<0)return t}return 0}function qj(n,e,t,i){let r=t.directiveStart,s=t.directiveEnd;ff(t)&&Jj(e,t,n.data[r+t.componentOffset]),n.firstCreatePass||zp(t,e),Gs(i,e);let o=t.initialInputs;for(let a=r;a<s;a++){let l=n.data[a],c=oa(e,n,a,t);if(Gs(c,e),o!==null&&nH(e,a-r,c,l,t,o),$s(l)){let u=Ys(t.index,e);u[Rn]=oa(e,n,a,t)}}}function pI(n,e,t){let i=t.directiveStart,r=t.directiveEnd,s=t.index,o=tB();try{ra(s);for(let a=i;a<r;a++){let l=n.data[a],c=e[a];g_(a),(l.hostBindings!==null||l.hostVars!==0||l.hostAttrs!==null)&&Wj(l,c)}}finally{ra(-1),g_(o)}}function Wj(n,e){n.hostBindings!==null&&n.hostBindings(1,e)}function Yj(n,e){let t=n.directiveRegistry,i=null,r=null;if(t)for(let s=0;s<t.length;s++){let o=t[s];if(OT(e,o.selectors,!1))if(i||(i=[]),$s(o))if(o.findHostDirectiveDefs!==null){let a=[];r=r||new Map,o.findHostDirectiveDefs(o,a,r),i.unshift(...a,o);let l=a.length;O_(n,e,l)}else i.unshift(o),O_(n,e,0);else r=r||new Map,o.findHostDirectiveDefs?.(o,i,r),i.push(o)}return i===null?null:[i,r]}function O_(n,e,t){e.componentOffset=t,(n.components??=[]).push(e.index)}function Qj(n,e,t){if(e){let i=n.localNames=[];for(let r=0;r<e.length;r+=2){let s=t[e[r+1]];if(s==null)throw new W(-301,!1);i.push(e[r],s)}}}function Xj(n,e,t){if(t){if(e.exportAs)for(let i=0;i<e.exportAs.length;i++)t[e.exportAs[i]]=n;$s(e)&&(t[""]=n)}}function Zj(n,e,t){n.flags|=1,n.directiveStart=e,n.directiveEnd=e+t,n.providerIndexes=e}function Kj(n,e,t,i,r){n.data[i]=r;let s=r.factory||(r.factory=ea(r.type,!0)),o=new sa(s,$s(r),C);n.blueprint[i]=o,t[i]=o,Uj(n,e,i,cI(n,t,r.hostVars,Fn),r)}function Jj(n,e,t){let i=Hi(e,n),r=dI(t),s=n[Er].rendererFactory,o=16;t.signals?o=4096:t.onPush&&(o=64);let a=kf(n,Mf(n,r,null,o,i,e,null,s.createRenderer(i,t),null,null,null));n[e.index]=a}function eH(n,e,t,i,r,s){let o=Hi(n,e);tH(e[Pt],o,s,n.value,t,i,r)}function tH(n,e,t,i,r,s,o){if(s==null)n.removeAttribute(e,r,t);else{let a=o==null?wr(s):o(s,i||"",r);n.setAttribute(e,r,a,t)}}function nH(n,e,t,i,r,s){let o=s[e];if(o!==null)for(let a=0;a<o.length;){let l=o[a++],c=o[a++],u=o[a++],p=o[a++];lI(i,t,l,c,u,p)}}function iH(n,e,t){let i=null,r=0;for(;r<t.length;){let s=t[r];if(s===0){r+=4;continue}else if(s===5){r+=2;continue}if(typeof s=="number")break;if(n.hasOwnProperty(s)){i===null&&(i=[]);let o=n[s];for(let a=0;a<o.length;a+=3)if(o[a]===e){i.push(s,o[a+1],o[a+2],t[r+1]);break}}r+=2}return i}function fI(n,e,t,i){return[n,!0,0,e,null,i,null,t,null,null]}function mI(n,e){let t=n.contentQueries;if(t!==null){let i=Ve(null);try{for(let r=0;r<t.length;r+=2){let s=t[r],o=t[r+1];if(o!==-1){let a=n.data[o];Eb(s),a.contentQueries(2,e[o],o)}}}finally{Ve(i)}}}function kf(n,e){return n[au]?n[LD][tr]=e:n[au]=e,n[LD]=e,e}function L_(n,e,t){Eb(0);let i=Ve(null);try{e(n,t)}finally{Ve(i)}}function gI(n){return n[Fp]??=[]}function vI(n){return n.cleanup??=[]}function yI(n,e){let t=n[_l],i=t?t.get(Tr,null):null;i&&i.handleError(e)}function Wb(n,e,t,i,r){for(let s=0;s<t.length;){let o=t[s++],a=t[s++],l=t[s++],c=e[o],u=n.data[o];lI(u,c,i,a,l,r)}}function Yb(n,e,t){let i=KT(e,n);gj(n[Pt],i,t)}function rH(n,e){let t=Ys(e,n),i=t[Ie];sH(i,t);let r=t[as];r!==null&&t[yl]===null&&(t[yl]=Nb(r,t[_l])),Qb(i,t,t[Rn])}function sH(n,e){for(let t=e.length;t<n.blueprint.length;t++)e.push(n.blueprint[t])}function Qb(n,e,t){Db(e);try{let i=n.viewQuery;i!==null&&L_(1,i,t);let r=n.template;r!==null&&uI(n,e,r,1,t),n.firstCreatePass&&(n.firstCreatePass=!1),e[ss]?.finishViewCreation(n),n.staticContentQueries&&mI(n,e),n.staticViewQueries&&L_(2,n.viewQuery,t);let s=n.components;s!==null&&oH(e,s)}catch(i){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),i}finally{e[De]&=-5,Tb()}}function oH(n,e){for(let t=0;t<e.length;t++)rH(n,e[t])}function vu(n,e,t,i){let r=Ve(null);try{let s=e.tView,a=n[De]&4096?4096:16,l=Mf(n,s,t,a,null,e,null,null,i?.injector??null,i?.embeddedViewInjector??null,i?.dehydratedView??null),c=n[e.index];l[ta]=c;let u=n[ss];return u!==null&&(l[ss]=u.createEmbeddedView(s)),Qb(s,l,t),l}finally{Ve(r)}}function _I(n,e){let t=On+e;if(t<n.length)return n[t]}function xl(n,e){return!e||e.firstChild===null||IA(n)}function yu(n,e,t,i=!0){let r=e[Ie];if(xj(r,e,n,t),i){let o=R_(t,n),a=e[Pt],l=eI(a,n[na]);l!==null&&_j(r,n[di],a,e,l,o)}let s=e[yl];s!==null&&s.firstChild!==null&&(s.firstChild=null)}function bI(n,e){let t=lu(n,e);return t!==void 0&&Tf(t[Ie],t),t}function Wp(n,e,t,i,r=!1){for(;t!==null;){if(t.type===128){t=r?t.projectionNext:t.next;continue}let s=e[t.index];s!==null&&i.push(Dr(s)),ls(s)&&aH(s,i);let o=t.type;if(o&8)Wp(n,e,t.child,i);else if(o&32){let a=Vb(t,e),l;for(;l=a();)i.push(l)}else if(o&16){let a=nI(e,t);if(Array.isArray(a))i.push(...a);else{let l=ia(e[Ei]);Wp(l[Ie],l,a,i,!0)}}t=r?t.projectionNext:t.next}return i}function aH(n,e){for(let t=On;t<n.length;t++){let i=n[t],r=i[Ie].firstChild;r!==null&&Wp(i[Ie],i,r,e)}n[na]!==n[as]&&e.push(n[na])}var xI=[];function lH(n){return n[Vi]??cH(n)}function cH(n){let e=xI.pop()??Object.create(dH);return e.lView=n,e}function uH(n){n.lView[Vi]!==n&&(n.lView=null,xI.push(n))}var dH=ye(P({},Wc),{consumerIsAlwaysLive:!0,consumerMarkedDirty:n=>{vf(n.lView)},consumerOnSignalRead(){this.lView[Vi]=this}});function hH(n){let e=n[Vi]??Object.create(pH);return e.lView=n,e}var pH=ye(P({},Wc),{consumerIsAlwaysLive:!0,consumerMarkedDirty:n=>{let e=ia(n.lView);for(;e&&!CI(e[Ie]);)e=ia(e);e&&eA(e)},consumerOnSignalRead(){this.lView[Vi]=this}});function CI(n){return n.type!==2}var fH=100;function wI(n,e=!0,t=0){let i=n[Er],r=i.rendererFactory,s=!1;s||r.begin?.();try{mH(n,t)}catch(o){throw e&&yI(n,o),o}finally{s||(r.end?.(),i.inlineEffectRunner?.flush())}}function mH(n,e){let t=oA();try{FD(!0),N_(n,e);let i=0;for(;gf(n);){if(i===fH)throw new W(103,!1);i++,N_(n,1)}}finally{FD(t)}}function gH(n,e,t,i){let r=e[De];if((r&256)===256)return;let s=!1,o=!1;!s&&e[Er].inlineEffectRunner?.flush(),Db(e);let a=!0,l=null,c=null;s||(CI(n)?(c=lH(e),l=qh(c)):PE()===null?(a=!1,c=hH(e),l=qh(c)):e[Vi]&&(Dy(e[Vi]),e[Vi]=null));try{JT(e),K3(n.bindingStartIndex),t!==null&&uI(n,e,t,2,i);let u=(r&3)===3;if(!s)if(u){let f=n.preOrderCheckHooks;f!==null&&Tp(e,f,null)}else{let f=n.preOrderHooks;f!==null&&Ap(e,f,0,null),Yy(e,0)}if(o||vH(e),SI(e,0),n.contentQueries!==null&&mI(n,e),!s)if(u){let f=n.contentCheckHooks;f!==null&&Tp(e,f)}else{let f=n.contentHooks;f!==null&&Ap(e,f,1),Yy(e,1)}Oj(n,e);let p=n.components;p!==null&&DI(e,p,0);let m=n.viewQuery;if(m!==null&&L_(2,m,i),!s)if(u){let f=n.viewCheckHooks;f!==null&&Tp(e,f)}else{let f=n.viewHooks;f!==null&&Ap(e,f,2),Yy(e,2)}if(n.firstUpdatePass===!0&&(n.firstUpdatePass=!1),e[Wy]){for(let f of e[Wy])f();e[Wy]=null}s||(e[De]&=-73)}catch(u){throw s||vf(e),u}finally{c!==null&&(Sy(c,l),a&&uH(c)),Tb()}}function SI(n,e){for(let t=kA(n);t!==null;t=RA(t))for(let i=On;i<t.length;i++){let r=t[i];EI(r,e)}}function vH(n){for(let e=kA(n);e!==null;e=RA(e)){if(!(e[De]&Vp.HasTransplantedViews))continue;let t=e[bl];for(let i=0;i<t.length;i++){let r=t[i];eA(r)}}}function yH(n,e,t){let i=Ys(e,n);EI(i,t)}function EI(n,e){Cb(n)&&N_(n,e)}function N_(n,e){let i=n[Ie],r=n[De],s=n[Vi],o=!!(e===0&&r&16);if(o||=!!(r&64&&e===0),o||=!!(r&1024),o||=!!(s?.dirty&&Ey(s)),o||=!1,s&&(s.dirty=!1),n[De]&=-9217,o)gH(i,n,i.template,n[Rn]);else if(r&8192){SI(n,1);let a=i.components;a!==null&&DI(n,a,1)}}function DI(n,e,t){for(let i=0;i<e.length;i++)yH(n,e[i],t)}function Xb(n,e){let t=oA()?64:1088;for(n[Er].changeDetectionScheduler?.notify(e);n;){n[De]|=t;let i=ia(n);if(p_(n)&&!i)return n;n=i}return null}var aa=class{get rootNodes(){let e=this._lView,t=e[Ie];return Wp(t,e,t.firstChild,[])}constructor(e,t,i=!0){this._lView=e,this._cdRefInjectingView=t,this.notifyErrorHandler=i,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Rn]}set context(e){this._lView[Rn]=e}get destroyed(){return(this._lView[De]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[Ln];if(ls(e)){let t=e[Pp],i=t?t.indexOf(this):-1;i>-1&&(lu(e,i),Lp(t,i))}this._attachedToViewContainer=!1}Tf(this._lView[Ie],this._lView)}onDestroy(e){tA(this._lView,e)}markForCheck(){Xb(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[De]&=-129}reattach(){m_(this._lView),this._lView[De]|=128}detectChanges(){this._lView[De]|=1024,wI(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new W(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let e=p_(this._lView),t=this._lView[ta];t!==null&&!e&&Bb(t,this._lView),XA(this._lView[Ie],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new W(902,!1);this._appRef=e;let t=p_(this._lView),i=this._lView[ta];i!==null&&!t&&ZA(i,this._lView),m_(this._lView)}},la=(()=>{class n{static{this.__NG_ELEMENT_ID__=xH}}return n})(),_H=la,bH=class extends _H{constructor(e,t,i){super(),this._declarationLView=e,this._declarationTContainer=t,this.elementRef=i}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,t){return this.createEmbeddedViewImpl(e,t)}createEmbeddedViewImpl(e,t,i){let r=vu(this._declarationLView,this._declarationTContainer,e,{embeddedViewInjector:t,dehydratedView:i});return new aa(r)}};function xH(){return Rf(bn(),Ee())}function Rf(n,e){return n.type&4?new bH(e,n,Il(n,e)):null}var yce=new RegExp(`^(\\d+)*(${jB}|${BB})*(.*)`);var CH=()=>null;function Cl(n,e){return CH(n,e)}var wl=class{},Of=new de("",{providedIn:"root",factory:()=>!1});var TI=new de(""),AI=new de(""),F_=class{},Yp=class{};function wH(n){let e=Error(`No component factory found for ${qn(n)}.`);return e[SH]=n,e}var SH="ngComponent";var P_=class{resolveComponentFactory(e){throw wH(e)}},qs=class{static{this.NULL=new P_}},Ws=class{},It=(()=>{class n{constructor(){this.destroyNode=null}static{this.__NG_ELEMENT_ID__=()=>EH()}}return n})();function EH(){let n=Ee(),e=bn(),t=Ys(e.index,n);return(js(t)?t:n)[Pt]}var DH=(()=>{class n{static{this.\u0275prov=H({token:n,providedIn:"root",factory:()=>null})}}return n})();function Qp(n,e,t){let i=t?n.styles:null,r=t?n.classes:null,s=0;if(e!==null)for(let o=0;o<e.length;o++){let a=e[o];if(typeof a=="number")s=a;else if(s==1)r=s_(r,a);else if(s==2){let l=a,c=e[++o];i=s_(i,l+": "+c+";")}}t?n.styles=i:n.stylesWithoutHost=i,t?n.classes=r:n.classesWithoutHost=r}var Xp=class extends qs{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let t=zs(e);return new Sl(t,this.ngModule)}};function nT(n,e){let t=[];for(let i in n){if(!n.hasOwnProperty(i))continue;let r=n[i];if(r===void 0)continue;let s=Array.isArray(r),o=s?r[0]:r,a=s?r[1]:Hs.None;e?t.push({propName:o,templateName:i,isSignal:(a&Hs.SignalBased)!==0}):t.push({propName:o,templateName:i})}return t}function TH(n){let e=n.toLowerCase();return e==="svg"?ZT:e==="math"?j3:null}var Sl=class extends Yp{get inputs(){let e=this.componentDef,t=e.inputTransforms,i=nT(e.inputs,!0);if(t!==null)for(let r of i)t.hasOwnProperty(r.propName)&&(r.transform=t[r.propName]);return i}get outputs(){return nT(this.componentDef.outputs,!1)}constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=b3(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!t}create(e,t,i,r){let s=Ve(null);try{r=r||this.ngModule;let o=r instanceof Wn?r:r?.injector;o&&this.componentDef.getStandaloneInjector!==null&&(o=this.componentDef.getStandaloneInjector(o)||o);let a=o?new v_(e,o):e,l=a.get(Ws,null);if(l===null)throw new W(407,!1);let c=a.get(DH,null),u=a.get(wl,null),p={rendererFactory:l,sanitizer:c,inlineEffectRunner:null,changeDetectionScheduler:u},m=l.createRenderer(null,this.componentDef),f=this.componentDef.selectors[0][0]||"div",_=i?Fj(m,i,this.componentDef.encapsulation,a):QA(m,f,TH(f)),w=512;this.componentDef.signals?w|=4096:this.componentDef.onPush||(w|=16);let S=null;_!==null&&(S=Nb(_,a,!0));let D=Ub(0,null,null,1,0,null,null,null,null,null,null),R=Mf(null,D,null,w,null,null,p,m,a,null,S);Db(R);let F,U,ne=null;try{let le=this.componentDef,me,ue=null;le.findHostDirectiveDefs?(me=[],ue=new Map,le.findHostDirectiveDefs(le,me,ue),me.push(le)):me=[le];let ft=AH(R,_);ne=IH(ft,_,le,me,R,p,m),U=bb(D,gn),_&&RH(m,le,_,i),t!==void 0&&OH(U,this.ngContentSelectors,t),F=kH(ne,le,me,ue,R,[LH]),Qb(D,R,null)}catch(le){throw ne!==null&&T_(ne),T_(R),le}finally{Tb()}return new V_(this.componentType,F,Il(U,R),R,U)}finally{Ve(s)}}},V_=class extends F_{constructor(e,t,i,r,s){super(),this.location=i,this._rootLView=r,this._tNode=s,this.previousInputValues=null,this.instance=t,this.hostView=this.changeDetectorRef=new aa(r,void 0,!1),this.componentType=e}setInput(e,t){let i=this._tNode.inputs,r;if(i!==null&&(r=i[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),t))return;let s=this._rootLView;Wb(s[Ie],s,r,e,t),this.previousInputValues.set(e,t);let o=Ys(this._tNode.index,s);Xb(o,1)}}get injector(){return new Jo(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function AH(n,e){let t=n[Ie],i=gn;return n[i]=e,Ml(t,i,2,"#host",null)}function IH(n,e,t,i,r,s,o){let a=r[Ie];MH(i,n,e,o);let l=null;e!==null&&(l=Nb(e,r[_l]));let c=s.rendererFactory.createRenderer(e,t),u=16;t.signals?u=4096:t.onPush&&(u=64);let p=Mf(r,dI(t),null,u,r[n.index],n,s,c,null,null,l);return a.firstCreatePass&&O_(a,n,i.length-1),kf(r,p),r[n.index]=p}function MH(n,e,t,i){for(let r of n)e.mergedAttrs=su(e.mergedAttrs,r.hostAttrs);e.mergedAttrs!==null&&(Qp(e,e.mergedAttrs,!0),t!==null&&sI(i,t,e))}function kH(n,e,t,i,r,s){let o=bn(),a=r[Ie],l=Hi(o,r);hI(a,r,o,t,null,i);for(let u=0;u<t.length;u++){let p=o.directiveStart+u,m=oa(r,a,p,o);Gs(m,r)}pI(a,r,o),l&&Gs(l,r);let c=oa(r,a,o.directiveStart+o.componentOffset,o);if(n[Rn]=r[Rn]=c,s!==null)for(let u of s)u(c,e);return Hb(a,o,r),c}function RH(n,e,t,i){if(i)c_(n,t,["ng-version","18.2.7"]);else{let{attrs:r,classes:s}=x3(e.selectors[0]);r&&c_(n,t,r),s&&s.length>0&&rI(n,t,s.join(" "))}}function OH(n,e,t){let i=n.projection=[];for(let r=0;r<e.length;r++){let s=t[r];i.push(s!=null?Array.from(s):null)}}function LH(){let n=bn();Cf(Ee()[Ie],n)}var $i=(()=>{class n{static{this.__NG_ELEMENT_ID__=NH}}return n})();function NH(){let n=bn();return MI(n,Ee())}var FH=$i,II=class extends FH{constructor(e,t,i){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=i}get element(){return Il(this._hostTNode,this._hostLView)}get injector(){return new Jo(this._hostTNode,this._hostLView)}get parentInjector(){let e=Ab(this._hostTNode,this._hostLView);if(gA(e)){let t=jp(e,this._hostLView),i=Bp(e),r=t[Ie].data[i+8];return new Jo(r,t)}else return new Jo(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let t=iT(this._lContainer);return t!==null&&t[e]||null}get length(){return this._lContainer.length-On}createEmbeddedView(e,t,i){let r,s;typeof i=="number"?r=i:i!=null&&(r=i.index,s=i.injector);let o=Cl(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(t||{},s,o);return this.insertImpl(a,r,xl(this._hostTNode,o)),a}createComponent(e,t,i,r,s){let o=e&&!F3(e),a;if(o)a=t;else{let _=t||{};a=_.index,i=_.injector,r=_.projectableNodes,s=_.environmentInjector||_.ngModuleRef}let l=o?e:new Sl(zs(e)),c=i||this.parentInjector;if(!s&&l.ngModule==null){let w=(o?c:this.parentInjector).get(Wn,null);w&&(s=w)}let u=zs(l.componentType??{}),p=Cl(this._lContainer,u?.id??null),m=p?.firstChild??null,f=l.create(c,r,m,s);return this.insertImpl(f.hostView,a,xl(this._hostTNode,p)),f}insert(e,t){return this.insertImpl(e,t,!0)}insertImpl(e,t,i){let r=e._lView;if(z3(r)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let l=r[Ln],c=new II(l,l[di],l[Ln]);c.detach(c.indexOf(e))}}let s=this._adjustIndex(t),o=this._lContainer;return yu(o,r,s,i),e.attachToViewContainerRef(),TT(Jy(o),s,e),e}move(e,t){return this.insert(e,t)}indexOf(e){let t=iT(this._lContainer);return t!==null?t.indexOf(e):-1}remove(e){let t=this._adjustIndex(e,-1),i=lu(this._lContainer,t);i&&(Lp(Jy(this._lContainer),t),Tf(i[Ie],i))}detach(e){let t=this._adjustIndex(e,-1),i=lu(this._lContainer,t);return i&&Lp(Jy(this._lContainer),t)!=null?new aa(i):null}_adjustIndex(e,t=0){return e??this.length+t}};function iT(n){return n[Pp]}function Jy(n){return n[Pp]||(n[Pp]=[])}function MI(n,e){let t,i=e[n.index];return ls(i)?t=i:(t=fI(i,e,null,n),e[n.index]=t,kf(e,t)),VH(t,e,n,i),new II(t,n,e)}function PH(n,e){let t=n[Pt],i=t.createComment(""),r=Hi(e,n),s=eI(t,r);return qp(t,s,i,Ej(t,r),!1),i}var VH=HH,BH=()=>!1;function jH(n,e,t){return BH(n,e,t)}function HH(n,e,t,i){if(n[na])return;let r;t.type&8?r=Dr(i):r=PH(e,t),n[na]=r}var B_=class n{constructor(e){this.queryList=e,this.matches=null}clone(){return new n(this.queryList)}setDirty(){this.queryList.setDirty()}},j_=class n{constructor(e=[]){this.queries=e}createEmbeddedView(e){let t=e.queries;if(t!==null){let i=e.contentQueries!==null?e.contentQueries[0]:t.length,r=[];for(let s=0;s<i;s++){let o=t.getByIndex(s),a=this.queries[o.indexInDeclarationView];r.push(a.clone())}return new n(r)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}finishViewCreation(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let t=0;t<this.queries.length;t++)Zb(e,t).matches!==null&&this.queries[t].setDirty()}},Zp=class{constructor(e,t,i=null){this.flags=t,this.read=i,typeof e=="string"?this.predicate=QH(e):this.predicate=e}},H_=class n{constructor(e=[]){this.queries=e}elementStart(e,t){for(let i=0;i<this.queries.length;i++)this.queries[i].elementStart(e,t)}elementEnd(e){for(let t=0;t<this.queries.length;t++)this.queries[t].elementEnd(e)}embeddedTView(e){let t=null;for(let i=0;i<this.length;i++){let r=t!==null?t.length:0,s=this.getByIndex(i).embeddedTView(e,r);s&&(s.indexInDeclarationView=i,t!==null?t.push(s):t=[s])}return t!==null?new n(t):null}template(e,t){for(let i=0;i<this.queries.length;i++)this.queries[i].template(e,t)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}},z_=class n{constructor(e,t=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=t}elementStart(e,t){this.isApplyingToNode(t)&&this.matchTNode(e,t)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,t){this.elementStart(e,t)}embeddedTView(e,t){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,t),new n(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let t=this._declarationNodeIndex,i=e.parent;for(;i!==null&&i.type&8&&i.index!==t;)i=i.parent;return t===(i!==null?i.index:-1)}return this._appliesToNextNode}matchTNode(e,t){let i=this.metadata.predicate;if(Array.isArray(i))for(let r=0;r<i.length;r++){let s=i[r];this.matchTNodeWithReadOption(e,t,zH(t,s)),this.matchTNodeWithReadOption(e,t,Ip(t,e,s,!1,!1))}else i===la?t.type&4&&this.matchTNodeWithReadOption(e,t,-1):this.matchTNodeWithReadOption(e,t,Ip(t,e,i,!1,!1))}matchTNodeWithReadOption(e,t,i){if(i!==null){let r=this.metadata.read;if(r!==null)if(r===rt||r===$i||r===la&&t.type&4)this.addMatch(t.index,-2);else{let s=Ip(t,e,r,!1,!1);s!==null&&this.addMatch(t.index,s)}else this.addMatch(t.index,i)}}addMatch(e,t){this.matches===null?this.matches=[e,t]:this.matches.push(e,t)}};function zH(n,e){let t=n.localNames;if(t!==null){for(let i=0;i<t.length;i+=2)if(t[i]===e)return t[i+1]}return null}function $H(n,e){return n.type&11?Il(n,e):n.type&4?Rf(n,e):null}function UH(n,e,t,i){return t===-1?$H(e,n):t===-2?GH(n,e,i):oa(n,n[Ie],t,e)}function GH(n,e,t){if(t===rt)return Il(e,n);if(t===la)return Rf(e,n);if(t===$i)return MI(e,n)}function kI(n,e,t,i){let r=e[ss].queries[i];if(r.matches===null){let s=n.data,o=t.matches,a=[];for(let l=0;o!==null&&l<o.length;l+=2){let c=o[l];if(c<0)a.push(null);else{let u=s[c];a.push(UH(e,u,o[l+1],t.metadata.read))}}r.matches=a}return r.matches}function $_(n,e,t,i){let r=n.queries.getByIndex(t),s=r.matches;if(s!==null){let o=kI(n,e,r,t);for(let a=0;a<s.length;a+=2){let l=s[a];if(l>0)i.push(o[a/2]);else{let c=s[a+1],u=e[-l];for(let p=On;p<u.length;p++){let m=u[p];m[ta]===m[Ln]&&$_(m[Ie],m,c,i)}if(u[bl]!==null){let p=u[bl];for(let m=0;m<p.length;m++){let f=p[m];$_(f[Ie],f,c,i)}}}}}return i}function qH(n,e){return n[ss].queries[e].queryList}function RI(n,e,t){let i=new D_((t&4)===4);return Bj(n,e,i,i.destroy),(e[ss]??=new j_).queries.push(new B_(i))-1}function WH(n,e,t){let i=Bt();return i.firstCreatePass&&(OI(i,new Zp(n,e,t),-1),(e&2)===2&&(i.staticViewQueries=!0)),RI(i,Ee(),e)}function YH(n,e,t,i){let r=Bt();if(r.firstCreatePass){let s=bn();OI(r,new Zp(e,t,i),s.index),XH(r,n),(t&2)===2&&(r.staticContentQueries=!0)}return RI(r,Ee(),t)}function QH(n){return n.split(",").map(e=>e.trim())}function OI(n,e,t){n.queries===null&&(n.queries=new H_),n.queries.track(new z_(e,t))}function XH(n,e){let t=n.contentQueries||(n.contentQueries=[]),i=t.length?t[t.length-1]:-1;e!==i&&t.push(n.queries.length-1,e)}function Zb(n,e){return n.queries.getByIndex(e)}function ZH(n,e){let t=n[Ie],i=Zb(t,e);return i.crossesNgTemplate?$_(t,n,e,[]):kI(t,n,i,e)}var rT=new Set;function Mr(n){rT.has(n)||(rT.add(n),performance?.mark?.("mark_feature_usage",{detail:{feature:n}}))}function KH(n){return typeof n=="function"&&n[yr]!==void 0}function st(n,e){Mr("NgSignals");let t=YE(n),i=t[yr];return e?.equal&&(i.equal=e.equal),t.set=r=>Qh(i,r),t.update=r=>QE(i,r),t.asReadonly=JH.bind(t),t}function JH(){let n=this[yr];if(n.readonlyFn===void 0){let e=()=>this();e[yr]=n,n.readonlyFn=e}return n.readonlyFn}function LI(n){return KH(n)&&typeof n.set=="function"}function e4(n){return Object.getPrototypeOf(n.prototype).constructor}function tn(n){let e=e4(n.type),t=!0,i=[n];for(;e;){let r;if($s(n))r=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new W(903,!1);r=e.\u0275dir}if(r){if(t){i.push(r);let o=n;o.inputs=wp(n.inputs),o.inputTransforms=wp(n.inputTransforms),o.declaredInputs=wp(n.declaredInputs),o.outputs=wp(n.outputs);let a=r.hostBindings;a&&s4(n,a);let l=r.viewQuery,c=r.contentQueries;if(l&&i4(n,l),c&&r4(n,c),t4(n,r),BV(n.outputs,r.outputs),$s(r)&&r.data.animation){let u=n.data;u.animation=(u.animation||[]).concat(r.data.animation)}}let s=r.features;if(s)for(let o=0;o<s.length;o++){let a=s[o];a&&a.ngInherit&&a(n),a===tn&&(t=!1)}}e=Object.getPrototypeOf(e)}n4(i)}function t4(n,e){for(let t in e.inputs){if(!e.inputs.hasOwnProperty(t)||n.inputs.hasOwnProperty(t))continue;let i=e.inputs[t];if(i!==void 0&&(n.inputs[t]=i,n.declaredInputs[t]=e.declaredInputs[t],e.inputTransforms!==null)){let r=Array.isArray(i)?i[0]:i;if(!e.inputTransforms.hasOwnProperty(r))continue;n.inputTransforms??={},n.inputTransforms[r]=e.inputTransforms[r]}}}function n4(n){let e=0,t=null;for(let i=n.length-1;i>=0;i--){let r=n[i];r.hostVars=e+=r.hostVars,r.hostAttrs=su(r.hostAttrs,t=su(t,r.hostAttrs))}}function wp(n){return n===ml?{}:n===ui?[]:n}function i4(n,e){let t=n.viewQuery;t?n.viewQuery=(i,r)=>{e(i,r),t(i,r)}:n.viewQuery=e}function r4(n,e){let t=n.contentQueries;t?n.contentQueries=(i,r,s)=>{e(i,r,s),t(i,r,s)}:n.contentQueries=e}function s4(n,e){let t=n.hostBindings;t?n.hostBindings=(i,r)=>{e(i,r),t(i,r)}:n.hostBindings=e}function Kb(n){let e=n.inputConfig,t={};for(let i in e)if(e.hasOwnProperty(i)){let r=e[i];Array.isArray(r)&&r[3]&&(t[i]=r[3])}n.inputTransforms=t}var os=class{},cu=class{};function NI(n,e){return new Kp(n,e??null,[])}var Kp=class extends os{constructor(e,t,i,r=!0){super(),this.ngModuleType=e,this._parent=t,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Xp(this);let s=PT(e);this._bootstrapComponents=YA(s.bootstrap),this._r3Injector=EA(e,t,[{provide:os,useValue:this},{provide:qs,useValue:this.componentFactoryResolver},...i],qn(e),new Set(["environment"])),r&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},U_=class extends cu{constructor(e){super(),this.moduleType=e}create(e){return new Kp(this.moduleType,e,[])}};var Jp=class extends os{constructor(e){super(),this.componentFactoryResolver=new Xp(this),this.instance=null;let t=new ou([...e.providers,{provide:os,useValue:this},{provide:qs,useValue:this.componentFactoryResolver}],e.parent||yb(),e.debugName,new Set(["environment"]));this.injector=t,e.runEnvironmentInitializers&&t.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function Lf(n,e,t=null){return new Jp({providers:n,parent:e,debugName:t,runEnvironmentInitializers:!0}).injector}function FI(n){return Jb(n)?Array.isArray(n)||!(n instanceof Map)&&Symbol.iterator in n:!1}function o4(n,e){if(Array.isArray(n))for(let t=0;t<n.length;t++)e(n[t]);else{let t=n[Symbol.iterator](),i;for(;!(i=t.next()).done;)e(i.value)}}function Jb(n){return n!==null&&(typeof n=="function"||typeof n=="object")}function ex(n,e,t){return n[e]=t}function a4(n,e){return n[e]}function Bi(n,e,t){let i=n[e];return Object.is(i,t)?!1:(n[e]=t,!0)}function tx(n,e,t,i){let r=Bi(n,e,t);return Bi(n,e+1,i)||r}function l4(n,e,t,i,r){let s=tx(n,e,t,i);return Bi(n,e+2,r)||s}function c4(n){return(n.flags&32)===32}function u4(n,e,t,i,r,s,o,a,l){let c=e.consts,u=Ml(e,n,4,o||null,a||null);qb(e,t,u,Us(c,l)),Cf(e,u);let p=u.tView=Ub(2,u,i,r,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,c,null);return e.queries!==null&&(e.queries.template(e,u),p.queries=e.queries.embeddedTView(u)),u}function ef(n,e,t,i,r,s,o,a,l,c){let u=t+gn,p=e.firstCreatePass?u4(u,e,n,i,r,s,o,a,l):e.data[u];ua(p,!1);let m=d4(e,n,p,t);bf()&&Af(e,n,m,p),Gs(m,n);let f=fI(m,n,m,p);return n[u]=f,kf(n,f),jH(f,p,n),mf(p)&&zb(e,n,p),l!=null&&$b(n,p,c),p}function T(n,e,t,i,r,s,o,a){let l=Ee(),c=Bt(),u=Us(c.consts,s);return ef(l,c,n,e,t,i,r,u,o,a),T}var d4=h4;function h4(n,e,t,i){return xf(!0),e[Pt].createComment("")}var hl=function(n){return n[n.EarlyRead=0]="EarlyRead",n[n.Write=1]="Write",n[n.MixedReadWrite=2]="MixedReadWrite",n[n.Read=3]="Read",n}(hl||{}),PI=(()=>{class n{constructor(){this.impl=null}execute(){this.impl?.execute()}static{this.\u0275prov=H({token:n,providedIn:"root",factory:()=>new n})}}return n})(),G_=class n{constructor(){this.ngZone=B(Ke),this.scheduler=B(wl),this.errorHandler=B(Tr,{optional:!0}),this.sequences=new Set,this.deferredRegistrations=new Set,this.executing=!1}static{this.PHASES=[hl.EarlyRead,hl.Write,hl.MixedReadWrite,hl.Read]}execute(){this.executing=!0;for(let e of n.PHASES)for(let t of this.sequences)if(!(t.erroredOrDestroyed||!t.hooks[e]))try{t.pipelinedValue=this.ngZone.runOutsideAngular(()=>t.hooks[e](t.pipelinedValue))}catch(i){t.erroredOrDestroyed=!0,this.errorHandler?.handleError(i)}this.executing=!1;for(let e of this.sequences)e.afterRun(),e.once&&this.sequences.delete(e);for(let e of this.deferredRegistrations)this.sequences.add(e);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear()}register(e){this.executing?this.deferredRegistrations.add(e):(this.sequences.add(e),this.scheduler.notify(6))}unregister(e){this.executing&&this.sequences.has(e)?(e.erroredOrDestroyed=!0,e.pipelinedValue=void 0,e.once=!0):(this.sequences.delete(e),this.deferredRegistrations.delete(e))}static{this.\u0275prov=H({token:n,providedIn:"root",factory:()=>new n})}},q_=class{constructor(e,t,i,r){this.impl=e,this.hooks=t,this.once=i,this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.unregisterOnDestroy=r?.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0}destroy(){this.impl.unregister(this),this.unregisterOnDestroy?.()}};function nx(n,e){!e?.injector&&N3(nx);let t=e?.injector??B(Nn);return pj(t)?(Mr("NgAfterNextRender"),f4(n,t,e,!0)):m4}function p4(n,e){if(n instanceof Function){let t=[void 0,void 0,void 0,void 0];return t[e]=n,t}else return[n.earlyRead,n.write,n.mixedReadWrite,n.read]}function f4(n,e,t,i){let r=e.get(PI);r.impl??=e.get(G_);let s=t?.phase??hl.MixedReadWrite,o=t?.manualCleanup!==!0?e.get(wf):null,a=new q_(r.impl,p4(n,s),i,o);return r.impl.register(a),a}var m4={destroy(){}};function Me(n,e,t,i){let r=Ee(),s=Al();if(Bi(r,s,e)){let o=Bt(),a=_f();eH(a,r,n,e,t,i)}return Me}function ix(n,e,t,i){return Bi(n,Al(),t)?e+wr(t)+i:Fn}function g4(n,e,t,i,r,s){let o=aA(),a=tx(n,o,t,r);return yf(2),a?e+wr(t)+i+wr(r)+s:Fn}function v4(n,e,t,i,r,s,o,a){let l=aA(),c=l4(n,l,t,r,o);return yf(3),c?e+wr(t)+i+wr(r)+s+wr(o)+a:Fn}function Sp(n,e){return n<<17|e<<2}function ca(n){return n>>17&32767}function y4(n){return(n&2)==2}function _4(n,e){return n&131071|e<<17}function W_(n){return n|2}function El(n){return(n&131068)>>2}function e_(n,e){return n&-131069|e<<2}function b4(n){return(n&1)===1}function Y_(n){return n|1}function x4(n,e,t,i,r,s){let o=s?e.classBindings:e.styleBindings,a=ca(o),l=El(o);n[i]=t;let c=!1,u;if(Array.isArray(t)){let p=t;u=p[1],(u===null||pu(p,u)>0)&&(c=!0)}else u=t;if(r)if(l!==0){let m=ca(n[a+1]);n[i+1]=Sp(m,a),m!==0&&(n[m+1]=e_(n[m+1],i)),n[a+1]=_4(n[a+1],i)}else n[i+1]=Sp(a,0),a!==0&&(n[a+1]=e_(n[a+1],i)),a=i;else n[i+1]=Sp(l,0),a===0?a=i:n[l+1]=e_(n[l+1],i),l=i;c&&(n[i+1]=W_(n[i+1])),sT(n,u,i,!0),sT(n,u,i,!1),C4(e,u,n,i,s),o=Sp(a,l),s?e.classBindings=o:e.styleBindings=o}function C4(n,e,t,i,r){let s=r?n.residualClasses:n.residualStyles;s!=null&&typeof e=="string"&&pu(s,e)>=0&&(t[i+1]=Y_(t[i+1]))}function sT(n,e,t,i){let r=n[t+1],s=e===null,o=i?ca(r):El(r),a=!1;for(;o!==0&&(a===!1||s);){let l=n[o],c=n[o+1];w4(l,e)&&(a=!0,n[o+1]=i?Y_(c):W_(c)),o=i?ca(c):El(c)}a&&(n[t+1]=i?W_(r):Y_(r))}function w4(n,e){return n===null||e==null||(Array.isArray(n)?n[1]:n)===e?!0:Array.isArray(n)&&typeof e=="string"?pu(n,e)>=0:!1}var er={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function S4(n){return n.substring(er.key,er.keyEnd)}function E4(n){return D4(n),VI(n,BI(n,0,er.textEnd))}function VI(n,e){let t=er.textEnd;return t===e?-1:(e=er.keyEnd=T4(n,er.key=e,t),BI(n,e,t))}function D4(n){er.key=0,er.keyEnd=0,er.value=0,er.valueEnd=0,er.textEnd=n.length}function BI(n,e,t){for(;e<t&&n.charCodeAt(e)<=32;)e++;return e}function T4(n,e,t){for(;e<t&&n.charCodeAt(e)>32;)e++;return e}function y(n,e,t){let i=Ee(),r=Al();if(Bi(i,r,e)){let s=Bt(),o=_f();Gb(s,o,i,n,e,i[Pt],t,!1)}return y}function Q_(n,e,t,i,r){let s=e.inputs,o=r?"class":"style";Wb(n,t,s[o],o,i)}function Qn(n,e,t){return HI(n,e,t,!1),Qn}function Xn(n,e){return HI(n,e,null,!0),Xn}function Nf(n){zI(O4,jI,n,!0)}function jI(n,e){for(let t=E4(e);t>=0;t=VI(e,t))df(n,S4(e),!0)}function HI(n,e,t,i){let r=Ee(),s=Bt(),o=yf(2);if(s.firstUpdatePass&&UI(s,n,o,i),e!==Fn&&Bi(r,o,e)){let a=s.data[Ir()];GI(s,a,r,r[Pt],n,r[o+1]=N4(e,t),i,o)}}function zI(n,e,t,i){let r=Bt(),s=yf(2);r.firstUpdatePass&&UI(r,null,s,i);let o=Ee();if(t!==Fn&&Bi(o,s,t)){let a=r.data[Ir()];if(qI(a,i)&&!$I(r,s)){let l=i?a.classesWithoutHost:a.stylesWithoutHost;l!==null&&(t=s_(l,t||"")),Q_(r,a,o,t,i)}else L4(r,a,o,o[Pt],o[s+1],o[s+1]=R4(n,e,t),i,s)}}function $I(n,e){return e>=n.expandoStartIndex}function UI(n,e,t,i){let r=n.data;if(r[t+1]===null){let s=r[Ir()],o=$I(n,t);qI(s,i)&&e===null&&!o&&(e=!1),e=A4(r,s,e,i),x4(r,s,e,t,o,i)}}function A4(n,e,t,i){let r=nB(n),s=i?e.residualClasses:e.residualStyles;if(r===null)(i?e.classBindings:e.styleBindings)===0&&(t=t_(null,n,e,t,i),t=uu(t,e.attrs,i),s=null);else{let o=e.directiveStylingLast;if(o===-1||n[o]!==r)if(t=t_(r,n,e,t,i),s===null){let l=I4(n,e,i);l!==void 0&&Array.isArray(l)&&(l=t_(null,n,e,l[1],i),l=uu(l,e.attrs,i),M4(n,e,i,l))}else s=k4(n,e,i)}return s!==void 0&&(i?e.residualClasses=s:e.residualStyles=s),t}function I4(n,e,t){let i=t?e.classBindings:e.styleBindings;if(El(i)!==0)return n[ca(i)]}function M4(n,e,t,i){let r=t?e.classBindings:e.styleBindings;n[ca(r)]=i}function k4(n,e,t){let i,r=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<r;s++){let o=n[s].hostAttrs;i=uu(i,o,t)}return uu(i,e.attrs,t)}function t_(n,e,t,i,r){let s=null,o=t.directiveEnd,a=t.directiveStylingLast;for(a===-1?a=t.directiveStart:a++;a<o&&(s=e[a],i=uu(i,s.hostAttrs,r),s!==n);)a++;return n!==null&&(t.directiveStylingLast=a),i}function uu(n,e,t){let i=t?1:2,r=-1;if(e!==null)for(let s=0;s<e.length;s++){let o=e[s];typeof o=="number"?r=o:r===i&&(Array.isArray(n)||(n=n===void 0?[]:["",n]),df(n,o,t?!0:e[++s]))}return n===void 0?null:n}function R4(n,e,t){if(t==null||t==="")return ui;let i=[],r=da(t);if(Array.isArray(r))for(let s=0;s<r.length;s++)n(i,r[s],!0);else if(typeof r=="object")for(let s in r)r.hasOwnProperty(s)&&n(i,s,r[s]);else typeof r=="string"&&e(i,r);return i}function O4(n,e,t){let i=String(e);i!==""&&!i.includes(" ")&&df(n,i,t)}function L4(n,e,t,i,r,s,o,a){r===Fn&&(r=ui);let l=0,c=0,u=0<r.length?r[0]:null,p=0<s.length?s[0]:null;for(;u!==null||p!==null;){let m=l<r.length?r[l+1]:void 0,f=c<s.length?s[c+1]:void 0,_=null,w;u===p?(l+=2,c+=2,m!==f&&(_=p,w=f)):p===null||u!==null&&u<p?(l+=2,_=u):(c+=2,_=p,w=f),_!==null&&GI(n,e,t,i,_,w,o,a),u=l<r.length?r[l]:null,p=c<s.length?s[c]:null}}function GI(n,e,t,i,r,s,o,a){if(!(e.type&3))return;let l=n.data,c=l[a+1],u=b4(c)?oT(l,e,t,r,El(c),o):void 0;if(!tf(u)){tf(s)||y4(c)&&(s=oT(l,null,t,r,a,o));let p=KT(Ir(),t);kj(i,o,p,r,s)}}function oT(n,e,t,i,r,s){let o=e===null,a;for(;r>0;){let l=n[r],c=Array.isArray(l),u=c?l[1]:l,p=u===null,m=t[r+1];m===Fn&&(m=p?ui:void 0);let f=p?Gy(m,i):u===i?m:void 0;if(c&&!tf(f)&&(f=Gy(l,i)),tf(f)&&(a=f,o))return a;let _=n[r+1];r=o?ca(_):El(_)}if(e!==null){let l=s?e.residualClasses:e.residualStyles;l!=null&&(a=Gy(l,i))}return a}function tf(n){return n!==void 0}function N4(n,e){return n==null||n===""||(typeof e=="string"?n=n+e:typeof n=="object"&&(n=qn(da(n)))),n}function qI(n,e){return(n.flags&(e?8:16))!==0}function WI(n,e,t){let i=Ee(),r=ix(i,n,e,t);zI(df,jI,r,!0)}var X_=class{destroy(e){}updateValue(e,t){}swap(e,t){let i=Math.min(e,t),r=Math.max(e,t),s=this.detach(r);if(r-i>1){let o=this.detach(i);this.attach(i,s),this.attach(r,o)}else this.attach(i,s)}move(e,t){this.attach(t,this.detach(e))}};function n_(n,e,t,i,r){return n===t&&Object.is(e,i)?1:Object.is(r(n,e),r(t,i))?-1:0}function F4(n,e,t){let i,r,s=0,o=n.length-1,a=void 0;if(Array.isArray(e)){let l=e.length-1;for(;s<=o&&s<=l;){let c=n.at(s),u=e[s],p=n_(s,c,s,u,t);if(p!==0){p<0&&n.updateValue(s,u),s++;continue}let m=n.at(o),f=e[l],_=n_(o,m,l,f,t);if(_!==0){_<0&&n.updateValue(o,f),o--,l--;continue}let w=t(s,c),S=t(o,m),D=t(s,u);if(Object.is(D,S)){let R=t(l,f);Object.is(R,w)?(n.swap(s,o),n.updateValue(o,f),l--,o--):n.move(o,s),n.updateValue(s,u),s++;continue}if(i??=new nf,r??=lT(n,s,o,t),Z_(n,i,s,D))n.updateValue(s,u),s++,o++;else if(r.has(D))i.set(w,n.detach(s)),o--;else{let R=n.create(s,e[s]);n.attach(s,R),s++,o++}}for(;s<=l;)aT(n,i,t,s,e[s]),s++}else if(e!=null){let l=e[Symbol.iterator](),c=l.next();for(;!c.done&&s<=o;){let u=n.at(s),p=c.value,m=n_(s,u,s,p,t);if(m!==0)m<0&&n.updateValue(s,p),s++,c=l.next();else{i??=new nf,r??=lT(n,s,o,t);let f=t(s,p);if(Z_(n,i,s,f))n.updateValue(s,p),s++,o++,c=l.next();else if(!r.has(f))n.attach(s,n.create(s,p)),s++,o++,c=l.next();else{let _=t(s,u);i.set(_,n.detach(s)),o--}}}for(;!c.done;)aT(n,i,t,n.length,c.value),c=l.next()}for(;s<=o;)n.destroy(n.detach(o--));i?.forEach(l=>{n.destroy(l)})}function Z_(n,e,t,i){return e!==void 0&&e.has(i)?(n.attach(t,e.get(i)),e.delete(i),!0):!1}function aT(n,e,t,i,r){if(Z_(n,e,i,t(i,r)))n.updateValue(i,r);else{let s=n.create(i,r);n.attach(i,s)}}function lT(n,e,t,i){let r=new Set;for(let s=e;s<=t;s++)r.add(i(s,n.at(s)));return r}var nf=class{constructor(){this.kvMap=new Map,this._vMap=void 0}has(e){return this.kvMap.has(e)}delete(e){if(!this.has(e))return!1;let t=this.kvMap.get(e);return this._vMap!==void 0&&this._vMap.has(t)?(this.kvMap.set(e,this._vMap.get(t)),this._vMap.delete(t)):this.kvMap.delete(e),!0}get(e){return this.kvMap.get(e)}set(e,t){if(this.kvMap.has(e)){let i=this.kvMap.get(e);this._vMap===void 0&&(this._vMap=new Map);let r=this._vMap;for(;r.has(i);)i=r.get(i);r.set(i,t)}else this.kvMap.set(e,t)}forEach(e){for(let[t,i]of this.kvMap)if(e(i,t),this._vMap!==void 0){let r=this._vMap;for(;r.has(i);)i=r.get(i),e(i,t)}}};function J(n,e){Mr("NgControlFlow");let t=Ee(),i=Al(),r=t[i]!==Fn?t[i]:-1,s=r!==-1?rf(t,gn+r):void 0,o=0;if(Bi(t,i,n)){let a=Ve(null);try{if(s!==void 0&&bI(s,o),n!==-1){let l=gn+n,c=rf(t,l),u=tb(t[Ie],l),p=Cl(c,u.tView.ssrId),m=vu(t,u,e,{dehydratedView:p});yu(c,m,o,xl(u,p))}}finally{Ve(a)}}else if(s!==void 0){let a=_I(s,o);a!==void 0&&(a[Rn]=e)}}var K_=class{constructor(e,t,i){this.lContainer=e,this.$implicit=t,this.$index=i}get $count(){return this.lContainer.length-On}};function Ff(n){return n}var J_=class{constructor(e,t,i){this.hasEmptyBlock=e,this.trackByFn=t,this.liveCollection=i}};function Zn(n,e,t,i,r,s,o,a,l,c,u,p,m){Mr("NgControlFlow");let f=Ee(),_=Bt(),w=l!==void 0,S=Ee(),D=a?o.bind(S[Ei][Rn]):o,R=new J_(w,D);S[gn+n]=R,ef(f,_,n+1,e,t,i,r,Us(_.consts,s)),w&&ef(f,_,n+2,l,c,u,p,Us(_.consts,m))}var eb=class extends X_{constructor(e,t,i){super(),this.lContainer=e,this.hostLView=t,this.templateTNode=i,this.operationsCounter=void 0,this.needsIndexUpdate=!1}get length(){return this.lContainer.length-On}at(e){return this.getLView(e)[Rn].$implicit}attach(e,t){let i=t[yl];this.needsIndexUpdate||=e!==this.length,yu(this.lContainer,t,e,xl(this.templateTNode,i))}detach(e){return this.needsIndexUpdate||=e!==this.length-1,P4(this.lContainer,e)}create(e,t){let i=Cl(this.lContainer,this.templateTNode.tView.ssrId),r=vu(this.hostLView,this.templateTNode,new K_(this.lContainer,t,e),{dehydratedView:i});return this.operationsCounter?.recordCreate(),r}destroy(e){Tf(e[Ie],e),this.operationsCounter?.recordDestroy()}updateValue(e,t){this.getLView(e)[Rn].$implicit=t}reset(){this.needsIndexUpdate=!1,this.operationsCounter?.reset()}updateIndexes(){if(this.needsIndexUpdate)for(let e=0;e<this.length;e++)this.getLView(e)[Rn].$index=e}getLView(e){return V4(this.lContainer,e)}};function Kn(n){let e=Ve(null),t=Ir();try{let i=Ee(),r=i[Ie],s=i[t],o=t+1,a=rf(i,o);if(s.liveCollection===void 0){let c=tb(r,o);s.liveCollection=new eb(a,i,c)}else s.liveCollection.reset();let l=s.liveCollection;if(F4(l,n,s.trackByFn),l.updateIndexes(),s.hasEmptyBlock){let c=Al(),u=l.length===0;if(Bi(i,c,u)){let p=t+2,m=rf(i,p);if(u){let f=tb(r,p),_=Cl(m,f.tView.ssrId),w=vu(i,f,void 0,{dehydratedView:_});yu(m,w,0,xl(f,_))}else bI(m,0)}}}finally{Ve(e)}}function rf(n,e){return n[e]}function P4(n,e){return lu(n,e)}function V4(n,e){return _I(n,e)}function tb(n,e){return bb(n,e)}function B4(n,e,t,i,r,s){let o=e.consts,a=Us(o,r),l=Ml(e,n,2,i,a);return qb(e,t,l,Us(o,s)),l.attrs!==null&&Qp(l,l.attrs,!1),l.mergedAttrs!==null&&Qp(l,l.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,l),l}function h(n,e,t,i){let r=Ee(),s=Bt(),o=gn+n,a=r[Pt],l=s.firstCreatePass?B4(o,s,r,e,t,i):s.data[o],c=j4(s,r,l,a,e,n);r[o]=c;let u=mf(l);return ua(l,!0),sI(a,c,l),!c4(l)&&bf()&&Af(s,r,c,l),G3()===0&&Gs(c,r),q3(),u&&(zb(s,r,l),Hb(s,l,r)),i!==null&&$b(r,l),h}function d(){let n=bn();wb()?Sb():(n=n.parent,ua(n,!1));let e=n;Y3(e)&&Q3(),W3();let t=Bt();return t.firstCreatePass&&(Cf(t,n),_b(n)&&t.queries.elementEnd(n)),e.classesWithoutHost!=null&&uB(e)&&Q_(t,e,Ee(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&dB(e)&&Q_(t,e,Ee(),e.stylesWithoutHost,!1),d}function x(n,e,t,i){return h(n,e,t,i),d(),x}var j4=(n,e,t,i,r,s)=>(xf(!0),QA(i,r,oB()));function H4(n,e,t,i,r){let s=e.consts,o=Us(s,i),a=Ml(e,n,8,"ng-container",o);o!==null&&Qp(a,o,!0);let l=Us(s,r);return qb(e,t,a,l),e.queries!==null&&e.queries.elementStart(e,a),a}function Mt(n,e,t){let i=Ee(),r=Bt(),s=n+gn,o=r.firstCreatePass?H4(s,r,i,e,t):r.data[s];ua(o,!0);let a=z4(r,i,o,n);return i[s]=a,bf()&&Af(r,i,a,o),Gs(a,i),mf(o)&&(zb(r,i,o),Hb(r,o,i)),t!=null&&$b(i,o),Mt}function kt(){let n=bn(),e=Bt();return wb()?Sb():(n=n.parent,ua(n,!1)),e.firstCreatePass&&(Cf(e,n),_b(n)&&e.queries.elementEnd(n)),kt}function Pn(n,e,t){return Mt(n,e,t),kt(),Pn}var z4=(n,e,t,i)=>(xf(!0),vj(e[Pt],""));function Q(){return Ee()}var Ko=void 0;function $4(n){let e=n,t=Math.floor(Math.abs(n)),i=n.toString().replace(/^[^.]*\.?/,"").length;return t===1&&i===0?1:5}var U4=["en",[["a","p"],["AM","PM"],Ko],[["AM","PM"],Ko,Ko],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Ko,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Ko,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Ko,"{1} 'at' {0}",Ko],[".",",",";","%","+","-","E","\xD7","\u2030","\u221E","NaN",":"],["#,##0.###","#,##0%","\xA4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",$4],iu={};function YI(n,e,t){typeof e!="string"&&(t=e,e=n[Vt.LocaleId]),e=e.toLowerCase().replace(/_/g,"-"),iu[e]=n,t&&(iu[e][Vt.ExtraData]=t)}function Ui(n){let e=G4(n),t=cT(e);if(t)return t;let i=e.split("-")[0];if(t=cT(i),t)return t;if(i==="en")return U4;throw new W(701,!1)}function cT(n){return n in iu||(iu[n]=kn.ng&&kn.ng.common&&kn.ng.common.locales&&kn.ng.common.locales[n]),iu[n]}var Vt=function(n){return n[n.LocaleId=0]="LocaleId",n[n.DayPeriodsFormat=1]="DayPeriodsFormat",n[n.DayPeriodsStandalone=2]="DayPeriodsStandalone",n[n.DaysFormat=3]="DaysFormat",n[n.DaysStandalone=4]="DaysStandalone",n[n.MonthsFormat=5]="MonthsFormat",n[n.MonthsStandalone=6]="MonthsStandalone",n[n.Eras=7]="Eras",n[n.FirstDayOfWeek=8]="FirstDayOfWeek",n[n.WeekendRange=9]="WeekendRange",n[n.DateFormat=10]="DateFormat",n[n.TimeFormat=11]="TimeFormat",n[n.DateTimeFormat=12]="DateTimeFormat",n[n.NumberSymbols=13]="NumberSymbols",n[n.NumberFormats=14]="NumberFormats",n[n.CurrencyCode=15]="CurrencyCode",n[n.CurrencySymbol=16]="CurrencySymbol",n[n.CurrencyName=17]="CurrencyName",n[n.Currencies=18]="Currencies",n[n.Directionality=19]="Directionality",n[n.PluralCase=20]="PluralCase",n[n.ExtraData=21]="ExtraData",n}(Vt||{});function G4(n){return n.toLowerCase().replace(/_/g,"-")}var sf="en-US";var q4=sf;function W4(n){typeof n=="string"&&(q4=n.toLowerCase().replace(/_/g,"-"))}var Y4=(n,e,t)=>{};function E(n,e,t,i){let r=Ee(),s=Bt(),o=bn();return QI(s,r,r[Pt],o,n,e,i),E}function Q4(n,e,t,i){let r=n.cleanup;if(r!=null)for(let s=0;s<r.length-1;s+=2){let o=r[s];if(o===t&&r[s+1]===i){let a=e[Fp],l=r[s+2];return a.length>l?a[l]:null}typeof o=="string"&&(s+=2)}return null}function QI(n,e,t,i,r,s,o){let a=mf(i),c=n.firstCreatePass&&vI(n),u=e[Rn],p=gI(e),m=!0;if(i.type&3||o){let w=Hi(i,e),S=o?o(w):w,D=p.length,R=o?U=>o(Dr(U[i.index])):i.index,F=null;if(!o&&a&&(F=Q4(n,e,r,i.index)),F!==null){let U=F.__ngLastListenerFn__||F;U.__ngNextListenerFn__=s,F.__ngLastListenerFn__=s,m=!1}else{s=dT(i,e,u,s),Y4(w,r,s);let U=t.listen(S,r,s);p.push(s,U),c&&c.push(r,R,D,D+1)}}else s=dT(i,e,u,s);let f=i.outputs,_;if(m&&f!==null&&(_=f[r])){let w=_.length;if(w)for(let S=0;S<w;S+=2){let D=_[S],R=_[S+1],ne=e[D][R].subscribe(s),le=p.length;p.push(s,ne),c&&c.push(r,i.index,le,-(le+1))}}}function uT(n,e,t,i){let r=Ve(null);try{return xr(6,e,t),t(i)!==!1}catch(s){return yI(n,s),!1}finally{xr(7,e,t),Ve(r)}}function dT(n,e,t,i){return function r(s){if(s===Function)return i;let o=n.componentOffset>-1?Ys(n.index,e):e;Xb(o,5);let a=uT(e,t,i,s),l=r.__ngNextListenerFn__;for(;l;)a=uT(e,t,l,s)&&a,l=l.__ngNextListenerFn__;return a}}function b(n=1){return rB(n)}function X4(n,e){let t=null,i=m3(n);for(let r=0;r<e.length;r++){let s=e[r];if(s==="*"){t=r;continue}if(i===null?OT(n,s,!0):y3(i,s))return r}return t}function nr(n){let e=Ee()[Ei][di];if(!e.projection){let t=n?n.length:1,i=e.projection=o3(t,null),r=i.slice(),s=e.child;for(;s!==null;){if(s.type!==128){let o=n?X4(s,n):0;o!==null&&(r[o]?r[o].projectionNext=s:i[o]=s,r[o]=s)}s=s.next}}}function pi(n,e=0,t,i,r,s){let o=Ee(),a=Bt(),l=i?n+1:null;l!==null&&ef(o,a,l,i,r,s,null,t);let c=Ml(a,gn+n,16,null,t||null);c.projection===null&&(c.projection=e),Sb();let p=!o[yl]||rA();o[Ei][di].projection[c.projection]===null&&l!==null?Z4(o,a,l):p&&(c.flags&32)!==32&&Ij(a,o,c)}function Z4(n,e,t){let i=gn+t,r=e.data[i],s=n[i],o=Cl(s,r.tView.ssrId),a=vu(n,r,void 0,{dehydratedView:o});yu(s,a,0,xl(r,o))}function Pf(n,e,t){return _u(n,"",e,"",t),Pf}function _u(n,e,t,i,r){let s=Ee(),o=ix(s,e,t,i);if(o!==Fn){let a=Bt(),l=_f();Gb(a,l,s,n,o,s[Pt],r,!1)}return _u}function zt(n,e,t,i){YH(n,e,t,i)}function Ct(n,e,t){WH(n,e,t)}function Te(n){let e=Ee(),t=Bt(),i=lA();Eb(i+1);let r=Zb(t,i);if(n.dirty&&H3(e)===((r.metadata.flags&2)===2)){if(r.matches===null)n.reset([]);else{let s=ZH(e,i);n.reset(s,OB),n.notifyOnChanges()}return!0}return!1}function Ae(){return qH(Ee(),lA())}function K4(n,e,t,i){t>=n.data.length&&(n.data[t]=null,n.blueprint[t]=null),e[t]=i}function $t(n){let e=Z3();return xb(e,gn+n)}function v(n,e=""){let t=Ee(),i=Bt(),r=n+gn,s=i.firstCreatePass?Ml(i,r,1,e,null):i.data[r],o=J4(i,t,s,e,n);t[r]=o,bf()&&Af(i,t,o,s),ua(s,!1)}var J4=(n,e,t,i,r)=>(xf(!0),mj(e[Pt],i));function ae(n){return j("",n,""),ae}function j(n,e,t){let i=Ee(),r=ix(i,n,e,t);return r!==Fn&&Yb(i,Ir(),r),j}function Zs(n,e,t,i,r){let s=Ee(),o=g4(s,n,e,t,i,r);return o!==Fn&&Yb(s,Ir(),o),Zs}function rx(n,e,t,i,r,s,o){let a=Ee(),l=v4(a,n,e,t,i,r,s,o);return l!==Fn&&Yb(a,Ir(),l),rx}function kl(n,e,t){LI(e)&&(e=e());let i=Ee(),r=Al();if(Bi(i,r,e)){let s=Bt(),o=_f();Gb(s,o,i,n,e,i[Pt],t,!1)}return kl}function bu(n,e){let t=LI(n);return t&&n.set(e),t}function Rl(n,e){let t=Ee(),i=Bt(),r=bn();return QI(i,t,t[Pt],r,n,e),Rl}function ez(n,e,t){let i=Bt();if(i.firstCreatePass){let r=$s(n);nb(t,i.data,i.blueprint,r,!0),nb(e,i.data,i.blueprint,r,!1)}}function nb(n,e,t,i,r){if(n=Gn(n),Array.isArray(n))for(let s=0;s<n.length;s++)nb(n[s],e,t,i,r);else{let s=Bt(),o=Ee(),a=bn(),l=vl(n)?n:Gn(n.provide),c=$T(n),u=a.providerIndexes&1048575,p=a.directiveStart,m=a.providerIndexes>>20;if(vl(n)||!n.multi){let f=new sa(c,r,C),_=r_(l,e,r?u:u+m,p);_===-1?(__(zp(a,o),s,l),i_(s,n,e.length),e.push(l),a.directiveStart++,a.directiveEnd++,r&&(a.providerIndexes+=1048576),t.push(f),o.push(f)):(t[_]=f,o[_]=f)}else{let f=r_(l,e,u+m,p),_=r_(l,e,u,u+m),w=f>=0&&t[f],S=_>=0&&t[_];if(r&&!S||!r&&!w){__(zp(a,o),s,l);let D=iz(r?nz:tz,t.length,r,i,c);!r&&S&&(t[_].providerFactory=D),i_(s,n,e.length,0),e.push(l),a.directiveStart++,a.directiveEnd++,r&&(a.providerIndexes+=1048576),t.push(D),o.push(D)}else{let D=XI(t[r?_:f],c,!r&&i);i_(s,n,f>-1?f:_,D)}!r&&i&&S&&t[_].componentProviders++}}}function i_(n,e,t,i){let r=vl(e),s=A3(e);if(r||s){let l=(s?Gn(e.useClass):e).prototype.ngOnDestroy;if(l){let c=n.destroyHooks||(n.destroyHooks=[]);if(!r&&e.multi){let u=c.indexOf(t);u===-1?c.push(t,[i,l]):c[u+1].push(i,l)}else c.push(t,l)}}}function XI(n,e,t){return t&&n.componentProviders++,n.multi.push(e)-1}function r_(n,e,t,i){for(let r=t;r<i;r++)if(e[r]===n)return r;return-1}function tz(n,e,t,i){return ib(this.multi,[])}function nz(n,e,t,i){let r=this.multi,s;if(this.providerFactory){let o=this.providerFactory.componentProviders,a=oa(t,t[Ie],this.providerFactory.index,i);s=a.slice(0,o),ib(r,s);for(let l=o;l<a.length;l++)s.push(a[l])}else s=[],ib(r,s);return s}function ib(n,e){for(let t=0;t<n.length;t++){let i=n[t];e.push(i())}return e}function iz(n,e,t,i,r){let s=new sa(n,t,C);return s.multi=[],s.index=e,s.componentProviders=0,XI(s,r,i&&!t),s}function cn(n,e=[]){return t=>{t.providersResolver=(i,r)=>ez(i,r?r(n):n,e)}}var rz=(()=>{class n{constructor(t){this._injector=t,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(t){if(!t.standalone)return null;if(!this.cachedInjectors.has(t)){let i=jT(!1,t.type),r=i.length>0?Lf([i],this._injector,`Standalone[${t.type.name}]`):null;this.cachedInjectors.set(t,r)}return this.cachedInjectors.get(t)}ngOnDestroy(){try{for(let t of this.cachedInjectors.values())t!==null&&t.destroy()}finally{this.cachedInjectors.clear()}}static{this.\u0275prov=H({token:n,providedIn:"environment",factory:()=>new n($(Wn))})}}return n})();function I(n){Mr("NgStandalone"),n.getStandaloneInjector=e=>e.get(rz).getOrCreateStandaloneInjector(n)}function xu(n,e,t){let i=fu()+n,r=Ee();return r[i]===Fn?ex(r,i,t?e.call(t):e()):a4(r,i)}function he(n,e,t,i){return KI(Ee(),fu(),n,e,t,i)}function ht(n,e,t,i,r){return JI(Ee(),fu(),n,e,t,i,r)}function ZI(n,e){let t=n[e];return t===Fn?void 0:t}function KI(n,e,t,i,r,s){let o=e+t;return Bi(n,o,r)?ex(n,o+1,s?i.call(s,r):i(r)):ZI(n,o+1)}function JI(n,e,t,i,r,s,o){let a=e+t;return tx(n,a,r,s)?ex(n,a+2,o?i.call(o,r,s):i(r,s)):ZI(n,a+2)}function Y(n,e){let t=Bt(),i,r=n+gn;t.firstCreatePass?(i=sz(e,t.pipeRegistry),t.data[r]=i,i.onDestroy&&(t.destroyHooks??=[]).push(r,i.onDestroy)):i=t.data[r];let s=i.factory||(i.factory=ea(i.type,!0)),o,a=ci(C);try{let l=Hp(!1),c=s();return Hp(l),K4(t,Ee(),r,c),c}finally{ci(a)}}function sz(n,e){if(e)for(let t=e.length-1;t>=0;t--){let i=e[t];if(n===i.name)return i}}function X(n,e,t){let i=n+gn,r=Ee(),s=xb(r,i);return eM(r,i)?KI(r,fu(),e,s.transform,t,s):s.transform(t)}function Vn(n,e,t,i){let r=n+gn,s=Ee(),o=xb(s,r);return eM(s,r)?JI(s,fu(),e,o.transform,t,i,o):o.transform(t,i)}function eM(n,e){return n[Ie].data[e].pure}function Ut(n,e){return Rf(n,e)}var Vf=(()=>{class n{log(t){console.log(t)}warn(t){console.warn(t)}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"platform"})}}return n})();var sx=new de(""),Cu=new de(""),Bf=(()=>{class n{constructor(t,i,r){this._ngZone=t,this.registry=i,this._isZoneStable=!0,this._callbacks=[],this.taskTrackingZone=null,ox||(oz(r),r.addToWindow(i)),this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Ke.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}isStable(){return this._isZoneStable&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;this._callbacks.length!==0;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb()}});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(i=>i.updateCb&&i.updateCb(t)?(clearTimeout(i.timeoutId),!1):!0)}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,i,r){let s=-1;i&&i>0&&(s=setTimeout(()=>{this._callbacks=this._callbacks.filter(o=>o.timeoutId!==s),t()},i)),this._callbacks.push({doneCb:t,timeoutId:s,updateCb:r})}whenStable(t,i,r){if(r&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(t,i,r),this._runCallbacksIfReady()}registerApplication(t){this.registry.registerApplication(t,this)}unregisterApplication(t){this.registry.unregisterApplication(t)}findProviders(t,i,r){return[]}static{this.\u0275fac=function(i){return new(i||n)($(Ke),$(jf),$(Cu))}}static{this.\u0275prov=H({token:n,factory:n.\u0275fac})}}return n})(),jf=(()=>{class n{constructor(){this._applications=new Map}registerApplication(t,i){this._applications.set(t,i)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,i=!0){return ox?.findTestabilityInTree(this,t,i)??null}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"platform"})}}return n})();function oz(n){ox=n}var ox;function Ks(n){return!!n&&typeof n.then=="function"}function ax(n){return!!n&&typeof n.subscribe=="function"}var Hf=new de(""),tM=(()=>{class n{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((t,i)=>{this.resolve=t,this.reject=i}),this.appInits=B(Hf,{optional:!0})??[]}runInitializers(){if(this.initialized)return;let t=[];for(let r of this.appInits){let s=r();if(Ks(s))t.push(s);else if(ax(s)){let o=new Promise((a,l)=>{s.subscribe({complete:a,error:l})});t.push(o)}}let i=()=>{this.done=!0,this.resolve()};Promise.all(t).then(()=>{i()}).catch(r=>{this.reject(r)}),t.length===0&&i(),this.initialized=!0}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),wu=new de("");function az(){WE(()=>{throw new W(600,!1)})}function lz(n){return n.isBoundToModule}var cz=10;function uz(n,e,t){try{let i=t();return Ks(i)?i.catch(r=>{throw e.runOutsideAngular(()=>n.handleError(r)),r}):i}catch(i){throw e.runOutsideAngular(()=>n.handleError(i)),i}}var ir=(()=>{class n{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=B(MB),this.afterRenderManager=B(PI),this.zonelessEnabled=B(Of),this.dirtyFlags=0,this.deferredDirtyFlags=0,this.externalTestViews=new Set,this.beforeRender=new ut,this.afterTick=new ut,this.componentTypes=[],this.components=[],this.isStable=B(Qs).hasPendingTasks.pipe(V(t=>!t)),this._injector=B(Wn)}get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}whenStable(){let t;return new Promise(i=>{t=this.isStable.subscribe({next:r=>{r&&i()}})}).finally(()=>{t.unsubscribe()})}get injector(){return this._injector}bootstrap(t,i){let r=t instanceof Yp;if(!this._injector.get(tM).done){let m=!r&&FT(t),f=!1;throw new W(405,f)}let o;r?o=t:o=this._injector.get(qs).resolveComponentFactory(t),this.componentTypes.push(o.componentType);let a=lz(o)?void 0:this._injector.get(os),l=i||o.selector,c=o.create(Nn.NULL,[],l,a),u=c.location.nativeElement,p=c.injector.get(sx,null);return p?.registerApplication(u),c.onDestroy(()=>{this.detachView(c.hostView),Mp(this.components,c),p?.unregisterApplication(u)}),this._loadComponent(c),c}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){if(this._runningTick)throw new W(101,!1);let t=Ve(null);try{this._runningTick=!0,this.synchronize()}catch(i){this.internalErrorHandler(i)}finally{this._runningTick=!1,Ve(t),this.afterTick.next()}}synchronize(){let t=null;this._injector.destroyed||(t=this._injector.get(Ws,null,{optional:!0})),this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0;let i=0;for(;this.dirtyFlags!==0&&i++<cz;)this.synchronizeOnce(t)}synchronizeOnce(t){if(this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0,this.dirtyFlags&7){let i=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8,this.beforeRender.next(i);for(let{_lView:r,notifyErrorHandler:s}of this._views)dz(r,s,i,this.zonelessEnabled);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&7)return}else t?.begin?.(),t?.end?.();this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:t})=>gf(t))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(t){let i=t;this._views.push(i),i.attachToAppRef(this)}detachView(t){let i=t;Mp(this._views,i),i.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t);let i=this._injector.get(wu,[]);[...this._bootstrapListeners,...i].forEach(r=>r(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>Mp(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new W(406,!1);let t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function Mp(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function dz(n,e,t,i){if(!t&&!gf(n))return;wI(n,e,t&&!i?0:1)}var rb=class{constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}},zf=(()=>{class n{compileModuleSync(t){return new U_(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){let i=this.compileModuleSync(t),r=PT(t),s=YA(r.declarations).reduce((o,a)=>{let l=zs(a);return l&&o.push(new Sl(l)),o},[]);return new rb(i,s)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var hz=(()=>{class n{constructor(){this.zone=B(Ke),this.changeDetectionScheduler=B(wl),this.applicationRef=B(ir)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),pz=new de("",{factory:()=>!1});function nM({ngZoneFactory:n,ignoreChangesOutsideZone:e,scheduleInRootZone:t}){return n??=()=>new Ke(ye(P({},rM()),{scheduleInRootZone:t})),[{provide:Ke,useFactory:n},{provide:gl,multi:!0,useFactory:()=>{let i=B(hz,{optional:!0});return()=>i.initialize()}},{provide:gl,multi:!0,useFactory:()=>{let i=B(fz);return()=>{i.initialize()}}},e===!0?{provide:TI,useValue:!0}:[],{provide:AI,useValue:t??DA}]}function iM(n){let e=n?.ignoreChangesOutsideZone,t=n?.scheduleInRootZone,i=nM({ngZoneFactory:()=>{let r=rM(n);return r.scheduleInRootZone=t,r.shouldCoalesceEventChangeDetection&&Mr("NgZone_CoalesceEvent"),new Ke(r)},ignoreChangesOutsideZone:e,scheduleInRootZone:t});return Dl([{provide:pz,useValue:!0},{provide:Of,useValue:!1},i])}function rM(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:n?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:n?.runCoalescing??!1}}var fz=(()=>{class n{constructor(){this.subscription=new jt,this.initialized=!1,this.zone=B(Ke),this.pendingTasks=B(Qs)}initialize(){if(this.initialized)return;this.initialized=!0;let t=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(t=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{Ke.assertNotInAngularZone(),queueMicrotask(()=>{t!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(t),t=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{Ke.assertInAngularZone(),t??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var mz=(()=>{class n{constructor(){this.appRef=B(ir),this.taskService=B(Qs),this.ngZone=B(Ke),this.zonelessEnabled=B(Of),this.disableScheduling=B(TI,{optional:!0})??!1,this.zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run,this.schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}],this.subscriptions=new jt,this.angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(Up):null,this.scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(B(AI,{optional:!0})??!1),this.cancelScheduledCallback=null,this.useMicrotaskScheduler=!1,this.runningTick=!1,this.pendingRenderTaskId=null,this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof S_||!this.zoneIsDefined)}notify(t){if(!this.zonelessEnabled&&t===5)return;switch(t){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 7:{this.appRef.deferredDirtyFlags|=8;break}case 9:case 8:case 6:case 10:default:this.appRef.dirtyFlags|=8}if(!this.shouldScheduleTick())return;let i=this.useMicrotaskScheduler?HD:TA;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>i(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>i(()=>this.tick()))}shouldScheduleTick(){return!(this.disableScheduling||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(Up+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let t=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(i){throw this.taskService.remove(t),i}finally{this.cleanup()}this.useMicrotaskScheduler=!0,HD(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(t)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let t=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(t)}}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function gz(){return typeof $localize<"u"&&$localize.locale||sf}var Ol=new de("",{providedIn:"root",factory:()=>B(Ol,je.Optional|je.SkipSelf)||gz()});var sM=new de("");function Ep(n){return!!n.platformInjector}function vz(n){let e=Ep(n)?n.r3Injector:n.moduleRef.injector,t=e.get(Ke);return t.run(()=>{Ep(n)?n.r3Injector.resolveInjectorInitializers():n.moduleRef.resolveInjectorInitializers();let i=e.get(Tr,null),r;if(t.runOutsideAngular(()=>{r=t.onError.subscribe({next:s=>{i.handleError(s)}})}),Ep(n)){let s=()=>e.destroy(),o=n.platformInjector.get(sM);o.add(s),e.onDestroy(()=>{r.unsubscribe(),o.delete(s)})}else n.moduleRef.onDestroy(()=>{Mp(n.allPlatformModules,n.moduleRef),r.unsubscribe()});return uz(i,t,()=>{let s=e.get(tM);return s.runInitializers(),s.donePromise.then(()=>{let o=e.get(Ol,sf);if(W4(o||sf),Ep(n)){let a=e.get(ir);return n.rootComponent!==void 0&&a.bootstrap(n.rootComponent),a}else return yz(n.moduleRef,n.allPlatformModules),n.moduleRef})})})}function yz(n,e){let t=n.injector.get(ir);if(n._bootstrapComponents.length>0)n._bootstrapComponents.forEach(i=>t.bootstrap(i));else if(n.instance.ngDoBootstrap)n.instance.ngDoBootstrap(t);else throw new W(-403,!1);e.push(n)}var kp=null;function _z(n=[],e){return Nn.create({name:e,providers:[{provide:hf,useValue:"platform"},{provide:sM,useValue:new Set([()=>kp=null])},...n]})}function bz(n=[]){if(kp)return kp;let e=_z(n);return kp=e,az(),xz(e),e}function xz(n){n.get(Rb,null)?.forEach(t=>t())}var fi=(()=>{class n{static{this.__NG_ELEMENT_ID__=Cz}}return n})();function Cz(n){return wz(bn(),Ee(),(n&16)===16)}function wz(n,e,t){if(ff(n)&&!t){let i=Ys(n.index,e);return new aa(i,i)}else if(n.type&175){let i=e[Ei];return new aa(i,e)}return null}var sb=class{constructor(){}supports(e){return FI(e)}create(e){return new ob(e)}},Sz=(n,e)=>e,ob=class{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||Sz}forEachItem(e){let t;for(t=this._itHead;t!==null;t=t._next)e(t)}forEachOperation(e){let t=this._itHead,i=this._removalsHead,r=0,s=null;for(;t||i;){let o=!i||t&&t.currentIndex<hT(i,r,s)?t:i,a=hT(o,r,s),l=o.currentIndex;if(o===i)r--,i=i._nextRemoved;else if(t=t._next,o.previousIndex==null)r++;else{s||(s=[]);let c=a-r,u=l-r;if(c!=u){for(let m=0;m<c;m++){let f=m<s.length?s[m]:s[m]=0,_=f+m;u<=_&&_<c&&(s[m]=f+1)}let p=o.previousIndex;s[p]=u-c}}a!==l&&e(o,a,l)}}forEachPreviousItem(e){let t;for(t=this._previousItHead;t!==null;t=t._nextPrevious)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;t!==null;t=t._nextAdded)e(t)}forEachMovedItem(e){let t;for(t=this._movesHead;t!==null;t=t._nextMoved)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;t!==null;t=t._nextRemoved)e(t)}forEachIdentityChange(e){let t;for(t=this._identityChangesHead;t!==null;t=t._nextIdentityChange)e(t)}diff(e){if(e==null&&(e=[]),!FI(e))throw new W(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t=this._itHead,i=!1,r,s,o;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)s=e[a],o=this._trackByFn(a,s),t===null||!Object.is(t.trackById,o)?(t=this._mismatch(t,s,o,a),i=!0):(i&&(t=this._verifyReinsertion(t,s,o,a)),Object.is(t.item,s)||this._addIdentityChange(t,s)),t=t._next}else r=0,o4(e,a=>{o=this._trackByFn(r,a),t===null||!Object.is(t.trackById,o)?(t=this._mismatch(t,a,o,r),i=!0):(i&&(t=this._verifyReinsertion(t,a,o,r)),Object.is(t.item,a)||this._addIdentityChange(t,a)),t=t._next,r++}),this.length=r;return this._truncate(t),this.collection=e,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;e!==null;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;e!==null;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,t,i,r){let s;return e===null?s=this._itTail:(s=e._prev,this._remove(e)),e=this._unlinkedRecords===null?null:this._unlinkedRecords.get(i,null),e!==null?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,s,r)):(e=this._linkedRecords===null?null:this._linkedRecords.get(i,r),e!==null?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,s,r)):e=this._addAfter(new ab(t,i),s,r)),e}_verifyReinsertion(e,t,i,r){let s=this._unlinkedRecords===null?null:this._unlinkedRecords.get(i,null);return s!==null?e=this._reinsertAfter(s,e._prev,r):e.currentIndex!=r&&(e.currentIndex=r,this._addToMoves(e,r)),e}_truncate(e){for(;e!==null;){let t=e._next;this._addToRemovals(this._unlink(e)),e=t}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,t,i){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(e);let r=e._prevRemoved,s=e._nextRemoved;return r===null?this._removalsHead=s:r._nextRemoved=s,s===null?this._removalsTail=r:s._prevRemoved=r,this._insertAfter(e,t,i),this._addToMoves(e,i),e}_moveAfter(e,t,i){return this._unlink(e),this._insertAfter(e,t,i),this._addToMoves(e,i),e}_addAfter(e,t,i){return this._insertAfter(e,t,i),this._additionsTail===null?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e}_insertAfter(e,t,i){let r=t===null?this._itHead:t._next;return e._next=r,e._prev=t,r===null?this._itTail=e:r._prev=e,t===null?this._itHead=e:t._next=e,this._linkedRecords===null&&(this._linkedRecords=new of),this._linkedRecords.put(e),e.currentIndex=i,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){this._linkedRecords!==null&&this._linkedRecords.remove(e);let t=e._prev,i=e._next;return t===null?this._itHead=i:t._next=i,i===null?this._itTail=t:i._prev=t,e}_addToMoves(e,t){return e.previousIndex===t||(this._movesTail===null?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e),e}_addToRemovals(e){return this._unlinkedRecords===null&&(this._unlinkedRecords=new of),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,t){return e.item=t,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e}},ab=class{constructor(e,t){this.item=e,this.trackById=t,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}},lb=class{constructor(){this._head=null,this._tail=null}add(e){this._head===null?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,t){let i;for(i=this._head;i!==null;i=i._nextDup)if((t===null||t<=i.currentIndex)&&Object.is(i.trackById,e))return i;return null}remove(e){let t=e._prevDup,i=e._nextDup;return t===null?this._head=i:t._nextDup=i,i===null?this._tail=t:i._prevDup=t,this._head===null}},of=class{constructor(){this.map=new Map}put(e){let t=e.trackById,i=this.map.get(t);i||(i=new lb,this.map.set(t,i)),i.add(e)}get(e,t){let i=e,r=this.map.get(i);return r?r.get(e,t):null}remove(e){let t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function hT(n,e,t){let i=n.previousIndex;if(i===null)return i;let r=0;return t&&i<t.length&&(r=t[i]),i+e+r}var cb=class{constructor(){}supports(e){return e instanceof Map||Jb(e)}create(){return new ub}},ub=class{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return this._additionsHead!==null||this._changesHead!==null||this._removalsHead!==null}forEachItem(e){let t;for(t=this._mapHead;t!==null;t=t._next)e(t)}forEachPreviousItem(e){let t;for(t=this._previousMapHead;t!==null;t=t._nextPrevious)e(t)}forEachChangedItem(e){let t;for(t=this._changesHead;t!==null;t=t._nextChanged)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;t!==null;t=t._nextAdded)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;t!==null;t=t._nextRemoved)e(t)}diff(e){if(!e)e=new Map;else if(!(e instanceof Map||Jb(e)))throw new W(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t=this._mapHead;if(this._appendAfter=null,this._forEach(e,(i,r)=>{if(t&&t.key===r)this._maybeAddToChanges(t,i),this._appendAfter=t,t=t._next;else{let s=this._getOrCreateRecordForKey(r,i);t=this._insertBeforeOrAppend(t,s)}}),t){t._prev&&(t._prev._next=null),this._removalsHead=t;for(let i=t;i!==null;i=i._nextRemoved)i===this._mapHead&&(this._mapHead=null),this._records.delete(i.key),i._nextRemoved=i._next,i.previousValue=i.currentValue,i.currentValue=null,i._prev=null,i._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(e,t){if(e){let i=e._prev;return t._next=e,t._prev=i,e._prev=t,i&&(i._next=t),e===this._mapHead&&(this._mapHead=t),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=t,t._prev=this._appendAfter):this._mapHead=t,this._appendAfter=t,null}_getOrCreateRecordForKey(e,t){if(this._records.has(e)){let r=this._records.get(e);this._maybeAddToChanges(r,t);let s=r._prev,o=r._next;return s&&(s._next=o),o&&(o._prev=s),r._next=null,r._prev=null,r}let i=new db(e);return this._records.set(e,i),i.currentValue=t,this._addToAdditions(i),i}_reset(){if(this.isDirty){let e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;e!==null;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;e!=null;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(e,t){Object.is(t,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=t,this._addToChanges(e))}_addToAdditions(e){this._additionsHead===null?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}_addToChanges(e){this._changesHead===null?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}_forEach(e,t){e instanceof Map?e.forEach(t):Object.keys(e).forEach(i=>t(e[i],i))}},db=class{constructor(e){this.key=e,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}};function pT(){return new lx([new sb])}var lx=(()=>{class n{static{this.\u0275prov=H({token:n,providedIn:"root",factory:pT})}constructor(t){this.factories=t}static create(t,i){if(i!=null){let r=i.factories.slice();t=t.concat(r)}return new n(t)}static extend(t){return{provide:n,useFactory:i=>n.create(t,i||pT()),deps:[[n,new uf,new hu]]}}find(t){let i=this.factories.find(r=>r.supports(t));if(i!=null)return i;throw new W(901,!1)}}return n})();function fT(){return new cx([new cb])}var cx=(()=>{class n{static{this.\u0275prov=H({token:n,providedIn:"root",factory:fT})}constructor(t){this.factories=t}static create(t,i){if(i){let r=i.factories.slice();t=t.concat(r)}return new n(t)}static extend(t){return{provide:n,useFactory:i=>n.create(t,i||fT()),deps:[[n,new uf,new hu]]}}find(t){let i=this.factories.find(r=>r.supports(t));if(i)return i;throw new W(901,!1)}}return n})();var oM=(()=>{class n{constructor(t){}static{this.\u0275fac=function(i){return new(i||n)($(ir))}}static{this.\u0275mod=Xe({type:n})}static{this.\u0275inj=Qe({})}}return n})();function aM(n){try{let{rootComponent:e,appProviders:t,platformProviders:i}=n,r=bz(i),s=[nM({}),{provide:wl,useExisting:mz},...t||[]],o=new Jp({providers:s,parent:r,debugName:"",runEnvironmentInitializers:!1});return vz({r3Injector:o.injector,platformInjector:r,rootComponent:e})}catch(e){return Promise.reject(e)}}function Js(n){return typeof n=="boolean"?n:n!=null&&n!=="false"}function vt(n,e){Mr("NgSignals");let t=UE(n);return e?.equal&&(t[yr].equal=e.equal),t}function Gi(n){let e=Ve(null);try{return n()}finally{Ve(e)}}function lM(n){let e=zs(n);if(!e)return null;let t=new Sl(e);return{get selector(){return t.selector},get type(){return t.componentType},get inputs(){return t.inputs},get outputs(){return t.outputs},get ngContentSelectors(){return t.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}var gM=null;function kr(){return gM}function vM(n){gM??=n}var Zf=class{};var vn=new de(""),xx=(()=>{class n{historyGo(t){throw new Error("")}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=H({token:n,factory:()=>B(Dz),providedIn:"platform"})}}return n})(),yM=new de(""),Dz=(()=>{class n extends xx{constructor(){super(),this._doc=B(vn),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return kr().getBaseHref(this._doc)}onPopState(t){let i=kr().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",t,!1),()=>i.removeEventListener("popstate",t)}onHashChange(t){let i=kr().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",t,!1),()=>i.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,i,r){this._history.pushState(t,i,r)}replaceState(t,i,r){this._history.replaceState(t,i,r)}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=H({token:n,factory:()=>new n,providedIn:"platform"})}}return n})();function Cx(n,e){if(n.length==0)return e;if(e.length==0)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,t==2?n+e.substring(1):t==1?n+e:n+"/"+e}function cM(n){let e=n.match(/#|\?|$/),t=e&&e.index||n.length,i=t-(n[t-1]==="/"?1:0);return n.slice(0,i)+n.slice(t)}function ds(n){return n&&n[0]!=="?"?"?"+n:n}var ps=(()=>{class n{historyGo(t){throw new Error("")}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=H({token:n,factory:()=>B(wx),providedIn:"root"})}}return n})(),_M=new de(""),wx=(()=>{class n extends ps{constructor(t,i){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??B(vn).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return Cx(this._baseHref,t)}path(t=!1){let i=this._platformLocation.pathname+ds(this._platformLocation.search),r=this._platformLocation.hash;return r&&t?`${i}${r}`:i}pushState(t,i,r,s){let o=this.prepareExternalUrl(r+ds(s));this._platformLocation.pushState(t,i,o)}replaceState(t,i,r,s){let o=this.prepareExternalUrl(r+ds(s));this._platformLocation.replaceState(t,i,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static{this.\u0275fac=function(i){return new(i||n)($(xx),$(_M,8))}}static{this.\u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),bM=(()=>{class n extends ps{constructor(t,i){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],i!=null&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let i=this._platformLocation.hash??"#";return i.length>0?i.substring(1):i}prepareExternalUrl(t){let i=Cx(this._baseHref,t);return i.length>0?"#"+i:i}pushState(t,i,r,s){let o=this.prepareExternalUrl(r+ds(s));o.length==0&&(o=this._platformLocation.pathname),this._platformLocation.pushState(t,i,o)}replaceState(t,i,r,s){let o=this.prepareExternalUrl(r+ds(s));o.length==0&&(o=this._platformLocation.pathname),this._platformLocation.replaceState(t,i,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static{this.\u0275fac=function(i){return new(i||n)($(xx),$(_M,8))}}static{this.\u0275prov=H({token:n,factory:n.\u0275fac})}}return n})(),Rt=(()=>{class n{constructor(t){this._subject=new oe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;let i=this._locationStrategy.getBaseHref();this._basePath=Iz(cM(uM(i))),this._locationStrategy.onPopState(r=>{this._subject.emit({url:this.path(!0),pop:!0,state:r.state,type:r.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,i=""){return this.path()==this.normalize(t+ds(i))}normalize(t){return n.stripTrailingSlash(Az(this._basePath,uM(t)))}prepareExternalUrl(t){return t&&t[0]!=="/"&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,i="",r=null){this._locationStrategy.pushState(r,"",t,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+ds(i)),r)}replaceState(t,i="",r=null){this._locationStrategy.replaceState(r,"",t,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+ds(i)),r)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription??=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)}),()=>{let i=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(i,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",i){this._urlChangeListeners.forEach(r=>r(t,i))}subscribe(t,i,r){return this._subject.subscribe({next:t,error:i,complete:r})}static{this.normalizeQueryParams=ds}static{this.joinWithSlash=Cx}static{this.stripTrailingSlash=cM}static{this.\u0275fac=function(i){return new(i||n)($(ps))}}static{this.\u0275prov=H({token:n,factory:()=>Tz(),providedIn:"root"})}}return n})();function Tz(){return new Rt($(ps))}function Az(n,e){if(!n||!e.startsWith(n))return e;let t=e.substring(n.length);return t===""||["/",";","?","#"].includes(t[0])?t:e}function uM(n){return n.replace(/\/index.html$/,"")}function Iz(n){if(new RegExp("^(https?:)?//").test(n)){let[,t]=n.split(/\/\/[^\/]+/);return t}return n}var Jn=function(n){return n[n.Format=0]="Format",n[n.Standalone=1]="Standalone",n}(Jn||{}),yt=function(n){return n[n.Narrow=0]="Narrow",n[n.Abbreviated=1]="Abbreviated",n[n.Wide=2]="Wide",n[n.Short=3]="Short",n}(yt||{}),Ti=function(n){return n[n.Short=0]="Short",n[n.Medium=1]="Medium",n[n.Long=2]="Long",n[n.Full=3]="Full",n}(Ti||{}),eo={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};function Mz(n){return Ui(n)[Vt.LocaleId]}function kz(n,e,t){let i=Ui(n),r=[i[Vt.DayPeriodsFormat],i[Vt.DayPeriodsStandalone]],s=qi(r,e);return qi(s,t)}function Rz(n,e,t){let i=Ui(n),r=[i[Vt.DaysFormat],i[Vt.DaysStandalone]],s=qi(r,e);return qi(s,t)}function Oz(n,e,t){let i=Ui(n),r=[i[Vt.MonthsFormat],i[Vt.MonthsStandalone]],s=qi(r,e);return qi(s,t)}function Lz(n,e){let i=Ui(n)[Vt.Eras];return qi(i,e)}function $f(n,e){let t=Ui(n);return qi(t[Vt.DateFormat],e)}function Uf(n,e){let t=Ui(n);return qi(t[Vt.TimeFormat],e)}function Gf(n,e){let i=Ui(n)[Vt.DateTimeFormat];return qi(i,e)}function Jf(n,e){let t=Ui(n),i=t[Vt.NumberSymbols][e];if(typeof i>"u"){if(e===eo.CurrencyDecimal)return t[Vt.NumberSymbols][eo.Decimal];if(e===eo.CurrencyGroup)return t[Vt.NumberSymbols][eo.Group]}return i}function xM(n){if(!n[Vt.ExtraData])throw new Error(`Missing extra locale data for the locale "${n[Vt.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function Nz(n){let e=Ui(n);return xM(e),(e[Vt.ExtraData][2]||[]).map(i=>typeof i=="string"?ux(i):[ux(i[0]),ux(i[1])])}function Fz(n,e,t){let i=Ui(n);xM(i);let r=[i[Vt.ExtraData][0],i[Vt.ExtraData][1]],s=qi(r,e)||[];return qi(s,t)||[]}function qi(n,e){for(let t=e;t>-1;t--)if(typeof n[t]<"u")return n[t];throw new Error("Locale data API: locale data undefined")}function ux(n){let[e,t]=n.split(":");return{hours:+e,minutes:+t}}var Pz=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,qf={},Vz=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/,hs=function(n){return n[n.Short=0]="Short",n[n.ShortGMT=1]="ShortGMT",n[n.Long=2]="Long",n[n.Extended=3]="Extended",n}(hs||{}),at=function(n){return n[n.FullYear=0]="FullYear",n[n.Month=1]="Month",n[n.Date=2]="Date",n[n.Hours=3]="Hours",n[n.Minutes=4]="Minutes",n[n.Seconds=5]="Seconds",n[n.FractionalSeconds=6]="FractionalSeconds",n[n.Day=7]="Day",n}(at||{}),ot=function(n){return n[n.DayPeriods=0]="DayPeriods",n[n.Days=1]="Days",n[n.Months=2]="Months",n[n.Eras=3]="Eras",n}(ot||{});function Bz(n,e,t,i){let r=Yz(n);e=us(t,e)||e;let o=[],a;for(;e;)if(a=Vz.exec(e),a){o=o.concat(a.slice(1));let u=o.pop();if(!u)break;e=u}else{o.push(e);break}let l=r.getTimezoneOffset();i&&(l=wM(i,l),r=Wz(r,i,!0));let c="";return o.forEach(u=>{let p=Gz(u);c+=p?p(r,t,l):u==="''"?"'":u.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),c}function Kf(n,e,t){let i=new Date(0);return i.setFullYear(n,e,t),i.setHours(0,0,0),i}function us(n,e){let t=Mz(n);if(qf[t]??={},qf[t][e])return qf[t][e];let i="";switch(e){case"shortDate":i=$f(n,Ti.Short);break;case"mediumDate":i=$f(n,Ti.Medium);break;case"longDate":i=$f(n,Ti.Long);break;case"fullDate":i=$f(n,Ti.Full);break;case"shortTime":i=Uf(n,Ti.Short);break;case"mediumTime":i=Uf(n,Ti.Medium);break;case"longTime":i=Uf(n,Ti.Long);break;case"fullTime":i=Uf(n,Ti.Full);break;case"short":let r=us(n,"shortTime"),s=us(n,"shortDate");i=Wf(Gf(n,Ti.Short),[r,s]);break;case"medium":let o=us(n,"mediumTime"),a=us(n,"mediumDate");i=Wf(Gf(n,Ti.Medium),[o,a]);break;case"long":let l=us(n,"longTime"),c=us(n,"longDate");i=Wf(Gf(n,Ti.Long),[l,c]);break;case"full":let u=us(n,"fullTime"),p=us(n,"fullDate");i=Wf(Gf(n,Ti.Full),[u,p]);break}return i&&(qf[t][e]=i),i}function Wf(n,e){return e&&(n=n.replace(/\{([^}]+)}/g,function(t,i){return e!=null&&i in e?e[i]:t})),n}function rr(n,e,t="-",i,r){let s="";(n<0||r&&n<=0)&&(r?n=-n+1:(n=-n,s=t));let o=String(n);for(;o.length<e;)o="0"+o;return i&&(o=o.slice(o.length-e)),s+o}function jz(n,e){return rr(n,3).substring(0,e)}function nn(n,e,t=0,i=!1,r=!1){return function(s,o){let a=Hz(n,s);if((t>0||a>-t)&&(a+=t),n===at.Hours)a===0&&t===-12&&(a=12);else if(n===at.FractionalSeconds)return jz(a,e);let l=Jf(o,eo.MinusSign);return rr(a,e,l,i,r)}}function Hz(n,e){switch(n){case at.FullYear:return e.getFullYear();case at.Month:return e.getMonth();case at.Date:return e.getDate();case at.Hours:return e.getHours();case at.Minutes:return e.getMinutes();case at.Seconds:return e.getSeconds();case at.FractionalSeconds:return e.getMilliseconds();case at.Day:return e.getDay();default:throw new Error(`Unknown DateType value "${n}".`)}}function wt(n,e,t=Jn.Format,i=!1){return function(r,s){return zz(r,s,n,e,t,i)}}function zz(n,e,t,i,r,s){switch(t){case ot.Months:return Oz(e,r,i)[n.getMonth()];case ot.Days:return Rz(e,r,i)[n.getDay()];case ot.DayPeriods:let o=n.getHours(),a=n.getMinutes();if(s){let c=Nz(e),u=Fz(e,r,i),p=c.findIndex(m=>{if(Array.isArray(m)){let[f,_]=m,w=o>=f.hours&&a>=f.minutes,S=o<_.hours||o===_.hours&&a<_.minutes;if(f.hours<_.hours){if(w&&S)return!0}else if(w||S)return!0}else if(m.hours===o&&m.minutes===a)return!0;return!1});if(p!==-1)return u[p]}return kz(e,r,i)[o<12?0:1];case ot.Eras:return Lz(e,i)[n.getFullYear()<=0?0:1];default:let l=t;throw new Error(`unexpected translation type ${l}`)}}function Yf(n){return function(e,t,i){let r=-1*i,s=Jf(t,eo.MinusSign),o=r>0?Math.floor(r/60):Math.ceil(r/60);switch(n){case hs.Short:return(r>=0?"+":"")+rr(o,2,s)+rr(Math.abs(r%60),2,s);case hs.ShortGMT:return"GMT"+(r>=0?"+":"")+rr(o,1,s);case hs.Long:return"GMT"+(r>=0?"+":"")+rr(o,2,s)+":"+rr(Math.abs(r%60),2,s);case hs.Extended:return i===0?"Z":(r>=0?"+":"")+rr(o,2,s)+":"+rr(Math.abs(r%60),2,s);default:throw new Error(`Unknown zone width "${n}"`)}}}var $z=0,Xf=4;function Uz(n){let e=Kf(n,$z,1).getDay();return Kf(n,0,1+(e<=Xf?Xf:Xf+7)-e)}function CM(n){let e=n.getDay(),t=e===0?-3:Xf-e;return Kf(n.getFullYear(),n.getMonth(),n.getDate()+t)}function dx(n,e=!1){return function(t,i){let r;if(e){let s=new Date(t.getFullYear(),t.getMonth(),1).getDay()-1,o=t.getDate();r=1+Math.floor((o+s)/7)}else{let s=CM(t),o=Uz(s.getFullYear()),a=s.getTime()-o.getTime();r=1+Math.round(a/6048e5)}return rr(r,n,Jf(i,eo.MinusSign))}}function Qf(n,e=!1){return function(t,i){let s=CM(t).getFullYear();return rr(s,n,Jf(i,eo.MinusSign),e)}}var hx={};function Gz(n){if(hx[n])return hx[n];let e;switch(n){case"G":case"GG":case"GGG":e=wt(ot.Eras,yt.Abbreviated);break;case"GGGG":e=wt(ot.Eras,yt.Wide);break;case"GGGGG":e=wt(ot.Eras,yt.Narrow);break;case"y":e=nn(at.FullYear,1,0,!1,!0);break;case"yy":e=nn(at.FullYear,2,0,!0,!0);break;case"yyy":e=nn(at.FullYear,3,0,!1,!0);break;case"yyyy":e=nn(at.FullYear,4,0,!1,!0);break;case"Y":e=Qf(1);break;case"YY":e=Qf(2,!0);break;case"YYY":e=Qf(3);break;case"YYYY":e=Qf(4);break;case"M":case"L":e=nn(at.Month,1,1);break;case"MM":case"LL":e=nn(at.Month,2,1);break;case"MMM":e=wt(ot.Months,yt.Abbreviated);break;case"MMMM":e=wt(ot.Months,yt.Wide);break;case"MMMMM":e=wt(ot.Months,yt.Narrow);break;case"LLL":e=wt(ot.Months,yt.Abbreviated,Jn.Standalone);break;case"LLLL":e=wt(ot.Months,yt.Wide,Jn.Standalone);break;case"LLLLL":e=wt(ot.Months,yt.Narrow,Jn.Standalone);break;case"w":e=dx(1);break;case"ww":e=dx(2);break;case"W":e=dx(1,!0);break;case"d":e=nn(at.Date,1);break;case"dd":e=nn(at.Date,2);break;case"c":case"cc":e=nn(at.Day,1);break;case"ccc":e=wt(ot.Days,yt.Abbreviated,Jn.Standalone);break;case"cccc":e=wt(ot.Days,yt.Wide,Jn.Standalone);break;case"ccccc":e=wt(ot.Days,yt.Narrow,Jn.Standalone);break;case"cccccc":e=wt(ot.Days,yt.Short,Jn.Standalone);break;case"E":case"EE":case"EEE":e=wt(ot.Days,yt.Abbreviated);break;case"EEEE":e=wt(ot.Days,yt.Wide);break;case"EEEEE":e=wt(ot.Days,yt.Narrow);break;case"EEEEEE":e=wt(ot.Days,yt.Short);break;case"a":case"aa":case"aaa":e=wt(ot.DayPeriods,yt.Abbreviated);break;case"aaaa":e=wt(ot.DayPeriods,yt.Wide);break;case"aaaaa":e=wt(ot.DayPeriods,yt.Narrow);break;case"b":case"bb":case"bbb":e=wt(ot.DayPeriods,yt.Abbreviated,Jn.Standalone,!0);break;case"bbbb":e=wt(ot.DayPeriods,yt.Wide,Jn.Standalone,!0);break;case"bbbbb":e=wt(ot.DayPeriods,yt.Narrow,Jn.Standalone,!0);break;case"B":case"BB":case"BBB":e=wt(ot.DayPeriods,yt.Abbreviated,Jn.Format,!0);break;case"BBBB":e=wt(ot.DayPeriods,yt.Wide,Jn.Format,!0);break;case"BBBBB":e=wt(ot.DayPeriods,yt.Narrow,Jn.Format,!0);break;case"h":e=nn(at.Hours,1,-12);break;case"hh":e=nn(at.Hours,2,-12);break;case"H":e=nn(at.Hours,1);break;case"HH":e=nn(at.Hours,2);break;case"m":e=nn(at.Minutes,1);break;case"mm":e=nn(at.Minutes,2);break;case"s":e=nn(at.Seconds,1);break;case"ss":e=nn(at.Seconds,2);break;case"S":e=nn(at.FractionalSeconds,1);break;case"SS":e=nn(at.FractionalSeconds,2);break;case"SSS":e=nn(at.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":e=Yf(hs.Short);break;case"ZZZZZ":e=Yf(hs.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":e=Yf(hs.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":e=Yf(hs.Long);break;default:return null}return hx[n]=e,e}function wM(n,e){n=n.replace(/:/g,"");let t=Date.parse("Jan 01, 1970 00:00:00 "+n)/6e4;return isNaN(t)?e:t}function qz(n,e){return n=new Date(n.getTime()),n.setMinutes(n.getMinutes()+e),n}function Wz(n,e,t){let i=t?-1:1,r=n.getTimezoneOffset(),s=wM(e,r);return qz(n,i*(s-r))}function Yz(n){if(dM(n))return n;if(typeof n=="number"&&!isNaN(n))return new Date(n);if(typeof n=="string"){if(n=n.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(n)){let[r,s=1,o=1]=n.split("-").map(a=>+a);return Kf(r,s-1,o)}let t=parseFloat(n);if(!isNaN(n-t))return new Date(t);let i;if(i=n.match(Pz))return Qz(i)}let e=new Date(n);if(!dM(e))throw new Error(`Unable to convert "${n}" into a date`);return e}function Qz(n){let e=new Date(0),t=0,i=0,r=n[8]?e.setUTCFullYear:e.setFullYear,s=n[8]?e.setUTCHours:e.setHours;n[9]&&(t=Number(n[9]+n[10]),i=Number(n[9]+n[11])),r.call(e,Number(n[1]),Number(n[2])-1,Number(n[3]));let o=Number(n[4]||0)-t,a=Number(n[5]||0)-i,l=Number(n[6]||0),c=Math.floor(parseFloat("0."+(n[7]||0))*1e3);return s.call(e,o,a,l,c),e}function dM(n){return n instanceof Date&&!isNaN(n.valueOf())}function SM(n,e,t){return YI(n,e,t)}function em(n,e){e=encodeURIComponent(e);for(let t of n.split(";")){let i=t.indexOf("="),[r,s]=i==-1?[t,""]:[t.slice(0,i),t.slice(i+1)];if(r.trim()===e)return decodeURIComponent(s)}return null}var px=/\s+/,hM=[],Gt=(()=>{class n{constructor(t,i){this._ngEl=t,this._renderer=i,this.initialClasses=hM,this.stateMap=new Map}set klass(t){this.initialClasses=t!=null?t.trim().split(px):hM}set ngClass(t){this.rawClass=typeof t=="string"?t.trim().split(px):t}ngDoCheck(){for(let i of this.initialClasses)this._updateState(i,!0);let t=this.rawClass;if(Array.isArray(t)||t instanceof Set)for(let i of t)this._updateState(i,!0);else if(t!=null)for(let i of Object.keys(t))this._updateState(i,!!t[i]);this._applyStateDiff()}_updateState(t,i){let r=this.stateMap.get(t);r!==void 0?(r.enabled!==i&&(r.changed=!0,r.enabled=i),r.touched=!0):this.stateMap.set(t,{enabled:i,changed:!0,touched:!0})}_applyStateDiff(){for(let t of this.stateMap){let i=t[0],r=t[1];r.changed?(this._toggleClass(i,r.enabled),r.changed=!1):r.touched||(r.enabled&&this._toggleClass(i,!1),this.stateMap.delete(i)),r.touched=!1}}_toggleClass(t,i){t=t.trim(),t.length>0&&t.split(px).forEach(r=>{i?this._renderer.addClass(this._ngEl.nativeElement,r):this._renderer.removeClass(this._ngEl.nativeElement,r)})}static{this.\u0275fac=function(i){return new(i||n)(C(rt),C(It))}}static{this.\u0275dir=Ue({type:n,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"},standalone:!0})}}return n})(),tm=(()=>{class n{constructor(t){this._viewContainerRef=t,this.ngComponentOutlet=null,this._inputsUsed=new Map}_needToReCreateNgModuleInstance(t){return t.ngComponentOutletNgModule!==void 0||t.ngComponentOutletNgModuleFactory!==void 0}_needToReCreateComponentInstance(t){return t.ngComponentOutlet!==void 0||t.ngComponentOutletContent!==void 0||t.ngComponentOutletInjector!==void 0||this._needToReCreateNgModuleInstance(t)}ngOnChanges(t){if(this._needToReCreateComponentInstance(t)&&(this._viewContainerRef.clear(),this._inputsUsed.clear(),this._componentRef=void 0,this.ngComponentOutlet)){let i=this.ngComponentOutletInjector||this._viewContainerRef.parentInjector;this._needToReCreateNgModuleInstance(t)&&(this._moduleRef?.destroy(),this.ngComponentOutletNgModule?this._moduleRef=NI(this.ngComponentOutletNgModule,pM(i)):this.ngComponentOutletNgModuleFactory?this._moduleRef=this.ngComponentOutletNgModuleFactory.create(pM(i)):this._moduleRef=void 0),this._componentRef=this._viewContainerRef.createComponent(this.ngComponentOutlet,{injector:i,ngModuleRef:this._moduleRef,projectableNodes:this.ngComponentOutletContent})}}ngDoCheck(){if(this._componentRef){if(this.ngComponentOutletInputs)for(let t of Object.keys(this.ngComponentOutletInputs))this._inputsUsed.set(t,!0);this._applyInputStateDiff(this._componentRef)}}ngOnDestroy(){this._moduleRef?.destroy()}_applyInputStateDiff(t){for(let[i,r]of this._inputsUsed)r?(t.setInput(i,this.ngComponentOutletInputs[i]),this._inputsUsed.set(i,!1)):(t.setInput(i,void 0),this._inputsUsed.delete(i))}static{this.\u0275fac=function(i){return new(i||n)(C($i))}}static{this.\u0275dir=Ue({type:n,selectors:[["","ngComponentOutlet",""]],inputs:{ngComponentOutlet:"ngComponentOutlet",ngComponentOutletInputs:"ngComponentOutletInputs",ngComponentOutletInjector:"ngComponentOutletInjector",ngComponentOutletContent:"ngComponentOutletContent",ngComponentOutletNgModule:"ngComponentOutletNgModule",ngComponentOutletNgModuleFactory:"ngComponentOutletNgModuleFactory"},standalone:!0,features:[Ge]})}}return n})();function pM(n){return n.get(os).injector}var fx=class{constructor(e,t,i,r){this.$implicit=e,this.ngForOf=t,this.index=i,this.count=r}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},rn=(()=>{class n{set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}constructor(t,i,r){this._viewContainer=t,this._template=i,this._differs=r,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let t=this._ngForOf;if(!this._differ&&t)if(0)try{}catch{}else this._differ=this._differs.find(t).create(this.ngForTrackBy)}if(this._differ){let t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){let i=this._viewContainer;t.forEachOperation((r,s,o)=>{if(r.previousIndex==null)i.createEmbeddedView(this._template,new fx(r.item,this._ngForOf,-1,-1),o===null?void 0:o);else if(o==null)i.remove(s===null?void 0:s);else if(s!==null){let a=i.get(s);i.move(a,o),fM(a,r)}});for(let r=0,s=i.length;r<s;r++){let a=i.get(r).context;a.index=r,a.count=s,a.ngForOf=this._ngForOf}t.forEachIdentityChange(r=>{let s=i.get(r.currentIndex);fM(s,r)})}static ngTemplateContextGuard(t,i){return!0}static{this.\u0275fac=function(i){return new(i||n)(C($i),C(la),C(lx))}}static{this.\u0275dir=Ue({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}}return n})();function fM(n,e){n.context.$implicit=e.item}var Ce=(()=>{class n{constructor(t,i){this._viewContainer=t,this._context=new mx,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){mM("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){mM("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,i){return!0}static{this.\u0275fac=function(i){return new(i||n)(C($i),C(la))}}static{this.\u0275dir=Ue({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}}return n})(),mx=class{constructor(){this.$implicit=null,this.ngIf=null}};function mM(n,e){if(!!!(!e||e.createEmbeddedView))throw new Error(`${n} must be a TemplateRef, but received '${qn(e)}'.`)}var EM=(()=>{class n{constructor(t,i,r){this._ngEl=t,this._differs=i,this._renderer=r,this._ngStyle=null,this._differ=null}set ngStyle(t){this._ngStyle=t,!this._differ&&t&&(this._differ=this._differs.find(t).create())}ngDoCheck(){if(this._differ){let t=this._differ.diff(this._ngStyle);t&&this._applyChanges(t)}}_setStyle(t,i){let[r,s]=t.split("."),o=r.indexOf("-")===-1?void 0:Ar.DashCase;i!=null?this._renderer.setStyle(this._ngEl.nativeElement,r,s?`${i}${s}`:i,o):this._renderer.removeStyle(this._ngEl.nativeElement,r,o)}_applyChanges(t){t.forEachRemovedItem(i=>this._setStyle(i.key,null)),t.forEachAddedItem(i=>this._setStyle(i.key,i.currentValue)),t.forEachChangedItem(i=>this._setStyle(i.key,i.currentValue))}static{this.\u0275fac=function(i){return new(i||n)(C(rt),C(cx),C(It))}}static{this.\u0275dir=Ue({type:n,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"},standalone:!0})}}return n})(),nm=(()=>{class n{constructor(t){this._viewContainerRef=t,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(t){if(this._shouldRecreateView(t)){let i=this._viewContainerRef;if(this._viewRef&&i.remove(i.indexOf(this._viewRef)),!this.ngTemplateOutlet){this._viewRef=null;return}let r=this._createContextForwardProxy();this._viewRef=i.createEmbeddedView(this.ngTemplateOutlet,r,{injector:this.ngTemplateOutletInjector??void 0})}}_shouldRecreateView(t){return!!t.ngTemplateOutlet||!!t.ngTemplateOutletInjector}_createContextForwardProxy(){return new Proxy({},{set:(t,i,r)=>this.ngTemplateOutletContext?Reflect.set(this.ngTemplateOutletContext,i,r):!1,get:(t,i,r)=>{if(this.ngTemplateOutletContext)return Reflect.get(this.ngTemplateOutletContext,i,r)}})}static{this.\u0275fac=function(i){return new(i||n)(C($i))}}static{this.\u0275dir=Ue({type:n,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[Ge]})}}return n})();function DM(n,e){return new W(2100,!1)}var gx=class{createSubscription(e,t){return Gi(()=>e.subscribe({next:t,error:i=>{throw i}}))}dispose(e){Gi(()=>e.unsubscribe())}},vx=class{createSubscription(e,t){return e.then(t,i=>{throw i})}dispose(e){}},Xz=new vx,Zz=new gx,qe=(()=>{class n{constructor(t){this._latestValue=null,this.markForCheckOnValueUpdate=!0,this._subscription=null,this._obj=null,this._strategy=null,this._ref=t}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(t){if(!this._obj){if(t)try{this.markForCheckOnValueUpdate=!1,this._subscribe(t)}finally{this.markForCheckOnValueUpdate=!0}return this._latestValue}return t!==this._obj?(this._dispose(),this.transform(t)):this._latestValue}_subscribe(t){this._obj=t,this._strategy=this._selectStrategy(t),this._subscription=this._strategy.createSubscription(t,i=>this._updateLatestValue(t,i))}_selectStrategy(t){if(Ks(t))return Xz;if(ax(t))return Zz;throw DM(n,t)}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(t,i){t===this._obj&&(this._latestValue=i,this.markForCheckOnValueUpdate&&this._ref?.markForCheck())}static{this.\u0275fac=function(i){return new(i||n)(C(fi,16))}}static{this.\u0275pipe=mb({name:"async",type:n,pure:!1,standalone:!0})}}return n})();var Kz="mediumDate",Jz=new de(""),e5=new de(""),qt=(()=>{class n{constructor(t,i,r){this.locale=t,this.defaultTimezone=i,this.defaultOptions=r}transform(t,i,r,s){if(t==null||t===""||t!==t)return null;try{let o=i??this.defaultOptions?.dateFormat??Kz,a=r??this.defaultOptions?.timezone??this.defaultTimezone??void 0;return Bz(t,o,s||this.locale,a)}catch(o){throw DM(n,o.message)}}static{this.\u0275fac=function(i){return new(i||n)(C(Ol,16),C(Jz,24),C(e5,24))}}static{this.\u0275pipe=mb({name:"date",type:n,pure:!0,standalone:!0})}}return n})();var Xt=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=Xe({type:n})}static{this.\u0275inj=Qe({})}}return n})(),Sx="browser",t5="server";function to(n){return n===Sx}function fs(n){return n===t5}var no=(()=>{class n{static{this.\u0275prov=H({token:n,providedIn:"root",factory:()=>to(B(xn))?new yx(B(vn),window):new _x})}}return n})(),yx=class{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){Array.isArray(e)?this.offset=()=>e:this.offset=e}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(e){this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){let t=n5(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){this.window.history.scrollRestoration=e}scrollToElement(e){let t=e.getBoundingClientRect(),i=t.left+this.window.pageXOffset,r=t.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(i-s[0],r-s[1])}};function n5(n,e){let t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if(typeof n.createTreeWalker=="function"&&n.body&&typeof n.body.attachShadow=="function"){let i=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT),r=i.currentNode;for(;r;){let s=r.shadowRoot;if(s){let o=s.getElementById(e)||s.querySelector(`[name="${e}"]`);if(o)return o}r=i.nextNode()}}return null}var _x=class{setOffset(e){}getScrollPosition(){return[0,0]}scrollToPosition(e){}scrollToAnchor(e){}setHistoryScrollRestoration(e){}},Ll=class{};var Eu=class{},rm=class{},ms=class n{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?typeof e=="string"?this.lazyInit=()=>{this.headers=new Map,e.split(`
`).forEach(t=>{let i=t.indexOf(":");if(i>0){let r=t.slice(0,i),s=r.toLowerCase(),o=t.slice(i+1).trim();this.maybeSetNormalizedName(r,s),this.headers.has(s)?this.headers.get(s).push(o):this.headers.set(s,[o])}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((t,i)=>{this.setHeaderEntries(i,t)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([t,i])=>{this.setHeaderEntries(t,i)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();let t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof n?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){let t=new n;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof n?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){let t=e.name.toLowerCase();switch(e.op){case"a":case"s":let i=e.value;if(typeof i=="string"&&(i=[i]),i.length===0)return;this.maybeSetNormalizedName(e.name,t);let r=(e.op==="a"?this.headers.get(t):void 0)||[];r.push(...i),this.headers.set(t,r);break;case"d":let s=e.value;if(!s)this.headers.delete(t),this.normalizedNames.delete(t);else{let o=this.headers.get(t);if(!o)return;o=o.filter(a=>s.indexOf(a)===-1),o.length===0?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,o)}break}}setHeaderEntries(e,t){let i=(Array.isArray(t)?t:[t]).map(s=>s.toString()),r=e.toLowerCase();this.headers.set(r,i),this.maybeSetNormalizedName(e,r)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}};var Dx=class{encodeKey(e){return TM(e)}encodeValue(e){return TM(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}};function i5(n,e){let t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(r=>{let s=r.indexOf("="),[o,a]=s==-1?[e.decodeKey(r),""]:[e.decodeKey(r.slice(0,s)),e.decodeValue(r.slice(s+1))],l=t.get(o)||[];l.push(a),t.set(o,l)}),t}var r5=/%(\d[a-f0-9])/gi,s5={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function TM(n){return encodeURIComponent(n).replace(r5,(e,t)=>s5[t]??e)}function im(n){return`${n}`}var ro=class n{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new Dx,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=i5(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{let i=e.fromObject[t],r=Array.isArray(i)?i.map(im):[im(i)];this.map.set(t,r)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();let t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){let t=[];return Object.keys(e).forEach(i=>{let r=e[i];Array.isArray(r)?r.forEach(s=>{t.push({param:i,value:s,op:"a"})}):t.push({param:i,value:r,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{let t=this.encoder.encodeKey(e);return this.map.get(e).map(i=>t+"="+this.encoder.encodeValue(i)).join("&")}).filter(e=>e!=="").join("&")}clone(e){let t=new n({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":let t=(e.op==="a"?this.map.get(e.param):void 0)||[];t.push(im(e.value)),this.map.set(e.param,t);break;case"d":if(e.value!==void 0){let i=this.map.get(e.param)||[],r=i.indexOf(im(e.value));r!==-1&&i.splice(r,1),i.length>0?this.map.set(e.param,i):this.map.delete(e.param)}else{this.map.delete(e.param);break}}}),this.cloneFrom=this.updates=null)}};var Tx=class{constructor(){this.map=new Map}set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}};function o5(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function AM(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function IM(n){return typeof Blob<"u"&&n instanceof Blob}function MM(n){return typeof FormData<"u"&&n instanceof FormData}function a5(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}var Su=class n{constructor(e,t,i,r){this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase();let s;if(o5(this.method)||r?(this.body=i!==void 0?i:null,s=r):s=i,s&&(this.reportProgress=!!s.reportProgress,this.withCredentials=!!s.withCredentials,s.responseType&&(this.responseType=s.responseType),s.headers&&(this.headers=s.headers),s.context&&(this.context=s.context),s.params&&(this.params=s.params),this.transferCache=s.transferCache),this.headers??=new ms,this.context??=new Tx,!this.params)this.params=new ro,this.urlWithParams=t;else{let o=this.params.toString();if(o.length===0)this.urlWithParams=t;else{let a=t.indexOf("?"),l=a===-1?"?":a<t.length-1?"&":"";this.urlWithParams=t+l+o}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||AM(this.body)||IM(this.body)||MM(this.body)||a5(this.body)?this.body:this.body instanceof ro?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||MM(this.body)?null:IM(this.body)?this.body.type||null:AM(this.body)?null:typeof this.body=="string"?"text/plain":this.body instanceof ro?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?"application/json":null}clone(e={}){let t=e.method||this.method,i=e.url||this.url,r=e.responseType||this.responseType,s=e.transferCache??this.transferCache,o=e.body!==void 0?e.body:this.body,a=e.withCredentials??this.withCredentials,l=e.reportProgress??this.reportProgress,c=e.headers||this.headers,u=e.params||this.params,p=e.context??this.context;return e.setHeaders!==void 0&&(c=Object.keys(e.setHeaders).reduce((m,f)=>m.set(f,e.setHeaders[f]),c)),e.setParams&&(u=Object.keys(e.setParams).reduce((m,f)=>m.set(f,e.setParams[f]),u)),new n(t,i,o,{params:u,headers:c,context:p,reportProgress:l,responseType:r,withCredentials:a,transferCache:s})}},so=function(n){return n[n.Sent=0]="Sent",n[n.UploadProgress=1]="UploadProgress",n[n.ResponseHeader=2]="ResponseHeader",n[n.DownloadProgress=3]="DownloadProgress",n[n.Response=4]="Response",n[n.User=5]="User",n}(so||{}),Du=class{constructor(e,t=200,i="OK"){this.headers=e.headers||new ms,this.status=e.status!==void 0?e.status:t,this.statusText=e.statusText||i,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}},sm=class n extends Du{constructor(e={}){super(e),this.type=so.ResponseHeader}clone(e={}){return new n({headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},Tu=class n extends Du{constructor(e={}){super(e),this.type=so.Response,this.body=e.body!==void 0?e.body:null}clone(e={}){return new n({body:e.body!==void 0?e.body:this.body,headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},io=class extends Du{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${e.url||"(unknown url)"}`:this.message=`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}},LM=200,l5=204;function Ex(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials,transferCache:n.transferCache}}var ze=(()=>{class n{constructor(t){this.handler=t}request(t,i,r={}){let s;if(t instanceof Su)s=t;else{let l;r.headers instanceof ms?l=r.headers:l=new ms(r.headers);let c;r.params&&(r.params instanceof ro?c=r.params:c=new ro({fromObject:r.params})),s=new Su(t,i,r.body!==void 0?r.body:null,{headers:l,context:r.context,params:c,reportProgress:r.reportProgress,responseType:r.responseType||"json",withCredentials:r.withCredentials,transferCache:r.transferCache})}let o=z(s).pipe(en(l=>this.handler.handle(l)));if(t instanceof Su||r.observe==="events")return o;let a=o.pipe(li(l=>l instanceof Tu));switch(r.observe||"body"){case"body":switch(s.responseType){case"arraybuffer":return a.pipe(V(l=>{if(l.body!==null&&!(l.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return l.body}));case"blob":return a.pipe(V(l=>{if(l.body!==null&&!(l.body instanceof Blob))throw new Error("Response is not a Blob.");return l.body}));case"text":return a.pipe(V(l=>{if(l.body!==null&&typeof l.body!="string")throw new Error("Response is not a string.");return l.body}));case"json":default:return a.pipe(V(l=>l.body))}case"response":return a;default:throw new Error(`Unreachable: unhandled observe type ${r.observe}}`)}}delete(t,i={}){return this.request("DELETE",t,i)}get(t,i={}){return this.request("GET",t,i)}head(t,i={}){return this.request("HEAD",t,i)}jsonp(t,i){return this.request("JSONP",t,{params:new ro().append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,i={}){return this.request("OPTIONS",t,i)}patch(t,i,r={}){return this.request("PATCH",t,Ex(r,i))}post(t,i,r={}){return this.request("POST",t,Ex(r,i))}put(t,i,r={}){return this.request("PUT",t,Ex(r,i))}static{this.\u0275fac=function(i){return new(i||n)($(Eu))}}static{this.\u0275prov=H({token:n,factory:n.\u0275fac})}}return n})(),c5=/^\)\]\}',?\n/,u5="X-Request-URL";function kM(n){if(n.url)return n.url;let e=u5.toLocaleLowerCase();return n.headers.get(e)}var d5=(()=>{class n{constructor(){this.fetchImpl=B(Ax,{optional:!0})?.fetch??((...t)=>globalThis.fetch(...t)),this.ngZone=B(Ke)}handle(t){return new He(i=>{let r=new AbortController;return this.doRequest(t,r.signal,i).then(Ix,s=>i.error(new io({error:s}))),()=>r.abort()})}doRequest(t,i,r){return vr(this,null,function*(){let s=this.createRequestInit(t),o;try{let f=this.ngZone.runOutsideAngular(()=>this.fetchImpl(t.urlWithParams,P({signal:i},s)));h5(f),r.next({type:so.Sent}),o=yield f}catch(f){r.error(new io({error:f,status:f.status??0,statusText:f.statusText,url:t.urlWithParams,headers:f.headers}));return}let a=new ms(o.headers),l=o.statusText,c=kM(o)??t.urlWithParams,u=o.status,p=null;if(t.reportProgress&&r.next(new sm({headers:a,status:u,statusText:l,url:c})),o.body){let f=o.headers.get("content-length"),_=[],w=o.body.getReader(),S=0,D,R,F=typeof Zone<"u"&&Zone.current;yield this.ngZone.runOutsideAngular(()=>vr(this,null,function*(){for(;;){let{done:ne,value:le}=yield w.read();if(ne)break;if(_.push(le),S+=le.length,t.reportProgress){R=t.responseType==="text"?(R??"")+(D??=new TextDecoder).decode(le,{stream:!0}):void 0;let me=()=>r.next({type:so.DownloadProgress,total:f?+f:void 0,loaded:S,partialText:R});F?F.run(me):me()}}}));let U=this.concatChunks(_,S);try{let ne=o.headers.get("Content-Type")??"";p=this.parseBody(t,U,ne)}catch(ne){r.error(new io({error:ne,headers:new ms(o.headers),status:o.status,statusText:o.statusText,url:kM(o)??t.urlWithParams}));return}}u===0&&(u=p?LM:0),u>=200&&u<300?(r.next(new Tu({body:p,headers:a,status:u,statusText:l,url:c})),r.complete()):r.error(new io({error:p,headers:a,status:u,statusText:l,url:c}))})}parseBody(t,i,r){switch(t.responseType){case"json":let s=new TextDecoder().decode(i).replace(c5,"");return s===""?null:JSON.parse(s);case"text":return new TextDecoder().decode(i);case"blob":return new Blob([i],{type:r});case"arraybuffer":return i.buffer}}createRequestInit(t){let i={},r=t.withCredentials?"include":void 0;if(t.headers.forEach((s,o)=>i[s]=o.join(",")),t.headers.has("Accept")||(i.Accept="application/json, text/plain, */*"),!t.headers.has("Content-Type")){let s=t.detectContentTypeHeader();s!==null&&(i["Content-Type"]=s)}return{body:t.serializeBody(),method:t.method,headers:i,credentials:r}}concatChunks(t,i){let r=new Uint8Array(i),s=0;for(let o of t)r.set(o,s),s+=o.length;return r}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=H({token:n,factory:n.\u0275fac})}}return n})(),Ax=class{};function Ix(){}function h5(n){n.then(Ix,Ix)}function p5(n,e){return e(n)}function f5(n,e,t){return(i,r)=>ji(t,()=>e(i,s=>n(s,r)))}var Mx=new de(""),m5=new de(""),g5=new de("",{providedIn:"root",factory:()=>!0});var RM=(()=>{class n extends Eu{constructor(t,i){super(),this.backend=t,this.injector=i,this.chain=null,this.pendingTasks=B(Qs),this.contributeToStability=B(g5)}handle(t){if(this.chain===null){let i=Array.from(new Set([...this.injector.get(Mx),...this.injector.get(m5,[])]));this.chain=i.reduceRight((r,s)=>f5(r,s,this.injector),p5)}if(this.contributeToStability){let i=this.pendingTasks.add();return this.chain(t,r=>this.backend.handle(r)).pipe(Zo(()=>this.pendingTasks.remove(i)))}else return this.chain(t,i=>this.backend.handle(i))}static{this.\u0275fac=function(i){return new(i||n)($(rm),$(Wn))}}static{this.\u0275prov=H({token:n,factory:n.\u0275fac})}}return n})();var v5=/^\)\]\}',?\n/;function y5(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}var OM=(()=>{class n{constructor(t){this.xhrFactory=t}handle(t){if(t.method==="JSONP")throw new W(-2800,!1);let i=this.xhrFactory;return(i.\u0275loadImpl?xt(i.\u0275loadImpl()):z(null)).pipe(Ye(()=>new He(s=>{let o=i.build();if(o.open(t.method,t.urlWithParams),t.withCredentials&&(o.withCredentials=!0),t.headers.forEach((w,S)=>o.setRequestHeader(w,S.join(","))),t.headers.has("Accept")||o.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){let w=t.detectContentTypeHeader();w!==null&&o.setRequestHeader("Content-Type",w)}if(t.responseType){let w=t.responseType.toLowerCase();o.responseType=w!=="json"?w:"text"}let a=t.serializeBody(),l=null,c=()=>{if(l!==null)return l;let w=o.statusText||"OK",S=new ms(o.getAllResponseHeaders()),D=y5(o)||t.url;return l=new sm({headers:S,status:o.status,statusText:w,url:D}),l},u=()=>{let{headers:w,status:S,statusText:D,url:R}=c(),F=null;S!==l5&&(F=typeof o.response>"u"?o.responseText:o.response),S===0&&(S=F?LM:0);let U=S>=200&&S<300;if(t.responseType==="json"&&typeof F=="string"){let ne=F;F=F.replace(v5,"");try{F=F!==""?JSON.parse(F):null}catch(le){F=ne,U&&(U=!1,F={error:le,text:F})}}U?(s.next(new Tu({body:F,headers:w,status:S,statusText:D,url:R||void 0})),s.complete()):s.error(new io({error:F,headers:w,status:S,statusText:D,url:R||void 0}))},p=w=>{let{url:S}=c(),D=new io({error:w,status:o.status||0,statusText:o.statusText||"Unknown Error",url:S||void 0});s.error(D)},m=!1,f=w=>{m||(s.next(c()),m=!0);let S={type:so.DownloadProgress,loaded:w.loaded};w.lengthComputable&&(S.total=w.total),t.responseType==="text"&&o.responseText&&(S.partialText=o.responseText),s.next(S)},_=w=>{let S={type:so.UploadProgress,loaded:w.loaded};w.lengthComputable&&(S.total=w.total),s.next(S)};return o.addEventListener("load",u),o.addEventListener("error",p),o.addEventListener("timeout",p),o.addEventListener("abort",p),t.reportProgress&&(o.addEventListener("progress",f),a!==null&&o.upload&&o.upload.addEventListener("progress",_)),o.send(a),s.next({type:so.Sent}),()=>{o.removeEventListener("error",p),o.removeEventListener("abort",p),o.removeEventListener("load",u),o.removeEventListener("timeout",p),t.reportProgress&&(o.removeEventListener("progress",f),a!==null&&o.upload&&o.upload.removeEventListener("progress",_)),o.readyState!==o.DONE&&o.abort()}})))}static{this.\u0275fac=function(i){return new(i||n)($(Ll))}}static{this.\u0275prov=H({token:n,factory:n.\u0275fac})}}return n})(),NM=new de(""),_5="XSRF-TOKEN",b5=new de("",{providedIn:"root",factory:()=>_5}),x5="X-XSRF-TOKEN",C5=new de("",{providedIn:"root",factory:()=>x5}),om=class{},w5=(()=>{class n{constructor(t,i,r){this.doc=t,this.platform=i,this.cookieName=r,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if(this.platform==="server")return null;let t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=em(t,this.cookieName),this.lastCookieString=t),this.lastToken}static{this.\u0275fac=function(i){return new(i||n)($(vn),$(xn),$(b5))}}static{this.\u0275prov=H({token:n,factory:n.\u0275fac})}}return n})();function S5(n,e){let t=n.url.toLowerCase();if(!B(NM)||n.method==="GET"||n.method==="HEAD"||t.startsWith("http://")||t.startsWith("https://"))return e(n);let i=B(om).getToken(),r=B(C5);return i!=null&&!n.headers.has(r)&&(n=n.clone({headers:n.headers.set(r,i)})),e(n)}var FM=function(n){return n[n.Interceptors=0]="Interceptors",n[n.LegacyInterceptors=1]="LegacyInterceptors",n[n.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",n[n.NoXsrfProtection=3]="NoXsrfProtection",n[n.JsonpSupport=4]="JsonpSupport",n[n.RequestsMadeViaParent=5]="RequestsMadeViaParent",n[n.Fetch=6]="Fetch",n}(FM||{});function E5(n,e){return{\u0275kind:n,\u0275providers:e}}function PM(...n){let e=[ze,OM,RM,{provide:Eu,useExisting:RM},{provide:rm,useFactory:()=>B(d5,{optional:!0})??B(OM)},{provide:Mx,useValue:S5,multi:!0},{provide:NM,useValue:!0},{provide:om,useClass:w5}];for(let t of n)e.push(...t.\u0275providers);return Dl(e)}function VM(n){return E5(FM.Interceptors,n.map(e=>({provide:Mx,useValue:e,multi:!0})))}var Ox=class extends Zf{constructor(){super(...arguments),this.supportsDOMEvents=!0}},Lx=class n extends Ox{static makeCurrent(){vM(new n)}onAndCancel(e,t,i){return e.addEventListener(t,i),()=>{e.removeEventListener(t,i)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.remove()}createElement(e,t){return t=t||this.getDefaultDocument(),t.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return t==="window"?window:t==="document"?e:t==="body"?e.body:null}getBaseHref(e){let t=D5();return t==null?null:T5(t)}resetBaseElement(){Au=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return em(document.cookie,e)}},Au=null;function D5(){return Au=Au||document.querySelector("base"),Au?Au.getAttribute("href"):null}function T5(n){return new URL(n,document.baseURI).pathname}var Nx=class{addToWindow(e){kn.getAngularTestability=(i,r=!0)=>{let s=e.findTestabilityInTree(i,r);if(s==null)throw new W(5103,!1);return s},kn.getAllAngularTestabilities=()=>e.getAllTestabilities(),kn.getAllAngularRootElements=()=>e.getAllRootElements();let t=i=>{let r=kn.getAllAngularTestabilities(),s=r.length,o=function(){s--,s==0&&i()};r.forEach(a=>{a.whenStable(o)})};kn.frameworkStabilizers||(kn.frameworkStabilizers=[]),kn.frameworkStabilizers.push(t)}findTestabilityInTree(e,t,i){if(t==null)return null;let r=e.getTestability(t);return r??(i?kr().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null)}},A5=(()=>{class n{build(){return new XMLHttpRequest}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=H({token:n,factory:n.\u0275fac})}}return n})(),Fx=new de(""),HM=(()=>{class n{constructor(t,i){this._zone=i,this._eventNameToPlugin=new Map,t.forEach(r=>{r.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,i,r){return this._findPluginFor(i).addEventListener(t,i,r)}getZone(){return this._zone}_findPluginFor(t){let i=this._eventNameToPlugin.get(t);if(i)return i;if(i=this._plugins.find(s=>s.supports(t)),!i)throw new W(5101,!1);return this._eventNameToPlugin.set(t,i),i}static{this.\u0275fac=function(i){return new(i||n)($(Fx),$(Ke))}}static{this.\u0275prov=H({token:n,factory:n.\u0275fac})}}return n})(),am=class{constructor(e){this._doc=e}},kx="ng-app-id",zM=(()=>{class n{constructor(t,i,r,s={}){this.doc=t,this.appId=i,this.nonce=r,this.platformId=s,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=fs(s),this.resetHostNodes()}addStyles(t){for(let i of t)this.changeUsageCount(i,1)===1&&this.onStyleAdded(i)}removeStyles(t){for(let i of t)this.changeUsageCount(i,-1)<=0&&this.onStyleRemoved(i)}ngOnDestroy(){let t=this.styleNodesInDOM;t&&(t.forEach(i=>i.remove()),t.clear());for(let i of this.getAllStyles())this.onStyleRemoved(i);this.resetHostNodes()}addHost(t){this.hostNodes.add(t);for(let i of this.getAllStyles())this.addStyleToHost(t,i)}removeHost(t){this.hostNodes.delete(t)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(t){for(let i of this.hostNodes)this.addStyleToHost(i,t)}onStyleRemoved(t){let i=this.styleRef;i.get(t)?.elements?.forEach(r=>r.remove()),i.delete(t)}collectServerRenderedStyles(){let t=this.doc.head?.querySelectorAll(`style[${kx}="${this.appId}"]`);if(t?.length){let i=new Map;return t.forEach(r=>{r.textContent!=null&&i.set(r.textContent,r)}),i}return null}changeUsageCount(t,i){let r=this.styleRef;if(r.has(t)){let s=r.get(t);return s.usage+=i,s.usage}return r.set(t,{usage:i,elements:[]}),i}getStyleElement(t,i){let r=this.styleNodesInDOM,s=r?.get(i);if(s?.parentNode===t)return r.delete(i),s.removeAttribute(kx),s;{let o=this.doc.createElement("style");return this.nonce&&o.setAttribute("nonce",this.nonce),o.textContent=i,this.platformIsServer&&o.setAttribute(kx,this.appId),t.appendChild(o),o}}addStyleToHost(t,i){let r=this.getStyleElement(t,i),s=this.styleRef,o=s.get(i)?.elements;o?o.push(r):s.set(i,{elements:[r],usage:1})}resetHostNodes(){let t=this.hostNodes;t.clear(),t.add(this.doc.head)}static{this.\u0275fac=function(i){return new(i||n)($(vn),$(Sf),$(Lb,8),$(xn))}}static{this.\u0275prov=H({token:n,factory:n.\u0275fac})}}return n})(),Rx={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},Vx=/%COMP%/g,$M="%COMP%",I5=`_nghost-${$M}`,M5=`_ngcontent-${$M}`,k5=!0,R5=new de("",{providedIn:"root",factory:()=>k5});function O5(n){return M5.replace(Vx,n)}function L5(n){return I5.replace(Vx,n)}function UM(n,e){return e.map(t=>t.replace(Vx,n))}var lm=(()=>{class n{constructor(t,i,r,s,o,a,l,c=null){this.eventManager=t,this.sharedStylesHost=i,this.appId=r,this.removeStylesOnCompDestroy=s,this.doc=o,this.platformId=a,this.ngZone=l,this.nonce=c,this.rendererByCompId=new Map,this.platformIsServer=fs(a),this.defaultRenderer=new Iu(t,o,l,this.platformIsServer)}createRenderer(t,i){if(!t||!i)return this.defaultRenderer;this.platformIsServer&&i.encapsulation===Sr.ShadowDom&&(i=ye(P({},i),{encapsulation:Sr.Emulated}));let r=this.getOrCreateRenderer(t,i);return r instanceof cm?r.applyToHost(t):r instanceof Mu&&r.applyStyles(),r}getOrCreateRenderer(t,i){let r=this.rendererByCompId,s=r.get(i.id);if(!s){let o=this.doc,a=this.ngZone,l=this.eventManager,c=this.sharedStylesHost,u=this.removeStylesOnCompDestroy,p=this.platformIsServer;switch(i.encapsulation){case Sr.Emulated:s=new cm(l,c,i,this.appId,u,o,a,p);break;case Sr.ShadowDom:return new Px(l,c,t,i,o,a,this.nonce,p);default:s=new Mu(l,c,i,u,o,a,p);break}r.set(i.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}static{this.\u0275fac=function(i){return new(i||n)($(HM),$(zM),$(Sf),$(R5),$(vn),$(xn),$(Ke),$(Lb))}}static{this.\u0275prov=H({token:n,factory:n.\u0275fac})}}return n})(),Iu=class{constructor(e,t,i,r){this.eventManager=e,this.doc=t,this.ngZone=i,this.platformIsServer=r,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,t){return t?this.doc.createElementNS(Rx[t]||t,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,t){(BM(e)?e.content:e).appendChild(t)}insertBefore(e,t,i){e&&(BM(e)?e.content:e).insertBefore(t,i)}removeChild(e,t){t.remove()}selectRootElement(e,t){let i=typeof e=="string"?this.doc.querySelector(e):e;if(!i)throw new W(-5104,!1);return t||(i.textContent=""),i}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,i,r){if(r){t=r+":"+t;let s=Rx[r];s?e.setAttributeNS(s,t,i):e.setAttribute(t,i)}else e.setAttribute(t,i)}removeAttribute(e,t,i){if(i){let r=Rx[i];r?e.removeAttributeNS(r,t):e.removeAttribute(`${i}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,i,r){r&(Ar.DashCase|Ar.Important)?e.style.setProperty(t,i,r&Ar.Important?"important":""):e.style[t]=i}removeStyle(e,t,i){i&Ar.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,i){e!=null&&(e[t]=i)}setValue(e,t){e.nodeValue=t}listen(e,t,i){if(typeof e=="string"&&(e=kr().getGlobalEventTarget(this.doc,e),!e))throw new Error(`Unsupported event target ${e} for event ${t}`);return this.eventManager.addEventListener(e,t,this.decoratePreventDefault(i))}decoratePreventDefault(e){return t=>{if(t==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(t)):e(t))===!1&&t.preventDefault()}}};function BM(n){return n.tagName==="TEMPLATE"&&n.content!==void 0}var Px=class extends Iu{constructor(e,t,i,r,s,o,a,l){super(e,s,o,l),this.sharedStylesHost=t,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let c=UM(r.id,r.styles);for(let u of c){let p=document.createElement("style");a&&p.setAttribute("nonce",a),p.textContent=u,this.shadowRoot.appendChild(p)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,i){return super.insertBefore(this.nodeOrShadowRoot(e),t,i)}removeChild(e,t){return super.removeChild(null,t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},Mu=class extends Iu{constructor(e,t,i,r,s,o,a,l){super(e,s,o,a),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=r,this.styles=l?UM(l,i.styles):i.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},cm=class extends Mu{constructor(e,t,i,r,s,o,a,l){let c=r+"-"+i.id;super(e,t,i,s,o,a,l,c),this.contentAttr=O5(c),this.hostAttr=L5(c)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){let i=super.createElement(e,t);return super.setAttribute(i,this.contentAttr,""),i}},N5=(()=>{class n extends am{constructor(t){super(t)}supports(t){return!0}addEventListener(t,i,r){return t.addEventListener(i,r,!1),()=>this.removeEventListener(t,i,r)}removeEventListener(t,i,r){return t.removeEventListener(i,r)}static{this.\u0275fac=function(i){return new(i||n)($(vn))}}static{this.\u0275prov=H({token:n,factory:n.\u0275fac})}}return n})(),jM=["alt","control","meta","shift"],F5={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},P5={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey},V5=(()=>{class n extends am{constructor(t){super(t)}supports(t){return n.parseEventName(t)!=null}addEventListener(t,i,r){let s=n.parseEventName(i),o=n.eventCallback(s.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>kr().onAndCancel(t,s.domEventName,o))}static parseEventName(t){let i=t.toLowerCase().split("."),r=i.shift();if(i.length===0||!(r==="keydown"||r==="keyup"))return null;let s=n._normalizeKey(i.pop()),o="",a=i.indexOf("code");if(a>-1&&(i.splice(a,1),o="code."),jM.forEach(c=>{let u=i.indexOf(c);u>-1&&(i.splice(u,1),o+=c+".")}),o+=s,i.length!=0||s.length===0)return null;let l={};return l.domEventName=r,l.fullKey=o,l}static matchEventFullKeyCode(t,i){let r=F5[t.key]||t.key,s="";return i.indexOf("code.")>-1&&(r=t.code,s="code."),r==null||!r?!1:(r=r.toLowerCase(),r===" "?r="space":r==="."&&(r="dot"),jM.forEach(o=>{if(o!==r){let a=P5[o];a(t)&&(s+=o+".")}}),s+=r,s===i)}static eventCallback(t,i,r){return s=>{n.matchEventFullKeyCode(s,t)&&r.runGuarded(()=>i(s))}}static _normalizeKey(t){return t==="esc"?"escape":t}static{this.\u0275fac=function(i){return new(i||n)($(vn))}}static{this.\u0275prov=H({token:n,factory:n.\u0275fac})}}return n})();function GM(n,e){return aM(P({rootComponent:n},B5(e)))}function B5(n){return{appProviders:[...qM,...n?.providers??[]],platformProviders:$5}}function j5(){Lx.makeCurrent()}function H5(){return new Tr}function z5(){return LA(document),document}var $5=[{provide:xn,useValue:Sx},{provide:Rb,useValue:j5,multi:!0},{provide:vn,useFactory:z5,deps:[]}];var U5=new de(""),G5=[{provide:Cu,useClass:Nx,deps:[]},{provide:sx,useClass:Bf,deps:[Ke,jf,Cu]},{provide:Bf,useClass:Bf,deps:[Ke,jf,Cu]}],qM=[{provide:hf,useValue:"root"},{provide:Tr,useFactory:H5,deps:[]},{provide:Fx,useClass:N5,multi:!0,deps:[vn,Ke,xn]},{provide:Fx,useClass:V5,multi:!0,deps:[vn]},lm,zM,HM,{provide:Ws,useExisting:lm},{provide:Ll,useClass:A5,deps:[]},[]],WM=(()=>{class n{constructor(t){}static withServerTransition(t){return{ngModule:n,providers:[{provide:Sf,useValue:t.appId}]}}static{this.\u0275fac=function(i){return new(i||n)($(U5,12))}}static{this.\u0275mod=Xe({type:n})}static{this.\u0275inj=Qe({providers:[...qM,...G5],imports:[Xt,oM]})}}return n})();var YM=(()=>{class n{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}static{this.\u0275fac=function(i){return new(i||n)($(vn))}}static{this.\u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var Re="primary",Gu=Symbol("RouteTitle"),$x=class{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}};function jl(n){return new $x(n)}function W5(n,e,t){let i=t.path.split("/");if(i.length>n.length||t.pathMatch==="full"&&(e.hasChildren()||i.length<n.length))return null;let r={};for(let s=0;s<i.length;s++){let o=i[s],a=n[s];if(o[0]===":")r[o.substring(1)]=a;else if(o!==a.path)return null}return{consumed:n.slice(0,i.length),posParams:r}}function Y5(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!Rr(n[t],e[t]))return!1;return!0}function Rr(n,e){let t=n?Ux(n):void 0,i=e?Ux(e):void 0;if(!t||!i||t.length!=i.length)return!1;let r;for(let s=0;s<t.length;s++)if(r=t[s],!sk(n[r],e[r]))return!1;return!0}function Ux(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function sk(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;let t=[...n].sort(),i=[...e].sort();return t.every((r,s)=>i[s]===r)}else return n===e}function ok(n){return n.length>0?n[n.length-1]:null}function ao(n){return Py(n)?n:Ks(n)?xt(Promise.resolve(n)):z(n)}var Q5={exact:lk,subset:ck},ak={exact:X5,subset:Z5,ignored:()=>!0};function QM(n,e,t){return Q5[t.paths](n.root,e.root,t.matrixParams)&&ak[t.queryParams](n.queryParams,e.queryParams)&&!(t.fragment==="exact"&&n.fragment!==e.fragment)}function X5(n,e){return Rr(n,e)}function lk(n,e,t){if(!pa(n.segments,e.segments)||!hm(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(let i in e.children)if(!n.children[i]||!lk(n.children[i],e.children[i],t))return!1;return!0}function Z5(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>sk(n[t],e[t]))}function ck(n,e,t){return uk(n,e,e.segments,t)}function uk(n,e,t,i){if(n.segments.length>t.length){let r=n.segments.slice(0,t.length);return!(!pa(r,t)||e.hasChildren()||!hm(r,t,i))}else if(n.segments.length===t.length){if(!pa(n.segments,t)||!hm(n.segments,t,i))return!1;for(let r in e.children)if(!n.children[r]||!ck(n.children[r],e.children[r],i))return!1;return!0}else{let r=t.slice(0,n.segments.length),s=t.slice(n.segments.length);return!pa(n.segments,r)||!hm(n.segments,r,i)||!n.children[Re]?!1:uk(n.children[Re],e,s,i)}}function hm(n,e,t){return e.every((i,r)=>ak[t](n[r].parameters,i.parameters))}var vs=class{constructor(e=new dt([],{}),t={},i=null){this.root=e,this.queryParams=t,this.fragment=i}get queryParamMap(){return this._queryParamMap??=jl(this.queryParams),this._queryParamMap}toString(){return e$.serialize(this)}},dt=class{constructor(e,t){this.segments=e,this.children=t,this.parent=null,Object.values(t).forEach(i=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return pm(this)}},ha=class{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap??=jl(this.parameters),this._parameterMap}toString(){return hk(this)}};function K5(n,e){return pa(n,e)&&n.every((t,i)=>Rr(t.parameters,e[i].parameters))}function pa(n,e){return n.length!==e.length?!1:n.every((t,i)=>t.path===e[i].path)}function J5(n,e){let t=[];return Object.entries(n.children).forEach(([i,r])=>{i===Re&&(t=t.concat(e(r,i)))}),Object.entries(n.children).forEach(([i,r])=>{i!==Re&&(t=t.concat(e(r,i)))}),t}var qu=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=H({token:n,factory:()=>new Hl,providedIn:"root"})}}return n})(),Hl=class{parse(e){let t=new qx(e);return new vs(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){let t=`/${ku(e.root,!0)}`,i=i$(e.queryParams),r=typeof e.fragment=="string"?`#${t$(e.fragment)}`:"";return`${t}${i}${r}`}},e$=new Hl;function pm(n){return n.segments.map(e=>hk(e)).join("/")}function ku(n,e){if(!n.hasChildren())return pm(n);if(e){let t=n.children[Re]?ku(n.children[Re],!1):"",i=[];return Object.entries(n.children).forEach(([r,s])=>{r!==Re&&i.push(`${r}:${ku(s,!1)}`)}),i.length>0?`${t}(${i.join("//")})`:t}else{let t=J5(n,(i,r)=>r===Re?[ku(n.children[Re],!1)]:[`${r}:${ku(i,!1)}`]);return Object.keys(n.children).length===1&&n.children[Re]!=null?`${pm(n)}/${t[0]}`:`${pm(n)}/(${t.join("//")})`}}function dk(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function um(n){return dk(n).replace(/%3B/gi,";")}function t$(n){return encodeURI(n)}function Gx(n){return dk(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function fm(n){return decodeURIComponent(n)}function XM(n){return fm(n.replace(/\+/g,"%20"))}function hk(n){return`${Gx(n.path)}${n$(n.parameters)}`}function n$(n){return Object.entries(n).map(([e,t])=>`;${Gx(e)}=${Gx(t)}`).join("")}function i$(n){let e=Object.entries(n).map(([t,i])=>Array.isArray(i)?i.map(r=>`${um(t)}=${um(r)}`).join("&"):`${um(t)}=${um(i)}`).filter(t=>t);return e.length?`?${e.join("&")}`:""}var r$=/^[^\/()?;#]+/;function Bx(n){let e=n.match(r$);return e?e[0]:""}var s$=/^[^\/()?;=#]+/;function o$(n){let e=n.match(s$);return e?e[0]:""}var a$=/^[^=?&#]+/;function l$(n){let e=n.match(a$);return e?e[0]:""}var c$=/^[^&#]+/;function u$(n){let e=n.match(c$);return e?e[0]:""}var qx=class{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new dt([],{}):new dt([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(i[Re]=new dt(e,t)),i}parseSegment(){let e=Bx(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new W(4009,!1);return this.capture(e),new ha(fm(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let t=o$(this.remaining);if(!t)return;this.capture(t);let i="";if(this.consumeOptional("=")){let r=Bx(this.remaining);r&&(i=r,this.capture(i))}e[fm(t)]=fm(i)}parseQueryParam(e){let t=l$(this.remaining);if(!t)return;this.capture(t);let i="";if(this.consumeOptional("=")){let o=u$(this.remaining);o&&(i=o,this.capture(i))}let r=XM(t),s=XM(i);if(e.hasOwnProperty(r)){let o=e[r];Array.isArray(o)||(o=[o],e[r]=o),o.push(s)}else e[r]=s}parseParens(e){let t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let i=Bx(this.remaining),r=this.remaining[i.length];if(r!=="/"&&r!==")"&&r!==";")throw new W(4010,!1);let s;i.indexOf(":")>-1?(s=i.slice(0,i.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=Re);let o=this.parseChildren();t[s]=Object.keys(o).length===1?o[Re]:new dt([],o),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new W(4011,!1)}};function pk(n){return n.segments.length>0?new dt([],{[Re]:n}):n}function fk(n){let e={};for(let[i,r]of Object.entries(n.children)){let s=fk(r);if(i===Re&&s.segments.length===0&&s.hasChildren())for(let[o,a]of Object.entries(s.children))e[o]=a;else(s.segments.length>0||s.hasChildren())&&(e[i]=s)}let t=new dt(n.segments,e);return d$(t)}function d$(n){if(n.numberOfChildren===1&&n.children[Re]){let e=n.children[Re];return new dt(n.segments.concat(e.segments),e.children)}return n}function fa(n){return n instanceof vs}function h$(n,e,t=null,i=null){let r=mk(n);return gk(r,e,t,i)}function mk(n){let e;function t(s){let o={};for(let l of s.children){let c=t(l);o[l.outlet]=c}let a=new dt(s.url,o);return s===n&&(e=a),a}let i=t(n.root),r=pk(i);return e??r}function gk(n,e,t,i){let r=n;for(;r.parent;)r=r.parent;if(e.length===0)return jx(r,r,r,t,i);let s=p$(e);if(s.toRoot())return jx(r,r,new dt([],{}),t,i);let o=f$(s,r,n),a=o.processChildren?Lu(o.segmentGroup,o.index,s.commands):yk(o.segmentGroup,o.index,s.commands);return jx(r,o.segmentGroup,a,t,i)}function mm(n){return typeof n=="object"&&n!=null&&!n.outlets&&!n.segmentPath}function Pu(n){return typeof n=="object"&&n!=null&&n.outlets}function jx(n,e,t,i,r){let s={};i&&Object.entries(i).forEach(([l,c])=>{s[l]=Array.isArray(c)?c.map(u=>`${u}`):`${c}`});let o;n===e?o=t:o=vk(n,e,t);let a=pk(fk(o));return new vs(a,s,r)}function vk(n,e,t){let i={};return Object.entries(n.children).forEach(([r,s])=>{s===e?i[r]=t:i[r]=vk(s,e,t)}),new dt(n.segments,i)}var gm=class{constructor(e,t,i){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=i,e&&i.length>0&&mm(i[0]))throw new W(4003,!1);let r=i.find(Pu);if(r&&r!==ok(i))throw new W(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function p$(n){if(typeof n[0]=="string"&&n.length===1&&n[0]==="/")return new gm(!0,0,n);let e=0,t=!1,i=n.reduce((r,s,o)=>{if(typeof s=="object"&&s!=null){if(s.outlets){let a={};return Object.entries(s.outlets).forEach(([l,c])=>{a[l]=typeof c=="string"?c.split("/"):c}),[...r,{outlets:a}]}if(s.segmentPath)return[...r,s.segmentPath]}return typeof s!="string"?[...r,s]:o===0?(s.split("/").forEach((a,l)=>{l==0&&a==="."||(l==0&&a===""?t=!0:a===".."?e++:a!=""&&r.push(a))}),r):[...r,s]},[]);return new gm(t,e,i)}var Pl=class{constructor(e,t,i){this.segmentGroup=e,this.processChildren=t,this.index=i}};function f$(n,e,t){if(n.isAbsolute)return new Pl(e,!0,0);if(!t)return new Pl(e,!1,NaN);if(t.parent===null)return new Pl(t,!0,0);let i=mm(n.commands[0])?0:1,r=t.segments.length-1+i;return m$(t,r,n.numberOfDoubleDots)}function m$(n,e,t){let i=n,r=e,s=t;for(;s>r;){if(s-=r,i=i.parent,!i)throw new W(4005,!1);r=i.segments.length}return new Pl(i,!1,r-s)}function g$(n){return Pu(n[0])?n[0].outlets:{[Re]:n}}function yk(n,e,t){if(n??=new dt([],{}),n.segments.length===0&&n.hasChildren())return Lu(n,e,t);let i=v$(n,e,t),r=t.slice(i.commandIndex);if(i.match&&i.pathIndex<n.segments.length){let s=new dt(n.segments.slice(0,i.pathIndex),{});return s.children[Re]=new dt(n.segments.slice(i.pathIndex),n.children),Lu(s,0,r)}else return i.match&&r.length===0?new dt(n.segments,{}):i.match&&!n.hasChildren()?Wx(n,e,t):i.match?Lu(n,0,r):Wx(n,e,t)}function Lu(n,e,t){if(t.length===0)return new dt(n.segments,{});{let i=g$(t),r={};if(Object.keys(i).some(s=>s!==Re)&&n.children[Re]&&n.numberOfChildren===1&&n.children[Re].segments.length===0){let s=Lu(n.children[Re],e,t);return new dt(n.segments,s.children)}return Object.entries(i).forEach(([s,o])=>{typeof o=="string"&&(o=[o]),o!==null&&(r[s]=yk(n.children[s],e,o))}),Object.entries(n.children).forEach(([s,o])=>{i[s]===void 0&&(r[s]=o)}),new dt(n.segments,r)}}function v$(n,e,t){let i=0,r=e,s={match:!1,pathIndex:0,commandIndex:0};for(;r<n.segments.length;){if(i>=t.length)return s;let o=n.segments[r],a=t[i];if(Pu(a))break;let l=`${a}`,c=i<t.length-1?t[i+1]:null;if(r>0&&l===void 0)break;if(l&&c&&typeof c=="object"&&c.outlets===void 0){if(!KM(l,c,o))return s;i+=2}else{if(!KM(l,{},o))return s;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}function Wx(n,e,t){let i=n.segments.slice(0,e),r=0;for(;r<t.length;){let s=t[r];if(Pu(s)){let l=y$(s.outlets);return new dt(i,l)}if(r===0&&mm(t[0])){let l=n.segments[e];i.push(new ha(l.path,ZM(t[0]))),r++;continue}let o=Pu(s)?s.outlets[Re]:`${s}`,a=r<t.length-1?t[r+1]:null;o&&a&&mm(a)?(i.push(new ha(o,ZM(a))),r+=2):(i.push(new ha(o,{})),r++)}return new dt(i,{})}function y$(n){let e={};return Object.entries(n).forEach(([t,i])=>{typeof i=="string"&&(i=[i]),i!==null&&(e[t]=Wx(new dt([],{}),0,i))}),e}function ZM(n){let e={};return Object.entries(n).forEach(([t,i])=>e[t]=`${i}`),e}function KM(n,e,t){return n==t.path&&Rr(e,t.parameters)}var Nu="imperative",_n=function(n){return n[n.NavigationStart=0]="NavigationStart",n[n.NavigationEnd=1]="NavigationEnd",n[n.NavigationCancel=2]="NavigationCancel",n[n.NavigationError=3]="NavigationError",n[n.RoutesRecognized=4]="RoutesRecognized",n[n.ResolveStart=5]="ResolveStart",n[n.ResolveEnd=6]="ResolveEnd",n[n.GuardsCheckStart=7]="GuardsCheckStart",n[n.GuardsCheckEnd=8]="GuardsCheckEnd",n[n.RouteConfigLoadStart=9]="RouteConfigLoadStart",n[n.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",n[n.ChildActivationStart=11]="ChildActivationStart",n[n.ChildActivationEnd=12]="ChildActivationEnd",n[n.ActivationStart=13]="ActivationStart",n[n.ActivationEnd=14]="ActivationEnd",n[n.Scroll=15]="Scroll",n[n.NavigationSkipped=16]="NavigationSkipped",n}(_n||{}),Wi=class{constructor(e,t){this.id=e,this.url=t}},zl=class extends Wi{constructor(e,t,i="imperative",r=null){super(e,t),this.type=_n.NavigationStart,this.navigationTrigger=i,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},ei=class extends Wi{constructor(e,t,i){super(e,t),this.urlAfterRedirects=i,this.type=_n.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},Ii=function(n){return n[n.Redirect=0]="Redirect",n[n.SupersededByNewNavigation=1]="SupersededByNewNavigation",n[n.NoDataFromResolver=2]="NoDataFromResolver",n[n.GuardRejected=3]="GuardRejected",n}(Ii||{}),vm=function(n){return n[n.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",n[n.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",n}(vm||{}),gs=class extends Wi{constructor(e,t,i,r){super(e,t),this.reason=i,this.code=r,this.type=_n.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},oo=class extends Wi{constructor(e,t,i,r){super(e,t),this.reason=i,this.code=r,this.type=_n.NavigationSkipped}},Vu=class extends Wi{constructor(e,t,i,r){super(e,t),this.error=i,this.target=r,this.type=_n.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},ym=class extends Wi{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=_n.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Yx=class extends Wi{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=_n.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Qx=class extends Wi{constructor(e,t,i,r,s){super(e,t),this.urlAfterRedirects=i,this.state=r,this.shouldActivate=s,this.type=_n.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},Xx=class extends Wi{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=_n.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Zx=class extends Wi{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=_n.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Kx=class{constructor(e){this.route=e,this.type=_n.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},Jx=class{constructor(e){this.route=e,this.type=_n.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},eC=class{constructor(e){this.snapshot=e,this.type=_n.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},tC=class{constructor(e){this.snapshot=e,this.type=_n.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},nC=class{constructor(e){this.snapshot=e,this.type=_n.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},iC=class{constructor(e){this.snapshot=e,this.type=_n.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},_m=class{constructor(e,t,i){this.routerEvent=e,this.position=t,this.anchor=i,this.type=_n.Scroll}toString(){let e=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${e}')`}},Bu=class{},$l=class{constructor(e,t){this.url=e,this.navigationBehaviorOptions=t}};function _$(n,e){return n.providers&&!n._injector&&(n._injector=Lf(n.providers,e,`Route: ${n.path}`)),n._injector??e}function sr(n){return n.outlet||Re}function b$(n,e){let t=n.filter(i=>sr(i)===e);return t.push(...n.filter(i=>sr(i)!==e)),t}function Wu(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){let t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}var rC=class{get injector(){return Wu(this.route?.snapshot)??this.rootInjector}set injector(e){}constructor(e){this.rootInjector=e,this.outlet=null,this.route=null,this.children=new Yu(this.rootInjector),this.attachRef=null}},Yu=(()=>{class n{constructor(t){this.rootInjector=t,this.contexts=new Map}onChildOutletCreated(t,i){let r=this.getOrCreateContext(t);r.outlet=i,this.contexts.set(t,r)}onChildOutletDestroyed(t){let i=this.getContext(t);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){let t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let i=this.getContext(t);return i||(i=new rC(this.rootInjector),this.contexts.set(t,i)),i}getContext(t){return this.contexts.get(t)||null}static{this.\u0275fac=function(i){return new(i||n)($(Wn))}}static{this.\u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),bm=class{constructor(e){this._root=e}get root(){return this._root.value}parent(e){let t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){let t=sC(e,this._root);return t?t.children.map(i=>i.value):[]}firstChild(e){let t=sC(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){let t=oC(e,this._root);return t.length<2?[]:t[t.length-2].children.map(r=>r.value).filter(r=>r!==e)}pathFromRoot(e){return oC(e,this._root).map(t=>t.value)}};function sC(n,e){if(n===e.value)return e;for(let t of e.children){let i=sC(n,t);if(i)return i}return null}function oC(n,e){if(n===e.value)return[e];for(let t of e.children){let i=oC(n,t);if(i.length)return i.unshift(e),i}return[]}var Ai=class{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}};function Fl(n){let e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}var xm=class extends bm{constructor(e,t){super(e),this.snapshot=t,mC(this,e)}toString(){return this.snapshot.toString()}};function _k(n){let e=x$(n),t=new Be([new ha("",{})]),i=new Be({}),r=new Be({}),s=new Be({}),o=new Be(""),a=new ge(t,i,s,o,r,Re,n,e.root);return a.snapshot=e.root,new xm(new Ai(a,[]),e)}function x$(n){let e={},t={},i={},r="",s=new Vl([],e,i,r,t,Re,n,null,{});return new wm("",new Ai(s,[]))}var ge=class{constructor(e,t,i,r,s,o,a,l){this.urlSubject=e,this.paramsSubject=t,this.queryParamsSubject=i,this.fragmentSubject=r,this.dataSubject=s,this.outlet=o,this.component=a,this._futureSnapshot=l,this.title=this.dataSubject?.pipe(V(c=>c[Gu]))??z(void 0),this.url=e,this.params=t,this.queryParams=i,this.fragment=r,this.data=s}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(V(e=>jl(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(V(e=>jl(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function Cm(n,e,t="emptyOnly"){let i,{routeConfig:r}=n;return e!==null&&(t==="always"||r?.path===""||!e.component&&!e.routeConfig?.loadComponent)?i={params:P(P({},e.params),n.params),data:P(P({},e.data),n.data),resolve:P(P(P(P({},n.data),e.data),r?.data),n._resolvedData)}:i={params:P({},n.params),data:P({},n.data),resolve:P(P({},n.data),n._resolvedData??{})},r&&xk(r)&&(i.resolve[Gu]=r.title),i}var Vl=class{get title(){return this.data?.[Gu]}constructor(e,t,i,r,s,o,a,l,c){this.url=e,this.params=t,this.queryParams=i,this.fragment=r,this.data=s,this.outlet=o,this.component=a,this.routeConfig=l,this._resolve=c}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=jl(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=jl(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(i=>i.toString()).join("/"),t=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${t}')`}},wm=class extends bm{constructor(e,t){super(t),this.url=e,mC(this,t)}toString(){return bk(this._root)}};function mC(n,e){e.value._routerState=n,e.children.forEach(t=>mC(n,t))}function bk(n){let e=n.children.length>0?` { ${n.children.map(bk).join(", ")} } `:"";return`${n.value}${e}`}function Hx(n){if(n.snapshot){let e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,Rr(e.queryParams,t.queryParams)||n.queryParamsSubject.next(t.queryParams),e.fragment!==t.fragment&&n.fragmentSubject.next(t.fragment),Rr(e.params,t.params)||n.paramsSubject.next(t.params),Y5(e.url,t.url)||n.urlSubject.next(t.url),Rr(e.data,t.data)||n.dataSubject.next(t.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function aC(n,e){let t=Rr(n.params,e.params)&&K5(n.url,e.url),i=!n.parent!=!e.parent;return t&&!i&&(!n.parent||aC(n.parent,e.parent))}function xk(n){return typeof n.title=="string"||n.title===null}var gC=(()=>{class n{constructor(){this.activated=null,this._activatedRoute=null,this.name=Re,this.activateEvents=new oe,this.deactivateEvents=new oe,this.attachEvents=new oe,this.detachEvents=new oe,this.parentContexts=B(Yu),this.location=B($i),this.changeDetector=B(fi),this.inputBinder=B(Tm,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(t){if(t.name){let{firstChange:i,previousValue:r}=t.name;if(i)return;this.isTrackedInParentContexts(r)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(r)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new W(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new W(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new W(4012,!1);this.location.detach();let t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,i){this.activated=t,this._activatedRoute=i,this.location.insert(t.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){let t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,i){if(this.isActivated)throw new W(4013,!1);this._activatedRoute=t;let r=this.location,o=t.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,l=new lC(t,a,r.injector);this.activated=r.createComponent(o,{index:r.length,injector:l,environmentInjector:i}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275dir=Ue({type:n,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[Ge]})}}return n})(),lC=class n{__ngOutletInjector(e){return new n(this.route,this.childContexts,e)}constructor(e,t,i){this.route=e,this.childContexts=t,this.parent=i}get(e,t){return e===ge?this.route:e===Yu?this.childContexts:this.parent.get(e,t)}},Tm=new de(""),JM=(()=>{class n{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(t){this.unsubscribeFromRouteData(t),this.subscribeToRouteData(t)}unsubscribeFromRouteData(t){this.outletDataSubscriptions.get(t)?.unsubscribe(),this.outletDataSubscriptions.delete(t)}subscribeToRouteData(t){let{activatedRoute:i}=t,r=Xo([i.queryParams,i.params,i.data]).pipe(Ye(([s,o,a],l)=>(a=P(P(P({},s),o),a),l===0?z(a):Promise.resolve(a)))).subscribe(s=>{if(!t.isActivated||!t.activatedComponentRef||t.activatedRoute!==i||i.component===null){this.unsubscribeFromRouteData(t);return}let o=lM(i.component);if(!o){this.unsubscribeFromRouteData(t);return}for(let{templateName:a}of o.inputs)t.activatedComponentRef.setInput(a,s[a])});this.outletDataSubscriptions.set(t,r)}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=H({token:n,factory:n.\u0275fac})}}return n})();function C$(n,e,t){let i=ju(n,e._root,t?t._root:void 0);return new xm(i,e)}function ju(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){let i=t.value;i._futureSnapshot=e.value;let r=w$(n,e,t);return new Ai(i,r)}else{if(n.shouldAttach(e.value)){let s=n.retrieve(e.value);if(s!==null){let o=s.route;return o.value._futureSnapshot=e.value,o.children=e.children.map(a=>ju(n,a)),o}}let i=S$(e.value),r=e.children.map(s=>ju(n,s));return new Ai(i,r)}}function w$(n,e,t){return e.children.map(i=>{for(let r of t.children)if(n.shouldReuseRoute(i.value,r.value.snapshot))return ju(n,i,r);return ju(n,i)})}function S$(n){return new ge(new Be(n.url),new Be(n.params),new Be(n.queryParams),new Be(n.fragment),new Be(n.data),n.outlet,n.component,n)}var Hu=class{constructor(e,t){this.redirectTo=e,this.navigationBehaviorOptions=t}},Ck="ngNavigationCancelingError";function Sm(n,e){let{redirectTo:t,navigationBehaviorOptions:i}=fa(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,r=wk(!1,Ii.Redirect);return r.url=t,r.navigationBehaviorOptions=i,r}function wk(n,e){let t=new Error(`NavigationCancelingError: ${n||""}`);return t[Ck]=!0,t.cancellationCode=e,t}function E$(n){return Sk(n)&&fa(n.url)}function Sk(n){return!!n&&n[Ck]}var D$=(n,e,t,i)=>V(r=>(new cC(e,r.targetRouterState,r.currentRouterState,t,i).activate(n),r)),cC=class{constructor(e,t,i,r,s){this.routeReuseStrategy=e,this.futureState=t,this.currState=i,this.forwardEvent=r,this.inputBindingEnabled=s}activate(e){let t=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,i,e),Hx(this.futureState.root),this.activateChildRoutes(t,i,e)}deactivateChildRoutes(e,t,i){let r=Fl(t);e.children.forEach(s=>{let o=s.value.outlet;this.deactivateRoutes(s,r[o],i),delete r[o]}),Object.values(r).forEach(s=>{this.deactivateRouteAndItsChildren(s,i)})}deactivateRoutes(e,t,i){let r=e.value,s=t?t.value:null;if(r===s)if(r.component){let o=i.getContext(r.outlet);o&&this.deactivateChildRoutes(e,t,o.children)}else this.deactivateChildRoutes(e,t,i);else s&&this.deactivateRouteAndItsChildren(t,i)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){let i=t.getContext(e.value.outlet),r=i&&e.value.component?i.children:t,s=Fl(e);for(let o of Object.values(s))this.deactivateRouteAndItsChildren(o,r);if(i&&i.outlet){let o=i.outlet.detach(),a=i.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:o,route:e,contexts:a})}}deactivateRouteAndOutlet(e,t){let i=t.getContext(e.value.outlet),r=i&&e.value.component?i.children:t,s=Fl(e);for(let o of Object.values(s))this.deactivateRouteAndItsChildren(o,r);i&&(i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated()),i.attachRef=null,i.route=null)}activateChildRoutes(e,t,i){let r=Fl(t);e.children.forEach(s=>{this.activateRoutes(s,r[s.value.outlet],i),this.forwardEvent(new iC(s.value.snapshot))}),e.children.length&&this.forwardEvent(new tC(e.value.snapshot))}activateRoutes(e,t,i){let r=e.value,s=t?t.value:null;if(Hx(r),r===s)if(r.component){let o=i.getOrCreateContext(r.outlet);this.activateChildRoutes(e,t,o.children)}else this.activateChildRoutes(e,t,i);else if(r.component){let o=i.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){let a=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),Hx(a.route.value),this.activateChildRoutes(e,null,o.children)}else o.attachRef=null,o.route=r,o.outlet&&o.outlet.activateWith(r,o.injector),this.activateChildRoutes(e,null,o.children)}else this.activateChildRoutes(e,null,i)}},Em=class{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},Bl=class{constructor(e,t){this.component=e,this.route=t}};function T$(n,e,t){let i=n._root,r=e?e._root:null;return Ru(i,r,t,[i.value])}function A$(n){let e=n.routeConfig?n.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:n,guards:e}}function Gl(n,e){let t=Symbol(),i=e.get(n,t);return i===t?typeof n=="function"&&!bT(n)?n:e.get(n):i}function Ru(n,e,t,i,r={canDeactivateChecks:[],canActivateChecks:[]}){let s=Fl(e);return n.children.forEach(o=>{I$(o,s[o.value.outlet],t,i.concat([o.value]),r),delete s[o.value.outlet]}),Object.entries(s).forEach(([o,a])=>Fu(a,t.getContext(o),r)),r}function I$(n,e,t,i,r={canDeactivateChecks:[],canActivateChecks:[]}){let s=n.value,o=e?e.value:null,a=t?t.getContext(n.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){let l=M$(o,s,s.routeConfig.runGuardsAndResolvers);l?r.canActivateChecks.push(new Em(i)):(s.data=o.data,s._resolvedData=o._resolvedData),s.component?Ru(n,e,a?a.children:null,i,r):Ru(n,e,t,i,r),l&&a&&a.outlet&&a.outlet.isActivated&&r.canDeactivateChecks.push(new Bl(a.outlet.component,o))}else o&&Fu(e,a,r),r.canActivateChecks.push(new Em(i)),s.component?Ru(n,null,a?a.children:null,i,r):Ru(n,null,t,i,r);return r}function M$(n,e,t){if(typeof t=="function")return t(n,e);switch(t){case"pathParamsChange":return!pa(n.url,e.url);case"pathParamsOrQueryParamsChange":return!pa(n.url,e.url)||!Rr(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!aC(n,e)||!Rr(n.queryParams,e.queryParams);case"paramsChange":default:return!aC(n,e)}}function Fu(n,e,t){let i=Fl(n),r=n.value;Object.entries(i).forEach(([s,o])=>{r.component?e?Fu(o,e.children.getContext(s),t):Fu(o,null,t):Fu(o,e,t)}),r.component?e&&e.outlet&&e.outlet.isActivated?t.canDeactivateChecks.push(new Bl(e.outlet.component,r)):t.canDeactivateChecks.push(new Bl(null,r)):t.canDeactivateChecks.push(new Bl(null,r))}function Qu(n){return typeof n=="function"}function k$(n){return typeof n=="boolean"}function R$(n){return n&&Qu(n.canLoad)}function O$(n){return n&&Qu(n.canActivate)}function L$(n){return n&&Qu(n.canActivateChild)}function N$(n){return n&&Qu(n.canDeactivate)}function F$(n){return n&&Qu(n.canMatch)}function Ek(n){return n instanceof Ki||n?.name==="EmptyError"}var dm=Symbol("INITIAL_VALUE");function Ul(){return Ye(n=>Xo(n.map(e=>e.pipe(Qt(1),ll(dm)))).pipe(V(e=>{for(let t of e)if(t!==!0){if(t===dm)return dm;if(t===!1||P$(t))return t}return!0}),li(e=>e!==dm),Qt(1)))}function P$(n){return fa(n)||n instanceof Hu}function V$(n,e){return nt(t=>{let{targetSnapshot:i,currentSnapshot:r,guards:{canActivateChecks:s,canDeactivateChecks:o}}=t;return o.length===0&&s.length===0?z(ye(P({},t),{guardsResult:!0})):B$(o,i,r,n).pipe(nt(a=>a&&k$(a)?j$(i,s,n,e):z(a)),V(a=>ye(P({},t),{guardsResult:a})))})}function B$(n,e,t,i){return xt(n).pipe(nt(r=>G$(r.component,r.route,t,e,i)),br(r=>r!==!0,!0))}function j$(n,e,t,i){return xt(e).pipe(en(r=>sl(z$(r.route.parent,i),H$(r.route,i),U$(n,r.path,t),$$(n,r.route,t))),br(r=>r!==!0,!0))}function H$(n,e){return n!==null&&e&&e(new nC(n)),z(!0)}function z$(n,e){return n!==null&&e&&e(new eC(n)),z(!0)}function $$(n,e,t){let i=e.routeConfig?e.routeConfig.canActivate:null;if(!i||i.length===0)return z(!0);let r=i.map(s=>ol(()=>{let o=Wu(e)??t,a=Gl(s,o),l=O$(a)?a.canActivate(e,n):ji(o,()=>a(e,n));return ao(l).pipe(br())}));return z(r).pipe(Ul())}function U$(n,e,t){let i=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(o=>A$(o)).filter(o=>o!==null).map(o=>ol(()=>{let a=o.guards.map(l=>{let c=Wu(o.node)??t,u=Gl(l,c),p=L$(u)?u.canActivateChild(i,n):ji(c,()=>u(i,n));return ao(p).pipe(br())});return z(a).pipe(Ul())}));return z(s).pipe(Ul())}function G$(n,e,t,i,r){let s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!s||s.length===0)return z(!0);let o=s.map(a=>{let l=Wu(e)??r,c=Gl(a,l),u=N$(c)?c.canDeactivate(n,e,t,i):ji(l,()=>c(n,e,t,i));return ao(u).pipe(br())});return z(o).pipe(Ul())}function q$(n,e,t,i){let r=e.canLoad;if(r===void 0||r.length===0)return z(!0);let s=r.map(o=>{let a=Gl(o,n),l=R$(a)?a.canLoad(e,t):ji(n,()=>a(e,t));return ao(l)});return z(s).pipe(Ul(),Dk(i))}function Dk(n){return Wo(q(e=>{if(typeof e!="boolean")throw Sm(n,e)}),V(e=>e===!0))}function W$(n,e,t,i){let r=e.canMatch;if(!r||r.length===0)return z(!0);let s=r.map(o=>{let a=Gl(o,n),l=F$(a)?a.canMatch(e,t):ji(n,()=>a(e,t));return ao(l)});return z(s).pipe(Ul(),Dk(i))}var zu=class{constructor(e){this.segmentGroup=e||null}},$u=class extends Error{constructor(e){super(),this.urlTree=e}};function Nl(n){return rl(new zu(n))}function Y$(n){return rl(new W(4e3,!1))}function Q$(n){return rl(wk(!1,Ii.GuardRejected))}var uC=class{constructor(e,t){this.urlSerializer=e,this.urlTree=t}lineralizeSegments(e,t){let i=[],r=t.root;for(;;){if(i=i.concat(r.segments),r.numberOfChildren===0)return z(i);if(r.numberOfChildren>1||!r.children[Re])return Y$(`${e.redirectTo}`);r=r.children[Re]}}applyRedirectCommands(e,t,i,r,s){if(typeof t!="string"){let a=t,{queryParams:l,fragment:c,routeConfig:u,url:p,outlet:m,params:f,data:_,title:w}=r,S=ji(s,()=>a({params:f,data:_,queryParams:l,fragment:c,routeConfig:u,url:p,outlet:m,title:w}));if(S instanceof vs)throw new $u(S);t=S}let o=this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,i);if(t[0]==="/")throw new $u(o);return o}applyRedirectCreateUrlTree(e,t,i,r){let s=this.createSegmentGroup(e,t.root,i,r);return new vs(s,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){let i={};return Object.entries(e).forEach(([r,s])=>{if(typeof s=="string"&&s[0]===":"){let a=s.substring(1);i[r]=t[a]}else i[r]=s}),i}createSegmentGroup(e,t,i,r){let s=this.createSegments(e,t.segments,i,r),o={};return Object.entries(t.children).forEach(([a,l])=>{o[a]=this.createSegmentGroup(e,l,i,r)}),new dt(s,o)}createSegments(e,t,i,r){return t.map(s=>s.path[0]===":"?this.findPosParam(e,s,r):this.findOrReturn(s,i))}findPosParam(e,t,i){let r=i[t.path.substring(1)];if(!r)throw new W(4001,!1);return r}findOrReturn(e,t){let i=0;for(let r of t){if(r.path===e.path)return t.splice(i),r;i++}return e}},dC={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function X$(n,e,t,i,r){let s=Tk(n,e,t);return s.matched?(i=_$(e,i),W$(i,e,t,r).pipe(V(o=>o===!0?s:P({},dC)))):z(s)}function Tk(n,e,t){if(e.path==="**")return Z$(t);if(e.path==="")return e.pathMatch==="full"&&(n.hasChildren()||t.length>0)?P({},dC):{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};let r=(e.matcher||W5)(t,n,e);if(!r)return P({},dC);let s={};Object.entries(r.posParams??{}).forEach(([a,l])=>{s[a]=l.path});let o=r.consumed.length>0?P(P({},s),r.consumed[r.consumed.length-1].parameters):s;return{matched:!0,consumedSegments:r.consumed,remainingSegments:t.slice(r.consumed.length),parameters:o,positionalParamSegments:r.posParams??{}}}function Z$(n){return{matched:!0,parameters:n.length>0?ok(n).parameters:{},consumedSegments:n,remainingSegments:[],positionalParamSegments:{}}}function ek(n,e,t,i){return t.length>0&&eU(n,t,i)?{segmentGroup:new dt(e,J$(i,new dt(t,n.children))),slicedSegments:[]}:t.length===0&&tU(n,t,i)?{segmentGroup:new dt(n.segments,K$(n,t,i,n.children)),slicedSegments:t}:{segmentGroup:new dt(n.segments,n.children),slicedSegments:t}}function K$(n,e,t,i){let r={};for(let s of t)if(Am(n,e,s)&&!i[sr(s)]){let o=new dt([],{});r[sr(s)]=o}return P(P({},i),r)}function J$(n,e){let t={};t[Re]=e;for(let i of n)if(i.path===""&&sr(i)!==Re){let r=new dt([],{});t[sr(i)]=r}return t}function eU(n,e,t){return t.some(i=>Am(n,e,i)&&sr(i)!==Re)}function tU(n,e,t){return t.some(i=>Am(n,e,i))}function Am(n,e,t){return(n.hasChildren()||e.length>0)&&t.pathMatch==="full"?!1:t.path===""}function nU(n,e,t){return e.length===0&&!n.children[t]}var hC=class{};function iU(n,e,t,i,r,s,o="emptyOnly"){return new pC(n,e,t,i,r,o,s).recognize()}var rU=31,pC=class{constructor(e,t,i,r,s,o,a){this.injector=e,this.configLoader=t,this.rootComponentType=i,this.config=r,this.urlTree=s,this.paramsInheritanceStrategy=o,this.urlSerializer=a,this.applyRedirects=new uC(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(e){return new W(4002,`'${e.segmentGroup}'`)}recognize(){let e=ek(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(V(({children:t,rootSnapshot:i})=>{let r=new Ai(i,t),s=new wm("",r),o=h$(i,[],this.urlTree.queryParams,this.urlTree.fragment);return o.queryParams=this.urlTree.queryParams,s.url=this.urlSerializer.serialize(o),{state:s,tree:o}}))}match(e){let t=new Vl([],Object.freeze({}),Object.freeze(P({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),Re,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,e,Re,t).pipe(V(i=>({children:i,rootSnapshot:t})),ie(i=>{if(i instanceof $u)return this.urlTree=i.urlTree,this.match(i.urlTree.root);throw i instanceof zu?this.noMatchError(i):i}))}processSegmentGroup(e,t,i,r,s){return i.segments.length===0&&i.hasChildren()?this.processChildren(e,t,i,s):this.processSegment(e,t,i,i.segments,r,!0,s).pipe(V(o=>o instanceof Ai?[o]:[]))}processChildren(e,t,i,r){let s=[];for(let o of Object.keys(i.children))o==="primary"?s.unshift(o):s.push(o);return xt(s).pipe(en(o=>{let a=i.children[o],l=b$(t,o);return this.processSegmentGroup(e,l,a,o,r)}),$y((o,a)=>(o.push(...a),o)),Ps(null),zy(),nt(o=>{if(o===null)return Nl(i);let a=Ak(o);return sU(a),z(a)}))}processSegment(e,t,i,r,s,o,a){return xt(t).pipe(en(l=>this.processSegmentAgainstRoute(l._injector??e,t,l,i,r,s,o,a).pipe(ie(c=>{if(c instanceof zu)return z(null);throw c}))),br(l=>!!l),ie(l=>{if(Ek(l))return nU(i,r,s)?z(new hC):Nl(i);throw l}))}processSegmentAgainstRoute(e,t,i,r,s,o,a,l){return sr(i)!==o&&(o===Re||!Am(r,s,i))?Nl(r):i.redirectTo===void 0?this.matchSegmentAgainstRoute(e,r,i,s,o,l):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,r,t,i,s,o,l):Nl(r)}expandSegmentAgainstRouteUsingRedirect(e,t,i,r,s,o,a){let{matched:l,parameters:c,consumedSegments:u,positionalParamSegments:p,remainingSegments:m}=Tk(t,r,s);if(!l)return Nl(t);typeof r.redirectTo=="string"&&r.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>rU&&(this.allowRedirects=!1));let f=new Vl(s,c,Object.freeze(P({},this.urlTree.queryParams)),this.urlTree.fragment,tk(r),sr(r),r.component??r._loadedComponent??null,r,nk(r)),_=Cm(f,a,this.paramsInheritanceStrategy);f.params=Object.freeze(_.params),f.data=Object.freeze(_.data);let w=this.applyRedirects.applyRedirectCommands(u,r.redirectTo,p,f,e);return this.applyRedirects.lineralizeSegments(r,w).pipe(nt(S=>this.processSegment(e,i,t,S.concat(m),o,!1,a)))}matchSegmentAgainstRoute(e,t,i,r,s,o){let a=X$(t,i,r,e,this.urlSerializer);return i.path==="**"&&(t.children={}),a.pipe(Ye(l=>l.matched?(e=i._injector??e,this.getChildConfig(e,i,r).pipe(Ye(({routes:c})=>{let u=i._loadedInjector??e,{parameters:p,consumedSegments:m,remainingSegments:f}=l,_=new Vl(m,p,Object.freeze(P({},this.urlTree.queryParams)),this.urlTree.fragment,tk(i),sr(i),i.component??i._loadedComponent??null,i,nk(i)),w=Cm(_,o,this.paramsInheritanceStrategy);_.params=Object.freeze(w.params),_.data=Object.freeze(w.data);let{segmentGroup:S,slicedSegments:D}=ek(t,m,f,c);if(D.length===0&&S.hasChildren())return this.processChildren(u,c,S,_).pipe(V(F=>new Ai(_,F)));if(c.length===0&&D.length===0)return z(new Ai(_,[]));let R=sr(i)===s;return this.processSegment(u,c,S,D,R?Re:s,!0,_).pipe(V(F=>new Ai(_,F instanceof Ai?[F]:[])))}))):Nl(t)))}getChildConfig(e,t,i){return t.children?z({routes:t.children,injector:e}):t.loadChildren?t._loadedRoutes!==void 0?z({routes:t._loadedRoutes,injector:t._loadedInjector}):q$(e,t,i,this.urlSerializer).pipe(nt(r=>r?this.configLoader.loadChildren(e,t).pipe(q(s=>{t._loadedRoutes=s.routes,t._loadedInjector=s.injector})):Q$(t))):z({routes:[],injector:e})}};function sU(n){n.sort((e,t)=>e.value.outlet===Re?-1:t.value.outlet===Re?1:e.value.outlet.localeCompare(t.value.outlet))}function oU(n){let e=n.value.routeConfig;return e&&e.path===""}function Ak(n){let e=[],t=new Set;for(let i of n){if(!oU(i)){e.push(i);continue}let r=e.find(s=>i.value.routeConfig===s.value.routeConfig);r!==void 0?(r.children.push(...i.children),t.add(r)):e.push(i)}for(let i of t){let r=Ak(i.children);e.push(new Ai(i.value,r))}return e.filter(i=>!t.has(i))}function tk(n){return n.data||{}}function nk(n){return n.resolve||{}}function aU(n,e,t,i,r,s){return nt(o=>iU(n,e,t,i,o.extractedUrl,r,s).pipe(V(({state:a,tree:l})=>ye(P({},o),{targetSnapshot:a,urlAfterRedirects:l}))))}function lU(n,e){return nt(t=>{let{targetSnapshot:i,guards:{canActivateChecks:r}}=t;if(!r.length)return z(t);let s=new Set(r.map(l=>l.route)),o=new Set;for(let l of s)if(!o.has(l))for(let c of Ik(l))o.add(c);let a=0;return xt(o).pipe(en(l=>s.has(l)?cU(l,i,n,e):(l.data=Cm(l,l.parent,n).resolve,z(void 0))),q(()=>a++),al(1),nt(l=>a===o.size?z(t):Si))})}function Ik(n){let e=n.children.map(t=>Ik(t)).flat();return[n,...e]}function cU(n,e,t,i){let r=n.routeConfig,s=n._resolve;return r?.title!==void 0&&!xk(r)&&(s[Gu]=r.title),uU(s,n,e,i).pipe(V(o=>(n._resolvedData=o,n.data=Cm(n,n.parent,t).resolve,null)))}function uU(n,e,t,i){let r=Ux(n);if(r.length===0)return z({});let s={};return xt(r).pipe(nt(o=>dU(n[o],e,t,i).pipe(br(),q(a=>{if(a instanceof Hu)throw Sm(new Hl,a);s[o]=a}))),al(1),Hy(s),ie(o=>Ek(o)?Si:rl(o)))}function dU(n,e,t,i){let r=Wu(e)??i,s=Gl(n,r),o=s.resolve?s.resolve(e,t):ji(r,()=>s(e,t));return ao(o)}function zx(n){return Ye(e=>{let t=n(e);return t?xt(t).pipe(V(()=>e)):z(e)})}var Mk=(()=>{class n{buildTitle(t){let i,r=t.root;for(;r!==void 0;)i=this.getResolvedTitleForRoute(r)??i,r=r.children.find(s=>s.outlet===Re);return i}getResolvedTitleForRoute(t){return t.data[Gu]}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=H({token:n,factory:()=>B(hU),providedIn:"root"})}}return n})(),hU=(()=>{class n extends Mk{constructor(t){super(),this.title=t}updateTitle(t){let i=this.buildTitle(t);i!==void 0&&this.title.setTitle(i)}static{this.\u0275fac=function(i){return new(i||n)($(YM))}}static{this.\u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),Xu=new de("",{providedIn:"root",factory:()=>({})}),pU=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275cmp=A({type:n,selectors:[["ng-component"]],standalone:!0,features:[I],decls:1,vars:0,template:function(i,r){i&1&&x(0,"router-outlet")},dependencies:[gC],encapsulation:2})}}return n})();function vC(n){let e=n.children&&n.children.map(vC),t=e?ye(P({},n),{children:e}):P({},n);return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==Re&&(t.component=pU),t}var Uu=new de(""),yC=(()=>{class n{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=B(zf)}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return z(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);let i=ao(t.loadComponent()).pipe(V(kk),q(s=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=s}),Zo(()=>{this.componentLoaders.delete(t)})),r=new el(i,()=>new ut).pipe(Ja());return this.componentLoaders.set(t,r),r}loadChildren(t,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return z({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);let s=fU(i,this.compiler,t,this.onLoadEndListener).pipe(Zo(()=>{this.childrenLoaders.delete(i)})),o=new el(s,()=>new ut).pipe(Ja());return this.childrenLoaders.set(i,o),o}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function fU(n,e,t,i){return ao(n.loadChildren()).pipe(V(kk),nt(r=>r instanceof cu||Array.isArray(r)?z(r):xt(e.compileModuleAsync(r))),V(r=>{i&&i(n);let s,o,a=!1;return Array.isArray(r)?(o=r,a=!0):(s=r.create(t).injector,o=s.get(Uu,[],{optional:!0,self:!0}).flat()),{routes:o.map(vC),injector:s}}))}function mU(n){return n&&typeof n=="object"&&"default"in n}function kk(n){return mU(n)?n.default:n}var _C=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=H({token:n,factory:()=>B(gU),providedIn:"root"})}}return n})(),gU=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,i){return t}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),Rk=new de(""),Ok=new de("");function vU(n,e,t){let i=n.get(Ok),r=n.get(vn);return n.get(Ke).runOutsideAngular(()=>{if(!r.startViewTransition||i.skipNextTransition)return i.skipNextTransition=!1,new Promise(c=>setTimeout(c));let s,o=new Promise(c=>{s=c}),a=r.startViewTransition(()=>(s(),yU(n))),{onViewTransitionCreated:l}=i;return l&&ji(n,()=>l({transition:a,from:e,to:t})),o})}function yU(n){return new Promise(e=>{nx({read:()=>setTimeout(e)},{injector:n})})}var _U=new de(""),bC=(()=>{class n{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new ut,this.transitionAbortSubject=new ut,this.configLoader=B(yC),this.environmentInjector=B(Wn),this.urlSerializer=B(qu),this.rootContexts=B(Yu),this.location=B(Rt),this.inputBindingEnabled=B(Tm,{optional:!0})!==null,this.titleStrategy=B(Mk),this.options=B(Xu,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=B(_C),this.createViewTransition=B(Rk,{optional:!0}),this.navigationErrorHandler=B(_U,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>z(void 0),this.rootComponentType=null;let t=r=>this.events.next(new Kx(r)),i=r=>this.events.next(new Jx(r));this.configLoader.onLoadEndListener=i,this.configLoader.onLoadStartListener=t}complete(){this.transitions?.complete()}handleNavigationRequest(t){let i=++this.navigationId;this.transitions?.next(ye(P(P({},this.transitions.value),t),{id:i}))}setupNavigations(t,i,r){return this.transitions=new Be({id:0,currentUrlTree:i,currentRawUrl:i,extractedUrl:this.urlHandlingStrategy.extract(i),urlAfterRedirects:this.urlHandlingStrategy.extract(i),rawUrl:i,extras:{},resolve:()=>{},reject:()=>{},promise:Promise.resolve(!0),source:Nu,restoredState:null,currentSnapshot:r.snapshot,targetSnapshot:null,currentRouterState:r,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(li(s=>s.id!==0),V(s=>ye(P({},s),{extractedUrl:this.urlHandlingStrategy.extract(s.rawUrl)})),Ye(s=>{let o=!1,a=!1;return z(s).pipe(Ye(l=>{if(this.navigationId>s.id)return this.cancelNavigationTransition(s,"",Ii.SupersededByNewNavigation),Si;this.currentTransition=s,this.currentNavigation={id:l.id,initialUrl:l.rawUrl,extractedUrl:l.extractedUrl,targetBrowserUrl:typeof l.extras.browserUrl=="string"?this.urlSerializer.parse(l.extras.browserUrl):l.extras.browserUrl,trigger:l.source,extras:l.extras,previousNavigation:this.lastSuccessfulNavigation?ye(P({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let c=!t.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),u=l.extras.onSameUrlNavigation??t.onSameUrlNavigation;if(!c&&u!=="reload"){let p="";return this.events.next(new oo(l.id,this.urlSerializer.serialize(l.rawUrl),p,vm.IgnoredSameUrlNavigation)),l.resolve(!1),Si}if(this.urlHandlingStrategy.shouldProcessUrl(l.rawUrl))return z(l).pipe(Ye(p=>{let m=this.transitions?.getValue();return this.events.next(new zl(p.id,this.urlSerializer.serialize(p.extractedUrl),p.source,p.restoredState)),m!==this.transitions?.getValue()?Si:Promise.resolve(p)}),aU(this.environmentInjector,this.configLoader,this.rootComponentType,t.config,this.urlSerializer,this.paramsInheritanceStrategy),q(p=>{s.targetSnapshot=p.targetSnapshot,s.urlAfterRedirects=p.urlAfterRedirects,this.currentNavigation=ye(P({},this.currentNavigation),{finalUrl:p.urlAfterRedirects});let m=new ym(p.id,this.urlSerializer.serialize(p.extractedUrl),this.urlSerializer.serialize(p.urlAfterRedirects),p.targetSnapshot);this.events.next(m)}));if(c&&this.urlHandlingStrategy.shouldProcessUrl(l.currentRawUrl)){let{id:p,extractedUrl:m,source:f,restoredState:_,extras:w}=l,S=new zl(p,this.urlSerializer.serialize(m),f,_);this.events.next(S);let D=_k(this.rootComponentType).snapshot;return this.currentTransition=s=ye(P({},l),{targetSnapshot:D,urlAfterRedirects:m,extras:ye(P({},w),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=m,z(s)}else{let p="";return this.events.next(new oo(l.id,this.urlSerializer.serialize(l.extractedUrl),p,vm.IgnoredByUrlHandlingStrategy)),l.resolve(!1),Si}}),q(l=>{let c=new Yx(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(c)}),V(l=>(this.currentTransition=s=ye(P({},l),{guards:T$(l.targetSnapshot,l.currentSnapshot,this.rootContexts)}),s)),V$(this.environmentInjector,l=>this.events.next(l)),q(l=>{if(s.guardsResult=l.guardsResult,l.guardsResult&&typeof l.guardsResult!="boolean")throw Sm(this.urlSerializer,l.guardsResult);let c=new Qx(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot,!!l.guardsResult);this.events.next(c)}),li(l=>l.guardsResult?!0:(this.cancelNavigationTransition(l,"",Ii.GuardRejected),!1)),zx(l=>{if(l.guards.canActivateChecks.length)return z(l).pipe(q(c=>{let u=new Xx(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(u)}),Ye(c=>{let u=!1;return z(c).pipe(lU(this.paramsInheritanceStrategy,this.environmentInjector),q({next:()=>u=!0,complete:()=>{u||this.cancelNavigationTransition(c,"",Ii.NoDataFromResolver)}}))}),q(c=>{let u=new Zx(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(u)}))}),zx(l=>{let c=u=>{let p=[];u.routeConfig?.loadComponent&&!u.routeConfig._loadedComponent&&p.push(this.configLoader.loadComponent(u.routeConfig).pipe(q(m=>{u.component=m}),V(()=>{})));for(let m of u.children)p.push(...c(m));return p};return Xo(c(l.targetSnapshot.root)).pipe(Ps(null),Qt(1))}),zx(()=>this.afterPreactivation()),Ye(()=>{let{currentSnapshot:l,targetSnapshot:c}=s,u=this.createViewTransition?.(this.environmentInjector,l.root,c.root);return u?xt(u).pipe(V(()=>s)):z(s)}),V(l=>{let c=C$(t.routeReuseStrategy,l.targetSnapshot,l.currentRouterState);return this.currentTransition=s=ye(P({},l),{targetRouterState:c}),this.currentNavigation.targetRouterState=c,s}),q(()=>{this.events.next(new Bu)}),D$(this.rootContexts,t.routeReuseStrategy,l=>this.events.next(l),this.inputBindingEnabled),Qt(1),q({next:l=>{o=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new ei(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects))),this.titleStrategy?.updateTitle(l.targetRouterState.snapshot),l.resolve(!0)},complete:()=>{o=!0}}),Uy(this.transitionAbortSubject.pipe(q(l=>{throw l}))),Zo(()=>{!o&&!a&&this.cancelNavigationTransition(s,"",Ii.SupersededByNewNavigation),this.currentTransition?.id===s.id&&(this.currentNavigation=null,this.currentTransition=null)}),ie(l=>{if(a=!0,Sk(l))this.events.next(new gs(s.id,this.urlSerializer.serialize(s.extractedUrl),l.message,l.cancellationCode)),E$(l)?this.events.next(new $l(l.url,l.navigationBehaviorOptions)):s.resolve(!1);else{let c=new Vu(s.id,this.urlSerializer.serialize(s.extractedUrl),l,s.targetSnapshot??void 0);try{let u=ji(this.environmentInjector,()=>this.navigationErrorHandler?.(c));if(u instanceof Hu){let{message:p,cancellationCode:m}=Sm(this.urlSerializer,u);this.events.next(new gs(s.id,this.urlSerializer.serialize(s.extractedUrl),p,m)),this.events.next(new $l(u.redirectTo,u.navigationBehaviorOptions))}else{this.events.next(c);let p=t.errorHandler(l);s.resolve(!!p)}}catch(u){this.options.resolveNavigationPromiseOnError?s.resolve(!1):s.reject(u)}}return Si}))}))}cancelNavigationTransition(t,i,r){let s=new gs(t.id,this.urlSerializer.serialize(t.extractedUrl),i,r);this.events.next(s),t.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let t=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),i=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return t.toString()!==i?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function bU(n){return n!==Nu}var xU=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=H({token:n,factory:()=>B(CU),providedIn:"root"})}}return n})(),fC=class{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}},CU=(()=>{class n extends fC{static{this.\u0275fac=(()=>{let t;return function(r){return(t||(t=Di(n)))(r||n)}})()}static{this.\u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),Lk=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=H({token:n,factory:()=>B(wU),providedIn:"root"})}}return n})(),wU=(()=>{class n extends Lk{constructor(){super(...arguments),this.location=B(Rt),this.urlSerializer=B(qu),this.options=B(Xu,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=B(_C),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new vs,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=_k(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(t){return this.location.subscribe(i=>{i.type==="popstate"&&t(i.url,i.state)})}handleRouterEvent(t,i){if(t instanceof zl)this.stateMemento=this.createStateMemento();else if(t instanceof oo)this.rawUrlTree=i.initialUrl;else if(t instanceof ym){if(this.urlUpdateStrategy==="eager"&&!i.extras.skipLocationChange){let r=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl);this.setBrowserUrl(i.targetBrowserUrl??r,i)}}else t instanceof Bu?(this.currentUrlTree=i.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl),this.routerState=i.targetRouterState,this.urlUpdateStrategy==="deferred"&&!i.extras.skipLocationChange&&this.setBrowserUrl(i.targetBrowserUrl??this.rawUrlTree,i)):t instanceof gs&&(t.code===Ii.GuardRejected||t.code===Ii.NoDataFromResolver)?this.restoreHistory(i):t instanceof Vu?this.restoreHistory(i,!0):t instanceof ei&&(this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId)}setBrowserUrl(t,i){let r=t instanceof vs?this.urlSerializer.serialize(t):t;if(this.location.isCurrentPathEqualTo(r)||i.extras.replaceUrl){let s=this.browserPageId,o=P(P({},i.extras.state),this.generateNgRouterState(i.id,s));this.location.replaceState(r,"",o)}else{let s=P(P({},i.extras.state),this.generateNgRouterState(i.id,this.browserPageId+1));this.location.go(r,"",s)}}restoreHistory(t,i=!1){if(this.canceledNavigationResolution==="computed"){let r=this.browserPageId,s=this.currentPageId-r;s!==0?this.location.historyGo(s):this.currentUrlTree===t.finalUrl&&s===0&&(this.resetState(t),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(i&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,i){return this.canceledNavigationResolution==="computed"?{navigationId:t,\u0275routerPageId:i}:{navigationId:t}}static{this.\u0275fac=(()=>{let t;return function(r){return(t||(t=Di(n)))(r||n)}})()}static{this.\u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),Ou=function(n){return n[n.COMPLETE=0]="COMPLETE",n[n.FAILED=1]="FAILED",n[n.REDIRECTING=2]="REDIRECTING",n}(Ou||{});function Nk(n,e){n.events.pipe(li(t=>t instanceof ei||t instanceof gs||t instanceof Vu||t instanceof oo),V(t=>t instanceof ei||t instanceof oo?Ou.COMPLETE:(t instanceof gs?t.code===Ii.Redirect||t.code===Ii.SupersededByNewNavigation:!1)?Ou.REDIRECTING:Ou.FAILED),li(t=>t!==Ou.REDIRECTING),Qt(1)).subscribe(()=>{e()})}function SU(n){throw n}var EU={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},DU={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},Z=(()=>{class n{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.console=B(Vf),this.stateManager=B(Lk),this.options=B(Xu,{optional:!0})||{},this.pendingTasks=B(Qs),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=B(bC),this.urlSerializer=B(qu),this.location=B(Rt),this.urlHandlingStrategy=B(_C),this._events=new ut,this.errorHandler=this.options.errorHandler||SU,this.navigated=!1,this.routeReuseStrategy=B(xU),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=B(Uu,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!B(Tm,{optional:!0}),this.eventsSubscription=new jt,this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:t=>{this.console.warn(t)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let t=this.navigationTransitions.events.subscribe(i=>{try{let r=this.navigationTransitions.currentTransition,s=this.navigationTransitions.currentNavigation;if(r!==null&&s!==null){if(this.stateManager.handleRouterEvent(i,s),i instanceof gs&&i.code!==Ii.Redirect&&i.code!==Ii.SupersededByNewNavigation)this.navigated=!0;else if(i instanceof ei)this.navigated=!0;else if(i instanceof $l){let o=i.navigationBehaviorOptions,a=this.urlHandlingStrategy.merge(i.url,r.currentRawUrl),l=P({browserUrl:r.extras.browserUrl,info:r.extras.info,skipLocationChange:r.extras.skipLocationChange,replaceUrl:r.extras.replaceUrl||this.urlUpdateStrategy==="eager"||bU(r.source)},o);this.scheduleNavigation(a,Nu,null,l,{resolve:r.resolve,reject:r.reject,promise:r.promise})}}AU(i)&&this._events.next(i)}catch(r){this.navigationTransitions.transitionAbortSubject.next(r)}});this.eventsSubscription.add(t)}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Nu,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((t,i)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(t,"popstate",i)},0)})}navigateToSyncWithBrowser(t,i,r){let s={replaceUrl:!0},o=r?.navigationId?r:null;if(r){let l=P({},r);delete l.navigationId,delete l.\u0275routerPageId,Object.keys(l).length!==0&&(s.state=l)}let a=this.parseUrl(t);this.scheduleNavigation(a,i,o,s)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(t){this.config=t.map(vC),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(t,i={}){let{relativeTo:r,queryParams:s,fragment:o,queryParamsHandling:a,preserveFragment:l}=i,c=l?this.currentUrlTree.fragment:o,u=null;switch(a??this.options.defaultQueryParamsHandling){case"merge":u=P(P({},this.currentUrlTree.queryParams),s);break;case"preserve":u=this.currentUrlTree.queryParams;break;default:u=s||null}u!==null&&(u=this.removeEmptyProps(u));let p;try{let m=r?r.snapshot:this.routerState.snapshot.root;p=mk(m)}catch{(typeof t[0]!="string"||t[0][0]!=="/")&&(t=[]),p=this.currentUrlTree.root}return gk(p,t,u,c??null)}navigateByUrl(t,i={skipLocationChange:!1}){let r=fa(t)?t:this.parseUrl(t),s=this.urlHandlingStrategy.merge(r,this.rawUrlTree);return this.scheduleNavigation(s,Nu,null,i)}navigate(t,i={skipLocationChange:!1}){return TU(t),this.navigateByUrl(this.createUrlTree(t,i),i)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){try{return this.urlSerializer.parse(t)}catch{return this.urlSerializer.parse("/")}}isActive(t,i){let r;if(i===!0?r=P({},EU):i===!1?r=P({},DU):r=i,fa(t))return QM(this.currentUrlTree,t,r);let s=this.parseUrl(t);return QM(this.currentUrlTree,s,r)}removeEmptyProps(t){return Object.entries(t).reduce((i,[r,s])=>(s!=null&&(i[r]=s),i),{})}scheduleNavigation(t,i,r,s,o){if(this.disposed)return Promise.resolve(!1);let a,l,c;o?(a=o.resolve,l=o.reject,c=o.promise):c=new Promise((p,m)=>{a=p,l=m});let u=this.pendingTasks.add();return Nk(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(u))}),this.navigationTransitions.handleNavigationRequest({source:i,restoredState:r,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:s,resolve:a,reject:l,promise:c,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),c.catch(p=>Promise.reject(p))}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function TU(n){for(let e=0;e<n.length;e++)if(n[e]==null)throw new W(4008,!1)}function AU(n){return!(n instanceof Bu)&&!(n instanceof $l)}var Fe=(()=>{class n{constructor(t,i,r,s,o,a){this.router=t,this.route=i,this.tabIndexAttribute=r,this.renderer=s,this.el=o,this.locationStrategy=a,this.href=null,this.onChanges=new ut,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1,this.routerLinkInput=null;let l=o.nativeElement.tagName?.toLowerCase();this.isAnchorElement=l==="a"||l==="area",this.isAnchorElement?this.subscription=t.events.subscribe(c=>{c instanceof ei&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(t){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",t)}ngOnChanges(t){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(t){t==null?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(fa(t)?this.routerLinkInput=t:this.routerLinkInput=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0"))}onClick(t,i,r,s,o){let a=this.urlTree;if(a===null||this.isAnchorElement&&(t!==0||i||r||s||o||typeof this.target=="string"&&this.target!="_self"))return!0;let l={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(a,l),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let t=this.urlTree;this.href=t!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(t)):null;let i=this.href===null?null:WA(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",i)}applyAttributeValue(t,i){let r=this.renderer,s=this.el.nativeElement;i!==null?r.setAttribute(s,t,i):r.removeAttribute(s,t)}get urlTree(){return this.routerLinkInput===null?null:fa(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static{this.\u0275fac=function(i){return new(i||n)(C(Z),C(ge),Ib("tabindex"),C(It),C(rt),C(ps))}}static{this.\u0275dir=Ue({type:n,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(i,r){i&1&&E("click",function(o){return r.onClick(o.button,o.ctrlKey,o.shiftKey,o.altKey,o.metaKey)}),i&2&&Me("target",r.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",Js],skipLocationChange:[2,"skipLocationChange","skipLocationChange",Js],replaceUrl:[2,"replaceUrl","replaceUrl",Js],routerLink:"routerLink"},standalone:!0,features:[Kb,Ge]})}}return n})(),ql=(()=>{class n{get isActive(){return this._isActive}constructor(t,i,r,s,o){this.router=t,this.element=i,this.renderer=r,this.cdr=s,this.link=o,this.classes=[],this._isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new oe,this.routerEventsSubscription=t.events.subscribe(a=>{a instanceof ei&&this.update()})}ngAfterContentInit(){z(this.links.changes,z(null)).pipe(Fs()).subscribe(t=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();let t=[...this.links.toArray(),this.link].filter(i=>!!i).map(i=>i.onChanges);this.linkInputChangesSubscription=xt(t).pipe(Fs()).subscribe(i=>{this._isActive!==this.isLinkActive(this.router)(i)&&this.update()})}set routerLinkActive(t){let i=Array.isArray(t)?t:t.split(" ");this.classes=i.filter(r=>!!r)}ngOnChanges(t){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||queueMicrotask(()=>{let t=this.hasActiveLinks();this.classes.forEach(i=>{t?this.renderer.addClass(this.element.nativeElement,i):this.renderer.removeClass(this.element.nativeElement,i)}),t&&this.ariaCurrentWhenActive!==void 0?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this._isActive!==t&&(this._isActive=t,this.cdr.markForCheck(),this.isActiveChange.emit(t))})}isLinkActive(t){let i=IU(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return r=>{let s=r.urlTree;return s?t.isActive(s,i):!1}}hasActiveLinks(){let t=this.isLinkActive(this.router);return this.link&&t(this.link)||this.links.some(t)}static{this.\u0275fac=function(i){return new(i||n)(C(Z),C(rt),C(It),C(fi),C(Fe,8))}}static{this.\u0275dir=Ue({type:n,selectors:[["","routerLinkActive",""]],contentQueries:function(i,r,s){if(i&1&&zt(s,Fe,5),i&2){let o;Te(o=Ae())&&(r.links=o)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],standalone:!0,features:[Ge]})}}return n})();function IU(n){return!!n.paths}var Dm=class{};var MU=(()=>{class n{constructor(t,i,r,s,o){this.router=t,this.injector=r,this.preloadingStrategy=s,this.loader=o}setUpPreloading(){this.subscription=this.router.events.pipe(li(t=>t instanceof ei),en(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,i){let r=[];for(let s of i){s.providers&&!s._injector&&(s._injector=Lf(s.providers,t,`Route: ${s.path}`));let o=s._injector??t,a=s._loadedInjector??o;(s.loadChildren&&!s._loadedRoutes&&s.canLoad===void 0||s.loadComponent&&!s._loadedComponent)&&r.push(this.preloadConfig(o,s)),(s.children||s._loadedRoutes)&&r.push(this.processRoutes(a,s.children??s._loadedRoutes))}return xt(r).pipe(Fs())}preloadConfig(t,i){return this.preloadingStrategy.preload(i,()=>{let r;i.loadChildren&&i.canLoad===void 0?r=this.loader.loadChildren(t,i):r=z(null);let s=r.pipe(nt(o=>o===null?z(void 0):(i._loadedRoutes=o.routes,i._loadedInjector=o.injector,this.processRoutes(o.injector??t,o.routes))));if(i.loadComponent&&!i._loadedComponent){let o=this.loader.loadComponent(i);return xt([s,o]).pipe(Fs())}else return s})}static{this.\u0275fac=function(i){return new(i||n)($(Z),$(zf),$(Wn),$(Dm),$(yC))}}static{this.\u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),Fk=new de(""),kU=(()=>{class n{constructor(t,i,r,s,o={}){this.urlSerializer=t,this.transitions=i,this.viewportScroller=r,this.zone=s,this.options=o,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},o.scrollPositionRestoration||="disabled",o.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof zl?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof ei?(this.lastId=t.id,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.urlAfterRedirects).fragment)):t instanceof oo&&t.code===vm.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof _m&&(t.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0]):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(t.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,i){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new _m(t,this.lastSource==="popstate"?this.store[this.restoredId]:null,i))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static{this.\u0275fac=function(i){aI()}}static{this.\u0275prov=H({token:n,factory:n.\u0275fac})}}return n})();function Pk(n,...e){return Dl([{provide:Uu,multi:!0,useValue:n},[],{provide:ge,useFactory:Vk,deps:[Z]},{provide:wu,multi:!0,useFactory:Bk},e.map(t=>t.\u0275providers)])}function Vk(n){return n.routerState.root}function Zu(n,e){return{\u0275kind:n,\u0275providers:e}}function Bk(){let n=B(Nn);return e=>{let t=n.get(ir);if(e!==t.components[0])return;let i=n.get(Z),r=n.get(jk);n.get(xC)===1&&i.initialNavigation(),n.get(Hk,null,je.Optional)?.setUpPreloading(),n.get(Fk,null,je.Optional)?.init(),i.resetRootComponentType(t.componentTypes[0]),r.closed||(r.next(),r.complete(),r.unsubscribe())}}var jk=new de("",{factory:()=>new ut}),xC=new de("",{providedIn:"root",factory:()=>1});function RU(){return Zu(2,[{provide:xC,useValue:0},{provide:Hf,multi:!0,deps:[Nn],useFactory:e=>{let t=e.get(yM,Promise.resolve());return()=>t.then(()=>new Promise(i=>{let r=e.get(Z),s=e.get(jk);Nk(r,()=>{i(!0)}),e.get(bC).afterPreactivation=()=>(i(!0),s.closed?z(void 0):s),r.initialNavigation()}))}}])}function OU(){return Zu(3,[{provide:Hf,multi:!0,useFactory:()=>{let e=B(Z);return()=>{e.setUpLocationChangeListener()}}},{provide:xC,useValue:2}])}var Hk=new de("");function LU(n){return Zu(0,[{provide:Hk,useExisting:MU},{provide:Dm,useExisting:n}])}function NU(){return Zu(8,[JM,{provide:Tm,useExisting:JM}])}function FU(n){let e=[{provide:Rk,useValue:vU},{provide:Ok,useValue:P({skipNextTransition:!!n?.skipInitialTransition},n)}];return Zu(9,e)}var ik=new de("ROUTER_FORROOT_GUARD"),PU=[Rt,{provide:qu,useClass:Hl},Z,Yu,{provide:ge,useFactory:Vk,deps:[Z]},yC,[]],mi=(()=>{class n{constructor(t){}static forRoot(t,i){return{ngModule:n,providers:[PU,[],{provide:Uu,multi:!0,useValue:t},{provide:ik,useFactory:HU,deps:[[Z,new hu,new uf]]},{provide:Xu,useValue:i||{}},i?.useHash?BU():jU(),VU(),i?.preloadingStrategy?LU(i.preloadingStrategy).\u0275providers:[],i?.initialNavigation?zU(i):[],i?.bindToComponentInputs?NU().\u0275providers:[],i?.enableViewTransitions?FU().\u0275providers:[],$U()]}}static forChild(t){return{ngModule:n,providers:[{provide:Uu,multi:!0,useValue:t}]}}static{this.\u0275fac=function(i){return new(i||n)($(ik,8))}}static{this.\u0275mod=Xe({type:n})}static{this.\u0275inj=Qe({})}}return n})();function VU(){return{provide:Fk,useFactory:()=>{let n=B(no),e=B(Ke),t=B(Xu),i=B(bC),r=B(qu);return t.scrollOffset&&n.setOffset(t.scrollOffset),new kU(r,i,n,e,t)}}}function BU(){return{provide:ps,useClass:bM}}function jU(){return{provide:ps,useClass:wx}}function HU(n){return"guarded"}function zU(n){return[n.initialNavigation==="disabled"?OU().\u0275providers:[],n.initialNavigation==="enabledBlocking"?RU().\u0275providers:[]]}var rk=new de("");function $U(){return[{provide:rk,useFactory:Bk},{provide:wu,multi:!0,useExisting:rk}]}var Xk=(()=>{class n{constructor(t,i){this._renderer=t,this._elementRef=i,this.onChange=r=>{},this.onTouched=()=>{}}setProperty(t,i){this._renderer.setProperty(this._elementRef.nativeElement,t,i)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}static{this.\u0275fac=function(i){return new(i||n)(C(It),C(rt))}}static{this.\u0275dir=Ue({type:n})}}return n})(),rd=(()=>{class n extends Xk{static{this.\u0275fac=(()=>{let t;return function(r){return(t||(t=Di(n)))(r||n)}})()}static{this.\u0275dir=Ue({type:n,features:[tn]})}}return n})(),uo=new de("");var UU={provide:uo,useExisting:Yn(()=>Bn),multi:!0};function GU(){let n=kr()?kr().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}var qU=new de(""),Bn=(()=>{class n extends Xk{constructor(t,i,r){super(t,i),this._compositionMode=r,this._composing=!1,this._compositionMode==null&&(this._compositionMode=!GU())}writeValue(t){let i=t??"";this.setProperty("value",i)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}static{this.\u0275fac=function(i){return new(i||n)(C(It),C(rt),C(qU,8))}}static{this.\u0275dir=Ue({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(i,r){i&1&&E("input",function(o){return r._handleInput(o.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(o){return r._compositionEnd(o.target.value)})},features:[cn([UU]),tn]})}}return n})();function lo(n){return n==null||(typeof n=="string"||Array.isArray(n))&&n.length===0}function Zk(n){return n!=null&&typeof n.length=="number"}var ma=new de(""),sd=new de(""),WU=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,K=class{static min(e){return Kk(e)}static max(e){return YU(e)}static required(e){return Jk(e)}static requiredTrue(e){return QU(e)}static email(e){return XU(e)}static minLength(e){return ZU(e)}static maxLength(e){return KU(e)}static pattern(e){return JU(e)}static nullValidator(e){return Mm(e)}static compose(e){return sR(e)}static composeAsync(e){return oR(e)}};function Kk(n){return e=>{if(lo(e.value)||lo(n))return null;let t=parseFloat(e.value);return!isNaN(t)&&t<n?{min:{min:n,actual:e.value}}:null}}function YU(n){return e=>{if(lo(e.value)||lo(n))return null;let t=parseFloat(e.value);return!isNaN(t)&&t>n?{max:{max:n,actual:e.value}}:null}}function Jk(n){return lo(n.value)?{required:!0}:null}function QU(n){return n.value===!0?null:{required:!0}}function XU(n){return lo(n.value)||WU.test(n.value)?null:{email:!0}}function ZU(n){return e=>lo(e.value)||!Zk(e.value)?null:e.value.length<n?{minlength:{requiredLength:n,actualLength:e.value.length}}:null}function KU(n){return e=>Zk(e.value)&&e.value.length>n?{maxlength:{requiredLength:n,actualLength:e.value.length}}:null}function JU(n){if(!n)return Mm;let e,t;return typeof n=="string"?(t="",n.charAt(0)!=="^"&&(t+="^"),t+=n,n.charAt(n.length-1)!=="$"&&(t+="$"),e=new RegExp(t)):(t=n.toString(),e=n),i=>{if(lo(i.value))return null;let r=i.value;return e.test(r)?null:{pattern:{requiredPattern:t,actualValue:r}}}}function Mm(n){return null}function eR(n){return n!=null}function tR(n){return Ks(n)?xt(n):n}function nR(n){let e={};return n.forEach(t=>{e=t!=null?P(P({},e),t):e}),Object.keys(e).length===0?null:e}function iR(n,e){return e.map(t=>t(n))}function eG(n){return!n.validate}function rR(n){return n.map(e=>eG(e)?e:t=>e.validate(t))}function sR(n){if(!n)return null;let e=n.filter(eR);return e.length==0?null:function(t){return nR(iR(t,e))}}function TC(n){return n!=null?sR(rR(n)):null}function oR(n){if(!n)return null;let e=n.filter(eR);return e.length==0?null:function(t){let i=iR(t,e).map(tR);return By(i).pipe(V(nR))}}function AC(n){return n!=null?oR(rR(n)):null}function zk(n,e){return n===null?[e]:Array.isArray(n)?[...n,e]:[n,e]}function aR(n){return n._rawValidators}function lR(n){return n._rawAsyncValidators}function CC(n){return n?Array.isArray(n)?n:[n]:[]}function km(n,e){return Array.isArray(n)?n.includes(e):n===e}function $k(n,e){let t=CC(e);return CC(n).forEach(r=>{km(t,r)||t.push(r)}),t}function Uk(n,e){return CC(e).filter(t=>!km(n,t))}var Rm=class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=TC(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=AC(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,t){return this.control?this.control.hasError(e,t):!1}getError(e,t){return this.control?this.control.getError(e,t):null}},ys=class extends Rm{get formDirective(){return null}get path(){return null}},Or=class extends Rm{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}},Om=class{constructor(e){this._cd=e}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},tG={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},Yue=ye(P({},tG),{"[class.ng-submitted]":"isSubmitted"}),on=(()=>{class n extends Om{constructor(t){super(t)}static{this.\u0275fac=function(i){return new(i||n)(C(Or,2))}}static{this.\u0275dir=Ue({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(i,r){i&2&&Xn("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},features:[tn]})}}return n})(),Lt=(()=>{class n extends Om{constructor(t){super(t)}static{this.\u0275fac=function(i){return new(i||n)(C(ys,10))}}static{this.\u0275dir=Ue({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(i,r){i&2&&Xn("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)("ng-submitted",r.isSubmitted)},features:[tn]})}}return n})();var Ku="VALID",Im="INVALID",Wl="PENDING",Ju="DISABLED",co=class{},Lm=class extends co{constructor(e,t){super(),this.value=e,this.source=t}},td=class extends co{constructor(e,t){super(),this.pristine=e,this.source=t}},nd=class extends co{constructor(e,t){super(),this.touched=e,this.source=t}},Yl=class extends co{constructor(e,t){super(),this.status=e,this.source=t}},wC=class extends co{constructor(e){super(),this.source=e}},SC=class extends co{constructor(e){super(),this.source=e}};function IC(n){return(Vm(n)?n.validators:n)||null}function nG(n){return Array.isArray(n)?TC(n):n||null}function MC(n,e){return(Vm(e)?e.asyncValidators:n)||null}function iG(n){return Array.isArray(n)?AC(n):n||null}function Vm(n){return n!=null&&!Array.isArray(n)&&typeof n=="object"}function cR(n,e,t){let i=n.controls;if(!(e?Object.keys(i):i).length)throw new W(1e3,"");if(!i[t])throw new W(1001,"")}function uR(n,e,t){n._forEachChild((i,r)=>{if(t[r]===void 0)throw new W(1002,"")})}var Ql=class{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=null,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this._status=vt(()=>this.statusReactive()),this.statusReactive=st(void 0),this._pristine=vt(()=>this.pristineReactive()),this.pristineReactive=st(!0),this._touched=vt(()=>this.touchedReactive()),this.touchedReactive=st(!1),this._events=new ut,this.events=this._events.asObservable(),this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get status(){return Gi(this.statusReactive)}set status(e){Gi(()=>this.statusReactive.set(e))}get valid(){return this.status===Ku}get invalid(){return this.status===Im}get pending(){return this.status==Wl}get disabled(){return this.status===Ju}get enabled(){return this.status!==Ju}get pristine(){return Gi(this.pristineReactive)}set pristine(e){Gi(()=>this.pristineReactive.set(e))}get dirty(){return!this.pristine}get touched(){return Gi(this.touchedReactive)}set touched(e){Gi(()=>this.touchedReactive.set(e))}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators($k(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators($k(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(Uk(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(Uk(e,this._rawAsyncValidators))}hasValidator(e){return km(this._rawValidators,e)}hasAsyncValidator(e){return km(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){let t=this.touched===!1;this.touched=!0;let i=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsTouched(ye(P({},e),{sourceControl:i})),t&&e.emitEvent!==!1&&this._events.next(new nd(!0,i))}markAllAsTouched(e={}){this.markAsTouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(t=>t.markAllAsTouched(e))}markAsUntouched(e={}){let t=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let i=e.sourceControl??this;this._forEachChild(r=>{r.markAsUntouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:i})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,i),t&&e.emitEvent!==!1&&this._events.next(new nd(!1,i))}markAsDirty(e={}){let t=this.pristine===!0;this.pristine=!1;let i=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsDirty(ye(P({},e),{sourceControl:i})),t&&e.emitEvent!==!1&&this._events.next(new td(!1,i))}markAsPristine(e={}){let t=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let i=e.sourceControl??this;this._forEachChild(r=>{r.markAsPristine({onlySelf:!0,emitEvent:e.emitEvent})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e,i),t&&e.emitEvent!==!1&&this._events.next(new td(!0,i))}markAsPending(e={}){this.status=Wl;let t=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Yl(this.status,t)),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.markAsPending(ye(P({},e),{sourceControl:t}))}disable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=Ju,this.errors=null,this._forEachChild(r=>{r.disable(ye(P({},e),{onlySelf:!0}))}),this._updateValue();let i=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Lm(this.value,i)),this._events.next(new Yl(this.status,i)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(ye(P({},e),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=Ku,this._forEachChild(i=>{i.enable(ye(P({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(ye(P({},e),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(e,t){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine({},t),this._parent._updateTouched({},t))}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let i=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Ku||this.status===Wl)&&this._runAsyncValidator(i,e.emitEvent)}let t=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Lm(this.value,t)),this._events.next(new Yl(this.status,t)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(ye(P({},e),{sourceControl:t}))}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Ju:Ku}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e,t){if(this.asyncValidator){this.status=Wl,this._hasOwnPendingAsyncValidator={emitEvent:t!==!1};let i=tR(this.asyncValidator(this));this._asyncValidationSubscription=i.subscribe(r=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(r,{emitEvent:t,shouldHaveEmitted:e})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let e=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,e}return!1}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(t.emitEvent!==!1,this,t.shouldHaveEmitted)}get(e){let t=e;return t==null||(Array.isArray(t)||(t=t.split(".")),t.length===0)?null:t.reduce((i,r)=>i&&i._find(r),this)}getError(e,t){let i=t?this.get(t):this;return i&&i.errors?i.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e,t,i){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),(e||i)&&this._events.next(new Yl(this.status,t)),this._parent&&this._parent._updateControlsErrors(e,t,i)}_initObservables(){this.valueChanges=new oe,this.statusChanges=new oe}_calculateStatus(){return this._allControlsDisabled()?Ju:this.errors?Im:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Wl)?Wl:this._anyControlsHaveStatus(Im)?Im:Ku}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e,t){let i=!this._anyControlsDirty(),r=this.pristine!==i;this.pristine=i,this._parent&&!e.onlySelf&&this._parent._updatePristine(e,t),r&&this._events.next(new td(this.pristine,t))}_updateTouched(e={},t){this.touched=this._anyControlsTouched(),this._events.next(new nd(this.touched,t)),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,t)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Vm(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let t=this._parent&&this._parent.dirty;return!e&&!!t&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=nG(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=iG(this._rawAsyncValidators)}},Ot=class extends Ql{constructor(e,t,i){super(IC(t),MC(i,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,i={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,i={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){uR(this,!0,e),Object.keys(e).forEach(i=>{cR(this,!0,i),this.controls[i].setValue(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){e!=null&&(Object.keys(e).forEach(i=>{let r=this.controls[i];r&&r.patchValue(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((i,r)=>{i.reset(e?e[r]:null,{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t,this),this._updateTouched(t,this),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,i)=>(e[i]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,i)=>i._syncPendingControls()?!0:t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{let i=this.controls[t];i&&e(i,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[t,i]of Object.entries(this.controls))if(this.contains(t)&&e(i))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(t,i,r)=>((i.enabled||this.disabled)&&(t[r]=i.value),t))}_reduceChildren(e,t){let i=e;return this._forEachChild((r,s)=>{i=t(i,r,s)}),i}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var EC=class extends Ot{};var ga=new de("CallSetDisabledState",{providedIn:"root",factory:()=>od}),od="always";function dR(n,e){return[...e.path,n]}function id(n,e,t=od){kC(n,e),e.valueAccessor.writeValue(n.value),(n.disabled||t==="always")&&e.valueAccessor.setDisabledState?.(n.disabled),sG(n,e),aG(n,e),oG(n,e),rG(n,e)}function Nm(n,e,t=!0){let i=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(i),e.valueAccessor.registerOnTouched(i)),Pm(n,e),n&&(e._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function Fm(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function rG(n,e){if(e.valueAccessor.setDisabledState){let t=i=>{e.valueAccessor.setDisabledState(i)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}function kC(n,e){let t=aR(n);e.validator!==null?n.setValidators(zk(t,e.validator)):typeof t=="function"&&n.setValidators([t]);let i=lR(n);e.asyncValidator!==null?n.setAsyncValidators(zk(i,e.asyncValidator)):typeof i=="function"&&n.setAsyncValidators([i]);let r=()=>n.updateValueAndValidity();Fm(e._rawValidators,r),Fm(e._rawAsyncValidators,r)}function Pm(n,e){let t=!1;if(n!==null){if(e.validator!==null){let r=aR(n);if(Array.isArray(r)&&r.length>0){let s=r.filter(o=>o!==e.validator);s.length!==r.length&&(t=!0,n.setValidators(s))}}if(e.asyncValidator!==null){let r=lR(n);if(Array.isArray(r)&&r.length>0){let s=r.filter(o=>o!==e.asyncValidator);s.length!==r.length&&(t=!0,n.setAsyncValidators(s))}}}let i=()=>{};return Fm(e._rawValidators,i),Fm(e._rawAsyncValidators,i),t}function sG(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,n.updateOn==="change"&&hR(n,e)})}function oG(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,n.updateOn==="blur"&&n._pendingChange&&hR(n,e),n.updateOn!=="submit"&&n.markAsTouched()})}function hR(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function aG(n,e){let t=(i,r)=>{e.valueAccessor.writeValue(i),r&&e.viewToModelUpdate(i)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}function pR(n,e){n==null,kC(n,e)}function lG(n,e){return Pm(n,e)}function RC(n,e){if(!n.hasOwnProperty("model"))return!1;let t=n.model;return t.isFirstChange()?!0:!Object.is(e,t.currentValue)}function cG(n){return Object.getPrototypeOf(n.constructor)===rd}function fR(n,e){n._syncPendingControls(),e.forEach(t=>{let i=t.control;i.updateOn==="submit"&&i._pendingChange&&(t.viewToModelUpdate(i._pendingValue),i._pendingChange=!1)})}function OC(n,e){if(!e)return null;Array.isArray(e);let t,i,r;return e.forEach(s=>{s.constructor===Bn?t=s:cG(s)?i=s:r=s}),r||i||t||null}function uG(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}var dG={provide:ys,useExisting:Yn(()=>ad)},ed=Promise.resolve(),ad=(()=>{class n extends ys{get submitted(){return Gi(this.submittedReactive)}constructor(t,i,r){super(),this.callSetDisabledState=r,this._submitted=vt(()=>this.submittedReactive()),this.submittedReactive=st(!1),this._directives=new Set,this.ngSubmit=new oe,this.form=new Ot({},TC(t),AC(i))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){ed.then(()=>{let i=this._findContainer(t.path);t.control=i.registerControl(t.name,t.control),id(t.control,t,this.callSetDisabledState),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){ed.then(()=>{let i=this._findContainer(t.path);i&&i.removeControl(t.name),this._directives.delete(t)})}addFormGroup(t){ed.then(()=>{let i=this._findContainer(t.path),r=new Ot({});pR(r,t),i.registerControl(t.name,r),r.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){ed.then(()=>{let i=this._findContainer(t.path);i&&i.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,i){ed.then(()=>{this.form.get(t.path).setValue(i)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submittedReactive.set(!0),fR(this.form,this._directives),this.ngSubmit.emit(t),t?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(t=void 0){this.form.reset(t),this.submittedReactive.set(!1)}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}static{this.\u0275fac=function(i){return new(i||n)(C(ma,10),C(sd,10),C(ga,8))}}static{this.\u0275dir=Ue({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(i,r){i&1&&E("submit",function(o){return r.onSubmit(o)})("reset",function(){return r.onReset()})},inputs:{options:[0,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[cn([dG]),tn]})}}return n})();function Gk(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function qk(n){return typeof n=="object"&&n!==null&&Object.keys(n).length===2&&"value"in n&&"disabled"in n}var te=class extends Ql{constructor(e=null,t,i){super(IC(t),MC(i,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Vm(t)&&(t.nonNullable||t.initialValueIsDefault)&&(qk(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&t.emitModelToViewChange!==!1&&this._onChange.forEach(i=>i(this.value,t.emitViewToModelChange!==!1)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){Gk(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){Gk(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){qk(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var hG=n=>n instanceof te;var pG={provide:Or,useExisting:Yn(()=>ld)},Wk=Promise.resolve(),ld=(()=>{class n extends Or{constructor(t,i,r,s,o,a){super(),this._changeDetectorRef=o,this.callSetDisabledState=a,this.control=new te,this._registered=!1,this.name="",this.update=new oe,this._parent=t,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=OC(this,s)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){let i=t.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),RC(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){id(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(t){Wk.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(t){let i=t.isDisabled.currentValue,r=i!==0&&Js(i);Wk.then(()=>{r&&!this.control.disabled?this.control.disable():!r&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(t){return this._parent?dR(t,this._parent):[t]}static{this.\u0275fac=function(i){return new(i||n)(C(ys,9),C(ma,10),C(sd,10),C(uo,10),C(fi,8),C(ga,8))}}static{this.\u0275dir=Ue({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[cn([pG]),tn,Ge]})}}return n})(),Nt=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275dir=Ue({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}}return n})(),fG={provide:uo,useExisting:Yn(()=>LC),multi:!0},LC=(()=>{class n extends rd{writeValue(t){let i=t??"";this.setProperty("value",i)}registerOnChange(t){this.onChange=i=>{t(i==""?null:parseFloat(i))}}static{this.\u0275fac=(()=>{let t;return function(r){return(t||(t=Di(n)))(r||n)}})()}static{this.\u0275dir=Ue({type:n,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(i,r){i&1&&E("input",function(o){return r.onChange(o.target.value)})("blur",function(){return r.onTouched()})},features:[cn([fG]),tn]})}}return n})(),mG={provide:uo,useExisting:Yn(()=>NC),multi:!0};var gG=(()=>{class n{constructor(){this._accessors=[]}add(t,i){this._accessors.push([t,i])}remove(t){for(let i=this._accessors.length-1;i>=0;--i)if(this._accessors[i][1]===t){this._accessors.splice(i,1);return}}select(t){this._accessors.forEach(i=>{this._isSameGroup(i,t)&&i[1]!==t&&i[1].fireUncheck(t.value)})}_isSameGroup(t,i){return t[0].control?t[0]._parent===i._control._parent&&t[1].name===i.name:!1}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),NC=(()=>{class n extends rd{constructor(t,i,r,s){super(t,i),this._registry=r,this._injector=s,this.setDisabledStateFired=!1,this.onChange=()=>{},this.callSetDisabledState=B(ga,{optional:!0})??od}ngOnInit(){this._control=this._injector.get(Or),this._checkName(),this._registry.add(this._control,this)}ngOnDestroy(){this._registry.remove(this)}writeValue(t){this._state=t===this.value,this.setProperty("checked",this._state)}registerOnChange(t){this._fn=t,this.onChange=()=>{t(this.value),this._registry.select(this)}}setDisabledState(t){(this.setDisabledStateFired||t||this.callSetDisabledState==="whenDisabledForLegacyCode")&&this.setProperty("disabled",t),this.setDisabledStateFired=!0}fireUncheck(t){this.writeValue(t)}_checkName(){this.name&&this.formControlName&&(this.name,this.formControlName),!this.name&&this.formControlName&&(this.name=this.formControlName)}static{this.\u0275fac=function(i){return new(i||n)(C(It),C(rt),C(gG),C(Nn))}}static{this.\u0275dir=Ue({type:n,selectors:[["input","type","radio","formControlName",""],["input","type","radio","formControl",""],["input","type","radio","ngModel",""]],hostBindings:function(i,r){i&1&&E("change",function(){return r.onChange()})("blur",function(){return r.onTouched()})},inputs:{name:"name",formControlName:"formControlName",value:"value"},features:[cn([mG]),tn]})}}return n})();var FC=new de(""),vG={provide:Or,useExisting:Yn(()=>or)},or=(()=>{class n extends Or{set isDisabled(t){}static{this._ngModelWarningSentOnce=!1}constructor(t,i,r,s,o){super(),this._ngModelWarningConfig=s,this.callSetDisabledState=o,this.update=new oe,this._ngModelWarningSent=!1,this._setValidators(t),this._setAsyncValidators(i),this.valueAccessor=OC(this,r)}ngOnChanges(t){if(this._isControlChanged(t)){let i=t.form.previousValue;i&&Nm(i,this,!1),id(this.form,this,this.callSetDisabledState),this.form.updateValueAndValidity({emitEvent:!1})}RC(t,this.viewModel)&&(this.form.setValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.form&&Nm(this.form,this,!1)}get path(){return[]}get control(){return this.form}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_isControlChanged(t){return t.hasOwnProperty("form")}static{this.\u0275fac=function(i){return new(i||n)(C(ma,10),C(sd,10),C(uo,10),C(FC,8),C(ga,8))}}static{this.\u0275dir=Ue({type:n,selectors:[["","formControl",""]],inputs:{form:[0,"formControl","form"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},exportAs:["ngForm"],features:[cn([vG]),tn,Ge]})}}return n})(),yG={provide:ys,useExisting:Yn(()=>un)},un=(()=>{class n extends ys{get submitted(){return Gi(this._submittedReactive)}set submitted(t){this._submittedReactive.set(t)}constructor(t,i,r){super(),this.callSetDisabledState=r,this._submitted=vt(()=>this._submittedReactive()),this._submittedReactive=st(!1),this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new oe,this._setValidators(t),this._setAsyncValidators(i)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Pm(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){let i=this.form.get(t.path);return id(i,t,this.callSetDisabledState),i.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),i}getControl(t){return this.form.get(t.path)}removeControl(t){Nm(t.control||null,t,!1),uG(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,i){this.form.get(t.path).setValue(i)}onSubmit(t){return this._submittedReactive.set(!0),fR(this.form,this.directives),this.ngSubmit.emit(t),this.form._events.next(new wC(this.control)),t?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(t=void 0){this.form.reset(t),this._submittedReactive.set(!1),this.form._events.next(new SC(this.form))}_updateDomValue(){this.directives.forEach(t=>{let i=t.control,r=this.form.get(t.path);i!==r&&(Nm(i||null,t),hG(r)&&(id(r,t,this.callSetDisabledState),t.control=r))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){let i=this.form.get(t.path);pR(i,t),i.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){let i=this.form.get(t.path);i&&lG(i,t)&&i.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){kC(this.form,this),this._oldForm&&Pm(this._oldForm,this)}_checkFormPresent(){this.form}static{this.\u0275fac=function(i){return new(i||n)(C(ma,10),C(sd,10),C(ga,8))}}static{this.\u0275dir=Ue({type:n,selectors:[["","formGroup",""]],hostBindings:function(i,r){i&1&&E("submit",function(o){return r.onSubmit(o)})("reset",function(){return r.onReset()})},inputs:{form:[0,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[cn([yG]),tn,Ge]})}}return n})();var _G={provide:Or,useExisting:Yn(()=>va)},va=(()=>{class n extends Or{set isDisabled(t){}static{this._ngModelWarningSentOnce=!1}constructor(t,i,r,s,o){super(),this._ngModelWarningConfig=o,this._added=!1,this.name=null,this.update=new oe,this._ngModelWarningSent=!1,this._parent=t,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=OC(this,s)}ngOnChanges(t){this._added||this._setUpControl(),RC(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return dR(this.name==null?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}static{this.\u0275fac=function(i){return new(i||n)(C(ys,13),C(ma,10),C(sd,10),C(uo,10),C(FC,8))}}static{this.\u0275dir=Ue({type:n,selectors:[["","formControlName",""]],inputs:{name:[0,"formControlName","name"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},features:[cn([_G]),tn,Ge]})}}return n})(),bG={provide:uo,useExisting:Yn(()=>Lr),multi:!0};function mR(n,e){return n==null?`${e}`:(e&&typeof e=="object"&&(e="Object"),`${n}: ${e}`.slice(0,50))}function xG(n){return n.split(":")[0]}var Lr=(()=>{class n extends rd{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){this.value=t;let i=this._getOptionId(t),r=mR(i,t);this.setProperty("value",r)}registerOnChange(t){this.onChange=i=>{this.value=this._getOptionValue(i),t(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(t){for(let i of this._optionMap.keys())if(this._compareWith(this._optionMap.get(i),t))return i;return null}_getOptionValue(t){let i=xG(t);return this._optionMap.has(i)?this._optionMap.get(i):t}static{this.\u0275fac=(()=>{let t;return function(r){return(t||(t=Di(n)))(r||n)}})()}static{this.\u0275dir=Ue({type:n,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(i,r){i&1&&E("change",function(o){return r.onChange(o.target.value)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},features:[cn([bG]),tn]})}}return n})(),ho=(()=>{class n{constructor(t,i,r){this._element=t,this._renderer=i,this._select=r,this._select&&(this.id=this._select._registerOption())}set ngValue(t){this._select!=null&&(this._select._optionMap.set(this.id,t),this._setElementValue(mR(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._setElementValue(t),this._select&&this._select.writeValue(this._select.value)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static{this.\u0275fac=function(i){return new(i||n)(C(rt),C(It),C(Lr,9))}}static{this.\u0275dir=Ue({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}}return n})(),CG={provide:uo,useExisting:Yn(()=>gR),multi:!0};function Yk(n,e){return n==null?`${e}`:(typeof e=="string"&&(e=`'${e}'`),e&&typeof e=="object"&&(e="Object"),`${n}: ${e}`.slice(0,50))}function wG(n){return n.split(":")[0]}var gR=(()=>{class n extends rd{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){this.value=t;let i;if(Array.isArray(t)){let r=t.map(s=>this._getOptionId(s));i=(s,o)=>{s._setSelected(r.indexOf(o.toString())>-1)}}else i=(r,s)=>{r._setSelected(!1)};this._optionMap.forEach(i)}registerOnChange(t){this.onChange=i=>{let r=[],s=i.selectedOptions;if(s!==void 0){let o=s;for(let a=0;a<o.length;a++){let l=o[a],c=this._getOptionValue(l.value);r.push(c)}}else{let o=i.options;for(let a=0;a<o.length;a++){let l=o[a];if(l.selected){let c=this._getOptionValue(l.value);r.push(c)}}}this.value=r,t(r)}}_registerOption(t){let i=(this._idCounter++).toString();return this._optionMap.set(i,t),i}_getOptionId(t){for(let i of this._optionMap.keys())if(this._compareWith(this._optionMap.get(i)._value,t))return i;return null}_getOptionValue(t){let i=wG(t);return this._optionMap.has(i)?this._optionMap.get(i)._value:t}static{this.\u0275fac=(()=>{let t;return function(r){return(t||(t=Di(n)))(r||n)}})()}static{this.\u0275dir=Ue({type:n,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(i,r){i&1&&E("change",function(o){return r.onChange(o.target)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},features:[cn([CG]),tn]})}}return n})(),po=(()=>{class n{constructor(t,i,r){this._element=t,this._renderer=i,this._select=r,this._select&&(this.id=this._select._registerOption(this))}set ngValue(t){this._select!=null&&(this._value=t,this._setElementValue(Yk(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._select?(this._value=t,this._setElementValue(Yk(this.id,t)),this._select.writeValue(this._select.value)):this._setElementValue(t)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}_setSelected(t){this._renderer.setProperty(this._element.nativeElement,"selected",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static{this.\u0275fac=function(i){return new(i||n)(C(rt),C(It),C(gR,9))}}static{this.\u0275dir=Ue({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}}return n})();function SG(n){return typeof n=="number"?n:parseFloat(n)}var vR=(()=>{class n{constructor(){this._validator=Mm}ngOnChanges(t){if(this.inputName in t){let i=this.normalizeInput(t[this.inputName].currentValue);this._enabled=this.enabled(i),this._validator=this._enabled?this.createValidator(i):Mm,this._onChange&&this._onChange()}}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}enabled(t){return t!=null}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275dir=Ue({type:n,features:[Ge]})}}return n})();var EG={provide:ma,useExisting:Yn(()=>PC),multi:!0},PC=(()=>{class n extends vR{constructor(){super(...arguments),this.inputName="min",this.normalizeInput=t=>SG(t),this.createValidator=t=>Kk(t)}static{this.\u0275fac=(()=>{let t;return function(r){return(t||(t=Di(n)))(r||n)}})()}static{this.\u0275dir=Ue({type:n,selectors:[["input","type","number","min","","formControlName",""],["input","type","number","min","","formControl",""],["input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(i,r){i&2&&Me("min",r._enabled?r.min:null)},inputs:{min:"min"},features:[cn([EG]),tn]})}}return n})(),DG={provide:ma,useExisting:Yn(()=>cd),multi:!0};var cd=(()=>{class n extends vR{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=Js,this.createValidator=t=>Jk}enabled(t){return t}static{this.\u0275fac=(()=>{let t;return function(r){return(t||(t=Di(n)))(r||n)}})()}static{this.\u0275dir=Ue({type:n,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(i,r){i&2&&Me("required",r._enabled?"":null)},inputs:{required:"required"},features:[cn([DG]),tn]})}}return n})();var yR=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=Xe({type:n})}static{this.\u0275inj=Qe({})}}return n})(),DC=class extends Ql{constructor(e,t,i){super(IC(t),MC(i,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[this._adjustIndex(e)]}push(e,t={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(e,t,i={}){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:i.emitEvent})}removeAt(e,t={}){let i=this._adjustIndex(e);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(e,t,i={}){let r=this._adjustIndex(e);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),t&&(this.controls.splice(r,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){uR(this,!1,e),e.forEach((i,r)=>{cR(this,!1,r),this.at(r).setValue(i,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){e!=null&&(e.forEach((i,r)=>{this.at(r)&&this.at(r).patchValue(i,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e=[],t={}){this._forEachChild((i,r)=>{i.reset(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t,this),this._updateTouched(t,this),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_adjustIndex(e){return e<0?e+this.length:e}_syncPendingControls(){let e=this.controls.reduce((t,i)=>i._syncPendingControls()?!0:t,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((t,i)=>{e(t,i)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(let e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}_find(e){return this.at(e)??null}};function Qk(n){return!!n&&(n.asyncValidators!==void 0||n.validators!==void 0||n.updateOn!==void 0)}var _R=(()=>{class n{constructor(){this.useNonNullable=!1}get nonNullable(){let t=new n;return t.useNonNullable=!0,t}group(t,i=null){let r=this._reduceControls(t),s={};return Qk(i)?s=i:i!==null&&(s.validators=i.validator,s.asyncValidators=i.asyncValidator),new Ot(r,s)}record(t,i=null){let r=this._reduceControls(t);return new EC(r,i)}control(t,i,r){let s={};return this.useNonNullable?(Qk(i)?s=i:(s.validators=i,s.asyncValidators=r),new te(t,ye(P({},s),{nonNullable:!0}))):new te(t,i,r)}array(t,i,r){let s=t.map(o=>this._createControl(o));return new DC(s,i,r)}_reduceControls(t){let i={};return Object.keys(t).forEach(r=>{i[r]=this._createControl(t[r])}),i}_createControl(t){if(t instanceof te)return t;if(t instanceof Ql)return t;if(Array.isArray(t)){let i=t[0],r=t.length>1?t[1]:null,s=t.length>2?t[2]:null;return this.control(i,r,s)}else return this.control(t)}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var Xl=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:ga,useValue:t.callSetDisabledState??od}]}}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=Xe({type:n})}static{this.\u0275inj=Qe({imports:[yR]})}}return n})(),Je=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:FC,useValue:t.warnOnNgModelWithFormControl??"always"},{provide:ga,useValue:t.callSetDisabledState??od}]}}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=Xe({type:n})}static{this.\u0275inj=Qe({imports:[yR]})}}return n})();var N={production:!0,apiUrl:"https://larback.onrender.com/api/",socketUrl:"https://larback.onrender.com/",photoUser:"https://larback.onrender.com/uploads/users/",photoResident:"https://larback.onrender.com/uploads/residents/",googleMapsApiKey:"AIzaSyBESYMAqgQWxgDWwrKdi_xPGaavvMjN9M8"};var ti=(i=>(i.Manager="manager",i.Caretaker="caretaker",i.Relative="relative",i))(ti||{}),ud=(r=>(r.Familiar="Familiar",r.Cuidador="Cuidador",r.Desconhecido="Desconhecido",r.Manager="Manager",r))(ud||{});var ar=Object.create(null);ar.open="0";ar.close="1";ar.ping="2";ar.pong="3";ar.message="4";ar.upgrade="5";ar.noop="6";var dd=Object.create(null);Object.keys(ar).forEach(n=>{dd[ar[n]]=n});var hd={type:"error",data:"parser error"};var CR=typeof Blob=="function"||typeof Blob<"u"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",wR=typeof ArrayBuffer=="function",SR=n=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(n):n&&n.buffer instanceof ArrayBuffer,pd=({type:n,data:e},t,i)=>CR&&e instanceof Blob?t?i(e):bR(e,i):wR&&(e instanceof ArrayBuffer||SR(e))?t?i(e):bR(new Blob([e]),i):i(ar[n]+(e||"")),bR=(n,e)=>{let t=new FileReader;return t.onload=function(){let i=t.result.split(",")[1];e("b"+(i||""))},t.readAsDataURL(n)};function xR(n){return n instanceof Uint8Array?n:n instanceof ArrayBuffer?new Uint8Array(n):new Uint8Array(n.buffer,n.byteOffset,n.byteLength)}var VC;function ER(n,e){if(CR&&n.data instanceof Blob)return n.data.arrayBuffer().then(xR).then(e);if(wR&&(n.data instanceof ArrayBuffer||SR(n.data)))return e(xR(n.data));pd(n,!1,t=>{VC||(VC=new TextEncoder),e(VC.encode(t))})}var DR="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",fd=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let n=0;n<DR.length;n++)fd[DR.charCodeAt(n)]=n;var TR=n=>{let e=n.length*.75,t=n.length,i,r=0,s,o,a,l;n[n.length-1]==="="&&(e--,n[n.length-2]==="="&&e--);let c=new ArrayBuffer(e),u=new Uint8Array(c);for(i=0;i<t;i+=4)s=fd[n.charCodeAt(i)],o=fd[n.charCodeAt(i+1)],a=fd[n.charCodeAt(i+2)],l=fd[n.charCodeAt(i+3)],u[r++]=s<<2|o>>4,u[r++]=(o&15)<<4|a>>2,u[r++]=(a&3)<<6|l&63;return c};var TG=typeof ArrayBuffer=="function",md=(n,e)=>{if(typeof n!="string")return{type:"message",data:AR(n,e)};let t=n.charAt(0);return t==="b"?{type:"message",data:AG(n.substring(1),e)}:dd[t]?n.length>1?{type:dd[t],data:n.substring(1)}:{type:dd[t]}:hd},AG=(n,e)=>{if(TG){let t=TR(n);return AR(t,e)}else return{base64:!0,data:n}},AR=(n,e)=>{switch(e){case"blob":return n instanceof Blob?n:new Blob([n]);case"arraybuffer":default:return n instanceof ArrayBuffer?n:n.buffer}};var IR="",MR=(n,e)=>{let t=n.length,i=new Array(t),r=0;n.forEach((s,o)=>{pd(s,!1,a=>{i[o]=a,++r===t&&e(i.join(IR))})})},kR=(n,e)=>{let t=n.split(IR),i=[];for(let r=0;r<t.length;r++){let s=md(t[r],e);if(i.push(s),s.type==="error")break}return i};function RR(){return new TransformStream({transform(n,e){ER(n,t=>{let i=t.length,r;if(i<126)r=new Uint8Array(1),new DataView(r.buffer).setUint8(0,i);else if(i<65536){r=new Uint8Array(3);let s=new DataView(r.buffer);s.setUint8(0,126),s.setUint16(1,i)}else{r=new Uint8Array(9);let s=new DataView(r.buffer);s.setUint8(0,127),s.setBigUint64(1,BigInt(i))}n.data&&typeof n.data!="string"&&(r[0]|=128),e.enqueue(r),e.enqueue(t)})}})}var BC;function Bm(n){return n.reduce((e,t)=>e+t.length,0)}function jm(n,e){if(n[0].length===e)return n.shift();let t=new Uint8Array(e),i=0;for(let r=0;r<e;r++)t[r]=n[0][i++],i===n[0].length&&(n.shift(),i=0);return n.length&&i<n[0].length&&(n[0]=n[0].slice(i)),t}function OR(n,e){BC||(BC=new TextDecoder);let t=[],i=0,r=-1,s=!1;return new TransformStream({transform(o,a){for(t.push(o);;){if(i===0){if(Bm(t)<1)break;let l=jm(t,1);s=(l[0]&128)===128,r=l[0]&127,r<126?i=3:r===126?i=1:i=2}else if(i===1){if(Bm(t)<2)break;let l=jm(t,2);r=new DataView(l.buffer,l.byteOffset,l.length).getUint16(0),i=3}else if(i===2){if(Bm(t)<8)break;let l=jm(t,8),c=new DataView(l.buffer,l.byteOffset,l.length),u=c.getUint32(0);if(u>Math.pow(2,21)-1){a.enqueue(hd);break}r=u*Math.pow(2,32)+c.getUint32(4),i=3}else{if(Bm(t)<r)break;let l=jm(t,r);a.enqueue(md(s?l:BC.decode(l),e)),i=0}if(r===0||r>n){a.enqueue(hd);break}}}})}var jC=4;function St(n){if(n)return IG(n)}function IG(n){for(var e in St.prototype)n[e]=St.prototype[e];return n}St.prototype.on=St.prototype.addEventListener=function(n,e){return this._callbacks=this._callbacks||{},(this._callbacks["$"+n]=this._callbacks["$"+n]||[]).push(e),this};St.prototype.once=function(n,e){function t(){this.off(n,t),e.apply(this,arguments)}return t.fn=e,this.on(n,t),this};St.prototype.off=St.prototype.removeListener=St.prototype.removeAllListeners=St.prototype.removeEventListener=function(n,e){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var t=this._callbacks["$"+n];if(!t)return this;if(arguments.length==1)return delete this._callbacks["$"+n],this;for(var i,r=0;r<t.length;r++)if(i=t[r],i===e||i.fn===e){t.splice(r,1);break}return t.length===0&&delete this._callbacks["$"+n],this};St.prototype.emit=function(n){this._callbacks=this._callbacks||{};for(var e=new Array(arguments.length-1),t=this._callbacks["$"+n],i=1;i<arguments.length;i++)e[i-1]=arguments[i];if(t){t=t.slice(0);for(var i=0,r=t.length;i<r;++i)t[i].apply(this,e)}return this};St.prototype.emitReserved=St.prototype.emit;St.prototype.listeners=function(n){return this._callbacks=this._callbacks||{},this._callbacks["$"+n]||[]};St.prototype.hasListeners=function(n){return!!this.listeners(n).length};var _s=typeof Promise=="function"&&typeof Promise.resolve=="function"?e=>Promise.resolve().then(e):(e,t)=>t(e,0),ni=typeof self<"u"?self:typeof window<"u"?window:Function("return this")(),LR="arraybuffer";function Hm(n,...e){return e.reduce((t,i)=>(n.hasOwnProperty(i)&&(t[i]=n[i]),t),{})}var MG=ni.setTimeout,kG=ni.clearTimeout;function bs(n,e){e.useNativeTimers?(n.setTimeoutFn=MG.bind(ni),n.clearTimeoutFn=kG.bind(ni)):(n.setTimeoutFn=ni.setTimeout.bind(ni),n.clearTimeoutFn=ni.clearTimeout.bind(ni))}var RG=1.33;function NR(n){return typeof n=="string"?OG(n):Math.ceil((n.byteLength||n.size)*RG)}function OG(n){let e=0,t=0;for(let i=0,r=n.length;i<r;i++)e=n.charCodeAt(i),e<128?t+=1:e<2048?t+=2:e<55296||e>=57344?t+=3:(i++,t+=4);return t}function zm(){return Date.now().toString(36).substring(3)+Math.random().toString(36).substring(2,5)}function FR(n){let e="";for(let t in n)n.hasOwnProperty(t)&&(e.length&&(e+="&"),e+=encodeURIComponent(t)+"="+encodeURIComponent(n[t]));return e}function PR(n){let e={},t=n.split("&");for(let i=0,r=t.length;i<r;i++){let s=t[i].split("=");e[decodeURIComponent(s[0])]=decodeURIComponent(s[1])}return e}var $m=class extends Error{constructor(e,t,i){super(e),this.description=t,this.context=i,this.type="TransportError"}},xs=class extends St{constructor(e){super(),this.writable=!1,bs(this,e),this.opts=e,this.query=e.query,this.socket=e.socket,this.supportsBinary=!e.forceBase64}onError(e,t,i){return super.emitReserved("error",new $m(e,t,i)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(e){this.readyState==="open"&&this.write(e)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(e){let t=md(e,this.socket.binaryType);this.onPacket(t)}onPacket(e){super.emitReserved("packet",e)}onClose(e){this.readyState="closed",super.emitReserved("close",e)}pause(e){}createUri(e,t={}){return e+"://"+this._hostname()+this._port()+this.opts.path+this._query(t)}_hostname(){let e=this.opts.hostname;return e.indexOf(":")===-1?e:"["+e+"]"}_port(){return this.opts.port&&(this.opts.secure&&+(this.opts.port!==443)||!this.opts.secure&&Number(this.opts.port)!==80)?":"+this.opts.port:""}_query(e){let t=FR(e);return t.length?"?"+t:""}};var gd=class extends xs{constructor(){super(...arguments),this._polling=!1}get name(){return"polling"}doOpen(){this._poll()}pause(e){this.readyState="pausing";let t=()=>{this.readyState="paused",e()};if(this._polling||!this.writable){let i=0;this._polling&&(i++,this.once("pollComplete",function(){--i||t()})),this.writable||(i++,this.once("drain",function(){--i||t()}))}else t()}_poll(){this._polling=!0,this.doPoll(),this.emitReserved("poll")}onData(e){let t=i=>{if(this.readyState==="opening"&&i.type==="open"&&this.onOpen(),i.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(i)};kR(e,this.socket.binaryType).forEach(t),this.readyState!=="closed"&&(this._polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"&&this._poll())}doClose(){let e=()=>{this.write([{type:"close"}])};this.readyState==="open"?e():this.once("open",e)}write(e){this.writable=!1,MR(e,t=>{this.doWrite(t,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){let e=this.opts.secure?"https":"http",t=this.query||{};return this.opts.timestampRequests!==!1&&(t[this.opts.timestampParam]=zm()),!this.supportsBinary&&!t.sid&&(t.b64=1),this.createUri(e,t)}};var VR=!1;try{VR=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch{}var BR=VR;function LG(){}var HC=class extends gd{constructor(e){if(super(e),typeof location<"u"){let t=location.protocol==="https:",i=location.port;i||(i=t?"443":"80"),this.xd=typeof location<"u"&&e.hostname!==location.hostname||i!==e.port}}doWrite(e,t){let i=this.request({method:"POST",data:e});i.on("success",t),i.on("error",(r,s)=>{this.onError("xhr post error",r,s)})}doPoll(){let e=this.request();e.on("data",this.onData.bind(this)),e.on("error",(t,i)=>{this.onError("xhr poll error",t,i)}),this.pollXhr=e}},Um=(()=>{class n extends St{constructor(t,i,r){super(),this.createRequest=t,bs(this,r),this._opts=r,this._method=r.method||"GET",this._uri=i,this._data=r.data!==void 0?r.data:null,this._create()}_create(){var t;let i=Hm(this._opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");i.xdomain=!!this._opts.xd;let r=this._xhr=this.createRequest(i);try{r.open(this._method,this._uri,!0);try{if(this._opts.extraHeaders){r.setDisableHeaderCheck&&r.setDisableHeaderCheck(!0);for(let s in this._opts.extraHeaders)this._opts.extraHeaders.hasOwnProperty(s)&&r.setRequestHeader(s,this._opts.extraHeaders[s])}}catch{}if(this._method==="POST")try{r.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{r.setRequestHeader("Accept","*/*")}catch{}(t=this._opts.cookieJar)===null||t===void 0||t.addCookies(r),"withCredentials"in r&&(r.withCredentials=this._opts.withCredentials),this._opts.requestTimeout&&(r.timeout=this._opts.requestTimeout),r.onreadystatechange=()=>{var s;r.readyState===3&&((s=this._opts.cookieJar)===null||s===void 0||s.parseCookies(r.getResponseHeader("set-cookie"))),r.readyState===4&&(r.status===200||r.status===1223?this._onLoad():this.setTimeoutFn(()=>{this._onError(typeof r.status=="number"?r.status:0)},0))},r.send(this._data)}catch(s){this.setTimeoutFn(()=>{this._onError(s)},0);return}typeof document<"u"&&(this._index=n.requestsCount++,n.requests[this._index]=this)}_onError(t){this.emitReserved("error",t,this._xhr),this._cleanup(!0)}_cleanup(t){if(!(typeof this._xhr>"u"||this._xhr===null)){if(this._xhr.onreadystatechange=LG,t)try{this._xhr.abort()}catch{}typeof document<"u"&&delete n.requests[this._index],this._xhr=null}}_onLoad(){let t=this._xhr.responseText;t!==null&&(this.emitReserved("data",t),this.emitReserved("success"),this._cleanup())}abort(){this._cleanup()}}return n.requestsCount=0,n.requests={},n})();if(typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",jR);else if(typeof addEventListener=="function"){let n="onpagehide"in ni?"pagehide":"unload";addEventListener(n,jR,!1)}}function jR(){for(let n in Um.requests)Um.requests.hasOwnProperty(n)&&Um.requests[n].abort()}var NG=function(){let n=HR({xdomain:!1});return n&&n.responseType!==null}(),fo=class extends HC{constructor(e){super(e);let t=e&&e.forceBase64;this.supportsBinary=NG&&!t}request(e={}){return Object.assign(e,{xd:this.xd},this.opts),new Um(HR,this.uri(),e)}};function HR(n){let e=n.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!e||BR))return new XMLHttpRequest}catch{}if(!e)try{return new ni[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch{}}var zR=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative",$C=class extends xs{get name(){return"websocket"}doOpen(){let e=this.uri(),t=this.opts.protocols,i=zR?{}:Hm(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(i.headers=this.opts.extraHeaders);try{this.ws=this.createSocket(e,t,i)}catch(r){return this.emitReserved("error",r)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=e=>this.onClose({description:"websocket connection closed",context:e}),this.ws.onmessage=e=>this.onData(e.data),this.ws.onerror=e=>this.onError("websocket error",e)}write(e){this.writable=!1;for(let t=0;t<e.length;t++){let i=e[t],r=t===e.length-1;pd(i,this.supportsBinary,s=>{try{this.doWrite(i,s)}catch{}r&&_s(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.onerror=()=>{},this.ws.close(),this.ws=null)}uri(){let e=this.opts.secure?"wss":"ws",t=this.query||{};return this.opts.timestampRequests&&(t[this.opts.timestampParam]=zm()),this.supportsBinary||(t.b64=1),this.createUri(e,t)}},zC=ni.WebSocket||ni.MozWebSocket,mo=class extends $C{createSocket(e,t,i){return zR?new zC(e,t,i):t?new zC(e,t):new zC(e)}doWrite(e,t){this.ws.send(t)}};var Zl=class extends xs{get name(){return"webtransport"}doOpen(){try{this._transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name])}catch(e){return this.emitReserved("error",e)}this._transport.closed.then(()=>{this.onClose()}).catch(e=>{this.onError("webtransport error",e)}),this._transport.ready.then(()=>{this._transport.createBidirectionalStream().then(e=>{let t=OR(Number.MAX_SAFE_INTEGER,this.socket.binaryType),i=e.readable.pipeThrough(t).getReader(),r=RR();r.readable.pipeTo(e.writable),this._writer=r.writable.getWriter();let s=()=>{i.read().then(({done:a,value:l})=>{a||(this.onPacket(l),s())}).catch(a=>{})};s();let o={type:"open"};this.query.sid&&(o.data=`{"sid":"${this.query.sid}"}`),this._writer.write(o).then(()=>this.onOpen())})})}write(e){this.writable=!1;for(let t=0;t<e.length;t++){let i=e[t],r=t===e.length-1;this._writer.write(i).then(()=>{r&&_s(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var e;(e=this._transport)===null||e===void 0||e.close()}};var UC={websocket:mo,webtransport:Zl,polling:fo};var FG=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,PG=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function Kl(n){if(n.length>8e3)throw"URI too long";let e=n,t=n.indexOf("["),i=n.indexOf("]");t!=-1&&i!=-1&&(n=n.substring(0,t)+n.substring(t,i).replace(/:/g,";")+n.substring(i,n.length));let r=FG.exec(n||""),s={},o=14;for(;o--;)s[PG[o]]=r[o]||"";return t!=-1&&i!=-1&&(s.source=e,s.host=s.host.substring(1,s.host.length-1).replace(/;/g,":"),s.authority=s.authority.replace("[","").replace("]","").replace(/;/g,":"),s.ipv6uri=!0),s.pathNames=VG(s,s.path),s.queryKey=BG(s,s.query),s}function VG(n,e){let t=/\/{2,9}/g,i=e.replace(t,"/").split("/");return(e.slice(0,1)=="/"||e.length===0)&&i.splice(0,1),e.slice(-1)=="/"&&i.splice(i.length-1,1),i}function BG(n,e){let t={};return e.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(i,r,s){r&&(t[r]=s)}),t}var GC=typeof addEventListener=="function"&&typeof removeEventListener=="function",Gm=[];GC&&addEventListener("offline",()=>{Gm.forEach(n=>n())},!1);var qm=(()=>{class n extends St{constructor(t,i){if(super(),this.binaryType=LR,this.writeBuffer=[],this._prevBufferLen=0,this._pingInterval=-1,this._pingTimeout=-1,this._maxPayload=-1,this._pingTimeoutTime=1/0,t&&typeof t=="object"&&(i=t,t=null),t){let r=Kl(t);i.hostname=r.host,i.secure=r.protocol==="https"||r.protocol==="wss",i.port=r.port,r.query&&(i.query=r.query)}else i.host&&(i.hostname=Kl(i.host).host);bs(this,i),this.secure=i.secure!=null?i.secure:typeof location<"u"&&location.protocol==="https:",i.hostname&&!i.port&&(i.port=this.secure?"443":"80"),this.hostname=i.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=i.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=[],this._transportsByName={},i.transports.forEach(r=>{let s=r.prototype.name;this.transports.push(s),this._transportsByName[s]=r}),this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},i),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),typeof this.opts.query=="string"&&(this.opts.query=PR(this.opts.query)),GC&&(this.opts.closeOnBeforeunload&&(this._beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this._beforeunloadEventListener,!1)),this.hostname!=="localhost"&&(this._offlineEventListener=()=>{this._onClose("transport close",{description:"network connection lost"})},Gm.push(this._offlineEventListener))),this.opts.withCredentials&&(this._cookieJar=void 0),this._open()}createTransport(t){let i=Object.assign({},this.opts.query);i.EIO=jC,i.transport=t,this.id&&(i.sid=this.id);let r=Object.assign({},this.opts,{query:i,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[t]);return new this._transportsByName[t](r)}_open(){if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}let t=this.opts.rememberUpgrade&&n.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1?"websocket":this.transports[0];this.readyState="opening";let i=this.createTransport(t);i.open(),this.setTransport(i)}setTransport(t){this.transport&&this.transport.removeAllListeners(),this.transport=t,t.on("drain",this._onDrain.bind(this)).on("packet",this._onPacket.bind(this)).on("error",this._onError.bind(this)).on("close",i=>this._onClose("transport close",i))}onOpen(){this.readyState="open",n.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush()}_onPacket(t){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",t),this.emitReserved("heartbeat"),t.type){case"open":this.onHandshake(JSON.parse(t.data));break;case"ping":this._sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong"),this._resetPingTimeout();break;case"error":let i=new Error("server error");i.code=t.data,this._onError(i);break;case"message":this.emitReserved("data",t.data),this.emitReserved("message",t.data);break}}onHandshake(t){this.emitReserved("handshake",t),this.id=t.sid,this.transport.query.sid=t.sid,this._pingInterval=t.pingInterval,this._pingTimeout=t.pingTimeout,this._maxPayload=t.maxPayload,this.onOpen(),this.readyState!=="closed"&&this._resetPingTimeout()}_resetPingTimeout(){this.clearTimeoutFn(this._pingTimeoutTimer);let t=this._pingInterval+this._pingTimeout;this._pingTimeoutTime=Date.now()+t,this._pingTimeoutTimer=this.setTimeoutFn(()=>{this._onClose("ping timeout")},t),this.opts.autoUnref&&this._pingTimeoutTimer.unref()}_onDrain(){this.writeBuffer.splice(0,this._prevBufferLen),this._prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){let t=this._getWritablePackets();this.transport.send(t),this._prevBufferLen=t.length,this.emitReserved("flush")}}_getWritablePackets(){if(!(this._maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let i=1;for(let r=0;r<this.writeBuffer.length;r++){let s=this.writeBuffer[r].data;if(s&&(i+=NR(s)),r>0&&i>this._maxPayload)return this.writeBuffer.slice(0,r);i+=2}return this.writeBuffer}_hasPingExpired(){if(!this._pingTimeoutTime)return!0;let t=Date.now()>this._pingTimeoutTime;return t&&(this._pingTimeoutTime=0,_s(()=>{this._onClose("ping timeout")},this.setTimeoutFn)),t}write(t,i,r){return this._sendPacket("message",t,i,r),this}send(t,i,r){return this._sendPacket("message",t,i,r),this}_sendPacket(t,i,r,s){if(typeof i=="function"&&(s=i,i=void 0),typeof r=="function"&&(s=r,r=null),this.readyState==="closing"||this.readyState==="closed")return;r=r||{},r.compress=r.compress!==!1;let o={type:t,data:i,options:r};this.emitReserved("packetCreate",o),this.writeBuffer.push(o),s&&this.once("flush",s),this.flush()}close(){let t=()=>{this._onClose("forced close"),this.transport.close()},i=()=>{this.off("upgrade",i),this.off("upgradeError",i),t()},r=()=>{this.once("upgrade",i),this.once("upgradeError",i)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?r():t()}):this.upgrading?r():t()),this}_onError(t){if(n.priorWebsocketSuccess=!1,this.opts.tryAllTransports&&this.transports.length>1&&this.readyState==="opening")return this.transports.shift(),this._open();this.emitReserved("error",t),this._onClose("transport error",t)}_onClose(t,i){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing"){if(this.clearTimeoutFn(this._pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),GC&&(this._beforeunloadEventListener&&removeEventListener("beforeunload",this._beforeunloadEventListener,!1),this._offlineEventListener)){let r=Gm.indexOf(this._offlineEventListener);r!==-1&&Gm.splice(r,1)}this.readyState="closed",this.id=null,this.emitReserved("close",t,i),this.writeBuffer=[],this._prevBufferLen=0}}}return n.protocol=jC,n})(),Wm=class extends qm{constructor(){super(...arguments),this._upgrades=[]}onOpen(){if(super.onOpen(),this.readyState==="open"&&this.opts.upgrade)for(let e=0;e<this._upgrades.length;e++)this._probe(this._upgrades[e])}_probe(e){let t=this.createTransport(e),i=!1;qm.priorWebsocketSuccess=!1;let r=()=>{i||(t.send([{type:"ping",data:"probe"}]),t.once("packet",p=>{if(!i)if(p.type==="pong"&&p.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",t),!t)return;qm.priorWebsocketSuccess=t.name==="websocket",this.transport.pause(()=>{i||this.readyState!=="closed"&&(u(),this.setTransport(t),t.send([{type:"upgrade"}]),this.emitReserved("upgrade",t),t=null,this.upgrading=!1,this.flush())})}else{let m=new Error("probe error");m.transport=t.name,this.emitReserved("upgradeError",m)}}))};function s(){i||(i=!0,u(),t.close(),t=null)}let o=p=>{let m=new Error("probe error: "+p);m.transport=t.name,s(),this.emitReserved("upgradeError",m)};function a(){o("transport closed")}function l(){o("socket closed")}function c(p){t&&p.name!==t.name&&s()}let u=()=>{t.removeListener("open",r),t.removeListener("error",o),t.removeListener("close",a),this.off("close",l),this.off("upgrading",c)};t.once("open",r),t.once("error",o),t.once("close",a),this.once("close",l),this.once("upgrading",c),this._upgrades.indexOf("webtransport")!==-1&&e!=="webtransport"?this.setTimeoutFn(()=>{i||t.open()},200):t.open()}onHandshake(e){this._upgrades=this._filterUpgrades(e.upgrades),super.onHandshake(e)}_filterUpgrades(e){let t=[];for(let i=0;i<e.length;i++)~this.transports.indexOf(e[i])&&t.push(e[i]);return t}},Jl=class extends Wm{constructor(e,t={}){let i=typeof e=="object"?e:t;(!i.transports||i.transports&&typeof i.transports[0]=="string")&&(i.transports=(i.transports||["polling","websocket","webtransport"]).map(r=>UC[r]).filter(r=>!!r)),super(e,i)}};var ihe=Jl.protocol;function $R(n,e="",t){let i=n;t=t||typeof location<"u"&&location,n==null&&(n=t.protocol+"//"+t.host),typeof n=="string"&&(n.charAt(0)==="/"&&(n.charAt(1)==="/"?n=t.protocol+n:n=t.host+n),/^(https?|wss?):\/\//.test(n)||(typeof t<"u"?n=t.protocol+"//"+n:n="https://"+n),i=Kl(n)),i.port||(/^(http|ws)$/.test(i.protocol)?i.port="80":/^(http|ws)s$/.test(i.protocol)&&(i.port="443")),i.path=i.path||"/";let s=i.host.indexOf(":")!==-1?"["+i.host+"]":i.host;return i.id=i.protocol+"://"+s+":"+i.port+e,i.href=i.protocol+"://"+s+(t&&t.port===i.port?"":":"+i.port),i}var ZC={};nV(ZC,{Decoder:()=>QC,Encoder:()=>YC,PacketType:()=>Ze,protocol:()=>YR});var HG=typeof ArrayBuffer=="function",zG=n=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(n):n.buffer instanceof ArrayBuffer,UR=Object.prototype.toString,$G=typeof Blob=="function"||typeof Blob<"u"&&UR.call(Blob)==="[object BlobConstructor]",UG=typeof File=="function"||typeof File<"u"&&UR.call(File)==="[object FileConstructor]";function yd(n){return HG&&(n instanceof ArrayBuffer||zG(n))||$G&&n instanceof Blob||UG&&n instanceof File}function vd(n,e){if(!n||typeof n!="object")return!1;if(Array.isArray(n)){for(let t=0,i=n.length;t<i;t++)if(vd(n[t]))return!0;return!1}if(yd(n))return!0;if(n.toJSON&&typeof n.toJSON=="function"&&arguments.length===1)return vd(n.toJSON(),!0);for(let t in n)if(Object.prototype.hasOwnProperty.call(n,t)&&vd(n[t]))return!0;return!1}function GR(n){let e=[],t=n.data,i=n;return i.data=qC(t,e),i.attachments=e.length,{packet:i,buffers:e}}function qC(n,e){if(!n)return n;if(yd(n)){let t={_placeholder:!0,num:e.length};return e.push(n),t}else if(Array.isArray(n)){let t=new Array(n.length);for(let i=0;i<n.length;i++)t[i]=qC(n[i],e);return t}else if(typeof n=="object"&&!(n instanceof Date)){let t={};for(let i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=qC(n[i],e));return t}return n}function qR(n,e){return n.data=WC(n.data,e),delete n.attachments,n}function WC(n,e){if(!n)return n;if(n&&n._placeholder===!0){if(typeof n.num=="number"&&n.num>=0&&n.num<e.length)return e[n.num];throw new Error("illegal attachments")}else if(Array.isArray(n))for(let t=0;t<n.length;t++)n[t]=WC(n[t],e);else if(typeof n=="object")for(let t in n)Object.prototype.hasOwnProperty.call(n,t)&&(n[t]=WC(n[t],e));return n}var GG=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],YR=5,Ze=function(n){return n[n.CONNECT=0]="CONNECT",n[n.DISCONNECT=1]="DISCONNECT",n[n.EVENT=2]="EVENT",n[n.ACK=3]="ACK",n[n.CONNECT_ERROR=4]="CONNECT_ERROR",n[n.BINARY_EVENT=5]="BINARY_EVENT",n[n.BINARY_ACK=6]="BINARY_ACK",n}(Ze||{}),YC=class{constructor(e){this.replacer=e}encode(e){return(e.type===Ze.EVENT||e.type===Ze.ACK)&&vd(e)?this.encodeAsBinary({type:e.type===Ze.EVENT?Ze.BINARY_EVENT:Ze.BINARY_ACK,nsp:e.nsp,data:e.data,id:e.id}):[this.encodeAsString(e)]}encodeAsString(e){let t=""+e.type;return(e.type===Ze.BINARY_EVENT||e.type===Ze.BINARY_ACK)&&(t+=e.attachments+"-"),e.nsp&&e.nsp!=="/"&&(t+=e.nsp+","),e.id!=null&&(t+=e.id),e.data!=null&&(t+=JSON.stringify(e.data,this.replacer)),t}encodeAsBinary(e){let t=GR(e),i=this.encodeAsString(t.packet),r=t.buffers;return r.unshift(i),r}};function WR(n){return Object.prototype.toString.call(n)==="[object Object]"}var QC=class n extends St{constructor(e){super(),this.reviver=e}add(e){let t;if(typeof e=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");t=this.decodeString(e);let i=t.type===Ze.BINARY_EVENT;i||t.type===Ze.BINARY_ACK?(t.type=i?Ze.EVENT:Ze.ACK,this.reconstructor=new XC(t),t.attachments===0&&super.emitReserved("decoded",t)):super.emitReserved("decoded",t)}else if(yd(e)||e.base64)if(this.reconstructor)t=this.reconstructor.takeBinaryData(e),t&&(this.reconstructor=null,super.emitReserved("decoded",t));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+e)}decodeString(e){let t=0,i={type:Number(e.charAt(0))};if(Ze[i.type]===void 0)throw new Error("unknown packet type "+i.type);if(i.type===Ze.BINARY_EVENT||i.type===Ze.BINARY_ACK){let s=t+1;for(;e.charAt(++t)!=="-"&&t!=e.length;);let o=e.substring(s,t);if(o!=Number(o)||e.charAt(t)!=="-")throw new Error("Illegal attachments");i.attachments=Number(o)}if(e.charAt(t+1)==="/"){let s=t+1;for(;++t&&!(e.charAt(t)===","||t===e.length););i.nsp=e.substring(s,t)}else i.nsp="/";let r=e.charAt(t+1);if(r!==""&&Number(r)==r){let s=t+1;for(;++t;){let o=e.charAt(t);if(o==null||Number(o)!=o){--t;break}if(t===e.length)break}i.id=Number(e.substring(s,t+1))}if(e.charAt(++t)){let s=this.tryParse(e.substr(t));if(n.isPayloadValid(i.type,s))i.data=s;else throw new Error("invalid payload")}return i}tryParse(e){try{return JSON.parse(e,this.reviver)}catch{return!1}}static isPayloadValid(e,t){switch(e){case Ze.CONNECT:return WR(t);case Ze.DISCONNECT:return t===void 0;case Ze.CONNECT_ERROR:return typeof t=="string"||WR(t);case Ze.EVENT:case Ze.BINARY_EVENT:return Array.isArray(t)&&(typeof t[0]=="number"||typeof t[0]=="string"&&GG.indexOf(t[0])===-1);case Ze.ACK:case Ze.BINARY_ACK:return Array.isArray(t)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}},XC=class{constructor(e){this.packet=e,this.buffers=[],this.reconPack=e}takeBinaryData(e){if(this.buffers.push(e),this.buffers.length===this.reconPack.attachments){let t=qR(this.reconPack,this.buffers);return this.finishedReconstruction(),t}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}};function Mi(n,e,t){return n.on(e,t),function(){n.off(e,t)}}var qG=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1}),ec=class extends St{constructor(e,t,i){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=e,this.nsp=t,i&&i.auth&&(this.auth=i.auth),this._opts=Object.assign({},i),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;let e=this.io;this.subs=[Mi(e,"open",this.onopen.bind(this)),Mi(e,"packet",this.onpacket.bind(this)),Mi(e,"error",this.onerror.bind(this)),Mi(e,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(...e){return e.unshift("message"),this.emit.apply(this,e),this}emit(e,...t){var i,r,s;if(qG.hasOwnProperty(e))throw new Error('"'+e.toString()+'" is a reserved event name');if(t.unshift(e),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(t),this;let o={type:Ze.EVENT,data:t};if(o.options={},o.options.compress=this.flags.compress!==!1,typeof t[t.length-1]=="function"){let u=this.ids++,p=t.pop();this._registerAckCallback(u,p),o.id=u}let a=(r=(i=this.io.engine)===null||i===void 0?void 0:i.transport)===null||r===void 0?void 0:r.writable,l=this.connected&&!(!((s=this.io.engine)===null||s===void 0)&&s._hasPingExpired());return this.flags.volatile&&!a||(l?(this.notifyOutgoingListeners(o),this.packet(o)):this.sendBuffer.push(o)),this.flags={},this}_registerAckCallback(e,t){var i;let r=(i=this.flags.timeout)!==null&&i!==void 0?i:this._opts.ackTimeout;if(r===void 0){this.acks[e]=t;return}let s=this.io.setTimeoutFn(()=>{delete this.acks[e];for(let a=0;a<this.sendBuffer.length;a++)this.sendBuffer[a].id===e&&this.sendBuffer.splice(a,1);t.call(this,new Error("operation has timed out"))},r),o=(...a)=>{this.io.clearTimeoutFn(s),t.apply(this,a)};o.withError=!0,this.acks[e]=o}emitWithAck(e,...t){return new Promise((i,r)=>{let s=(o,a)=>o?r(o):i(a);s.withError=!0,t.push(s),this.emit(e,...t)})}_addToQueue(e){let t;typeof e[e.length-1]=="function"&&(t=e.pop());let i={id:this._queueSeq++,tryCount:0,pending:!1,args:e,flags:Object.assign({fromQueue:!0},this.flags)};e.push((r,...s)=>i!==this._queue[0]?void 0:(r!==null?i.tryCount>this._opts.retries&&(this._queue.shift(),t&&t(r)):(this._queue.shift(),t&&t(null,...s)),i.pending=!1,this._drainQueue())),this._queue.push(i),this._drainQueue()}_drainQueue(e=!1){if(!this.connected||this._queue.length===0)return;let t=this._queue[0];t.pending&&!e||(t.pending=!0,t.tryCount++,this.flags=t.flags,this.emit.apply(this,t.args))}packet(e){e.nsp=this.nsp,this.io._packet(e)}onopen(){typeof this.auth=="function"?this.auth(e=>{this._sendConnectPacket(e)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(e){this.packet({type:Ze.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},e):e})}onerror(e){this.connected||this.emitReserved("connect_error",e)}onclose(e,t){this.connected=!1,delete this.id,this.emitReserved("disconnect",e,t),this._clearAcks()}_clearAcks(){Object.keys(this.acks).forEach(e=>{if(!this.sendBuffer.some(i=>String(i.id)===e)){let i=this.acks[e];delete this.acks[e],i.withError&&i.call(this,new Error("socket has been disconnected"))}})}onpacket(e){if(e.nsp===this.nsp)switch(e.type){case Ze.CONNECT:e.data&&e.data.sid?this.onconnect(e.data.sid,e.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case Ze.EVENT:case Ze.BINARY_EVENT:this.onevent(e);break;case Ze.ACK:case Ze.BINARY_ACK:this.onack(e);break;case Ze.DISCONNECT:this.ondisconnect();break;case Ze.CONNECT_ERROR:this.destroy();let i=new Error(e.data.message);i.data=e.data.data,this.emitReserved("connect_error",i);break}}onevent(e){let t=e.data||[];e.id!=null&&t.push(this.ack(e.id)),this.connected?this.emitEvent(t):this.receiveBuffer.push(Object.freeze(t))}emitEvent(e){if(this._anyListeners&&this._anyListeners.length){let t=this._anyListeners.slice();for(let i of t)i.apply(this,e)}super.emit.apply(this,e),this._pid&&e.length&&typeof e[e.length-1]=="string"&&(this._lastOffset=e[e.length-1])}ack(e){let t=this,i=!1;return function(...r){i||(i=!0,t.packet({type:Ze.ACK,id:e,data:r}))}}onack(e){let t=this.acks[e.id];typeof t=="function"&&(delete this.acks[e.id],t.withError&&e.data.unshift(null),t.apply(this,e.data))}onconnect(e,t){this.id=e,this.recovered=t&&this._pid===t,this._pid=t,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach(e=>this.emitEvent(e)),this.receiveBuffer=[],this.sendBuffer.forEach(e=>{this.notifyOutgoingListeners(e),this.packet(e)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(e=>e()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:Ze.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(e){return this.flags.compress=e,this}get volatile(){return this.flags.volatile=!0,this}timeout(e){return this.flags.timeout=e,this}onAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(e),this}prependAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(e),this}offAny(e){if(!this._anyListeners)return this;if(e){let t=this._anyListeners;for(let i=0;i<t.length;i++)if(e===t[i])return t.splice(i,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(e),this}prependAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(e),this}offAnyOutgoing(e){if(!this._anyOutgoingListeners)return this;if(e){let t=this._anyOutgoingListeners;for(let i=0;i<t.length;i++)if(e===t[i])return t.splice(i,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(e){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){let t=this._anyOutgoingListeners.slice();for(let i of t)i.apply(this,e.data)}}};function ya(n){n=n||{},this.ms=n.min||100,this.max=n.max||1e4,this.factor=n.factor||2,this.jitter=n.jitter>0&&n.jitter<=1?n.jitter:0,this.attempts=0}ya.prototype.duration=function(){var n=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var e=Math.random(),t=Math.floor(e*this.jitter*n);n=Math.floor(e*10)&1?n+t:n-t}return Math.min(n,this.max)|0};ya.prototype.reset=function(){this.attempts=0};ya.prototype.setMin=function(n){this.ms=n};ya.prototype.setMax=function(n){this.max=n};ya.prototype.setJitter=function(n){this.jitter=n};var tc=class extends St{constructor(e,t){var i;super(),this.nsps={},this.subs=[],e&&typeof e=="object"&&(t=e,e=void 0),t=t||{},t.path=t.path||"/socket.io",this.opts=t,bs(this,t),this.reconnection(t.reconnection!==!1),this.reconnectionAttempts(t.reconnectionAttempts||1/0),this.reconnectionDelay(t.reconnectionDelay||1e3),this.reconnectionDelayMax(t.reconnectionDelayMax||5e3),this.randomizationFactor((i=t.randomizationFactor)!==null&&i!==void 0?i:.5),this.backoff=new ya({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(t.timeout==null?2e4:t.timeout),this._readyState="closed",this.uri=e;let r=t.parser||ZC;this.encoder=new r.Encoder,this.decoder=new r.Decoder,this._autoConnect=t.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(e){return arguments.length?(this._reconnection=!!e,e||(this.skipReconnect=!0),this):this._reconnection}reconnectionAttempts(e){return e===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=e,this)}reconnectionDelay(e){var t;return e===void 0?this._reconnectionDelay:(this._reconnectionDelay=e,(t=this.backoff)===null||t===void 0||t.setMin(e),this)}randomizationFactor(e){var t;return e===void 0?this._randomizationFactor:(this._randomizationFactor=e,(t=this.backoff)===null||t===void 0||t.setJitter(e),this)}reconnectionDelayMax(e){var t;return e===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=e,(t=this.backoff)===null||t===void 0||t.setMax(e),this)}timeout(e){return arguments.length?(this._timeout=e,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(e){if(~this._readyState.indexOf("open"))return this;this.engine=new Jl(this.uri,this.opts);let t=this.engine,i=this;this._readyState="opening",this.skipReconnect=!1;let r=Mi(t,"open",function(){i.onopen(),e&&e()}),s=a=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",a),e?e(a):this.maybeReconnectOnOpen()},o=Mi(t,"error",s);if(this._timeout!==!1){let a=this._timeout,l=this.setTimeoutFn(()=>{r(),s(new Error("timeout")),t.close()},a);this.opts.autoUnref&&l.unref(),this.subs.push(()=>{this.clearTimeoutFn(l)})}return this.subs.push(r),this.subs.push(o),this}connect(e){return this.open(e)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");let e=this.engine;this.subs.push(Mi(e,"ping",this.onping.bind(this)),Mi(e,"data",this.ondata.bind(this)),Mi(e,"error",this.onerror.bind(this)),Mi(e,"close",this.onclose.bind(this)),Mi(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(e){try{this.decoder.add(e)}catch(t){this.onclose("parse error",t)}}ondecoded(e){_s(()=>{this.emitReserved("packet",e)},this.setTimeoutFn)}onerror(e){this.emitReserved("error",e)}socket(e,t){let i=this.nsps[e];return i?this._autoConnect&&!i.active&&i.connect():(i=new ec(this,e,t),this.nsps[e]=i),i}_destroy(e){let t=Object.keys(this.nsps);for(let i of t)if(this.nsps[i].active)return;this._close()}_packet(e){let t=this.encoder.encode(e);for(let i=0;i<t.length;i++)this.engine.write(t[i],e.options)}cleanup(){this.subs.forEach(e=>e()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close")}disconnect(){return this._close()}onclose(e,t){var i;this.cleanup(),(i=this.engine)===null||i===void 0||i.close(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",e,t),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;let e=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{let t=this.backoff.duration();this._reconnecting=!0;let i=this.setTimeoutFn(()=>{e.skipReconnect||(this.emitReserved("reconnect_attempt",e.backoff.attempts),!e.skipReconnect&&e.open(r=>{r?(e._reconnecting=!1,e.reconnect(),this.emitReserved("reconnect_error",r)):e.onreconnect()}))},t);this.opts.autoUnref&&i.unref(),this.subs.push(()=>{this.clearTimeoutFn(i)})}}onreconnect(){let e=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",e)}};var _d={};function bd(n,e){typeof n=="object"&&(e=n,n=void 0),e=e||{};let t=$R(n,e.path||"/socket.io"),i=t.source,r=t.id,s=t.path,o=_d[r]&&s in _d[r].nsps,a=e.forceNew||e["force new connection"]||e.multiplex===!1||o,l;return a?l=new tc(i,e):(_d[r]||(_d[r]=new tc(i,e)),l=_d[r]),t.query&&!e.query&&(e.query=t.queryKey),l.socket(t.path,e)}Object.assign(bd,{Manager:tc,Socket:ec,io:bd,connect:bd});var nc=(a=>(a.APPOINTMENT="Consulta",a.MEDICAMENT="Medicamento",a.MEDICAMENT_STOCK="Stock de Medicamento",a.MEDICAMENT_LOW="Baixo Stock de Medicamento",a.MESSAGE="Mensagem",a.MESSAGE_RELATIVE="Mensagem Familiar",a.SHIFT="Turno",a))(nc||{}),KC=(r=>(r.DONE="Conclu\xEDdo",r.CANCELED="Cancelado",r.ONGOING="Em Curso",r.PENDING="Pendente",r))(KC||{}),Nr=class n{taskTypeFilter=new Be(null);taskTypeFilter$=this.taskTypeFilter.asObservable();setTaskTypeFilter=this.taskTypeFilter.next.bind(this.taskTypeFilter);tasksSubject=new Be([]);tasks$=this.tasksSubject.asObservable().pipe(eu(this.taskTypeFilter),V(([e,t])=>t?e.filter(i=>t==="Stock de Medicamento"?i.type==="Medicamento"||"Baixo Stock de Medicamento":i.type===t):e));client;connect(e){console.log("Connecting to socket"),this.client=bd(N.socketUrl,{transports:["websocket"],extraHeaders:{authorization:`Bearer ${e}`},auth:{authorization:`Bearer ${e}`}}),this.client.connect(),this.client.on("connect",this.handleConnection),this.client.on("error",t=>{N.production||console.error("Socket error",t)}),this.client.on("connect_error",t=>{N.production||console.error("Socket connection error",t)})}disconnect(){N.production||console.log("Disconnecting from socket"),this.client?.disconnect()}handleConnection=()=>{N.production||console.log("Socket connected"),this.client?.on("disconnect",this.handleDisconnection),this.client?.on("loadNotifications",this.handleLoadTasks)};handleDisconnection=()=>{N.production||console.log("Socket disconnected"),this.tasksSubject.next([])};handleLoadTasks=e=>{N.production||console.log("Tasks loaded",e),this.tasksSubject.next(e)};changeTaskStatus(e,t){N.production||console.log("Changing task status",e,t),this.client?.emit("updateStatus",{id:e,status:t})}setTaskAsDone(e){this.changeTaskStatus(e,"Conclu\xEDdo")}setTaskAsCanceled(e){this.changeTaskStatus(e,"Cancelado")}setTaskAsOngoing(e){this.changeTaskStatus(e,"Em Curso")}setTaskAsPending(e){this.changeTaskStatus(e,"Pendente")}setFilter(e){this.taskTypeFilter.next(e)}clearFilter(){this.taskTypeFilter.next(null)}static \u0275fac=function(t){return new(t||n)};static \u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"})};var be=class n{constructor(e,t,i){this.httpClient=e;this.router=t;this.tasksService=i;this.subject=new Be(this.getLoginInfo())}subject;url=N.apiUrl+"auth";token_key="auth-token";login(e,t){return this.httpClient.post(this.url+"/login",{email:e,password:t}).pipe(V(i=>(this.saveLoginInfo(i),this.subject.next(i),i.user.role!=="relative"&&this.tasksService.connect(i.access_token),i.user)))}getToken(){return this.subject.asObservable().pipe(V(e=>e?.access_token||null))}getUser(){return this.subject.asObservable().pipe(V(e=>e?.user||null))}logout(){this.deleteLoginInfo(),this.subject.next(null),this.tasksService.disconnect(),this.router.navigate(["login"])}saveLoginInfo(e){localStorage.setItem(this.token_key,JSON.stringify(e))}deleteLoginInfo(){localStorage.removeItem(this.token_key)}getLoginInfo(){let e=localStorage.getItem(this.token_key);return e?(this.tasksService.connect(JSON.parse(e).access_token),JSON.parse(e)):null}validateSavedToken(){let e=this.getLoginInfo();e&&this.httpClient.get(this.url+"/profile",{headers:{Authorization:`Bearer ${e.access_token}`}}).subscribe({error:()=>{this.deleteLoginInfo(),this.subject.next(null),this.tasksService.disconnect(),this.router.navigate(["/"])}})}resetPassword(e,t){let i=`${N.apiUrl}users/${e}/password`,r={password:t};return this.httpClient.patch(i,r).pipe(V(()=>{console.log("Password reset successfully")}))}isRelative(){return this.getUser().pipe(V(e=>e?.role==="relative"))}isManager(){return this.getUser().pipe(V(e=>e?.role==="manager"))}static \u0275fac=function(t){return new(t||n)($(ze),$(Z),$(Nr))};static \u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"})};var XR=(n,e)=>({"input-error":n,"input-success":e}),ZR=(n,e)=>({"opacity-100":n,"opacity-0":e}),Ym=class n{constructor(e,t,i){this.authService=e;this.router=t;this.renderer=i}errorMessage="";email=new te("",{validators:K.compose([K.required,K.email]),updateOn:"change"});password=new te("",{validators:K.compose([K.required,K.minLength(6)]),updateOn:"change"});loginForm=new Ot({email:this.email,password:this.password});ngOnInit(){let e=document.querySelector("main");e&&(this.renderer.removeClass(e,"container"),this.renderer.removeClass(e,"px-2"),this.renderer.removeClass(e,"sm:px-0"),this.renderer.removeClass(e,"mx-auto"),this.renderer.removeClass(e,"pt-10")),this.loginForm.reset(),this.loginForm.markAsUntouched(),this.errorMessage="",this.authService.getUser().subscribe({next:t=>{t&&this.router.navigateByUrl("/dashboard").then(i=>console.log(i))}})}login(){this.loginForm.invalid||this.loginForm.untouched||this.authService.login(this.email.value,this.password.value).subscribe({error:e=>{e.status===401&&(this.errorMessage="Email ou password errados")}})}ngOnDestroy(){let e=document.querySelector("main");e&&(this.renderer.addClass(e,"container"),this.renderer.addClass(e,"px-2"),this.renderer.addClass(e,"sm:px-0"),this.renderer.addClass(e,"mx-auto"),this.renderer.addClass(e,"pt-10"))}static \u0275fac=function(t){return new(t||n)(C(be),C(Z),C(It))};static \u0275cmp=A({type:n,selectors:[["app-form-login"]],standalone:!0,features:[I],decls:23,vars:19,consts:[[1,"relative","min-h-screen"],["src","about.jpg","alt","Background",1,"absolute","inset-0","w-full","h-full","object-cover","-z-10"],[1,"flex","flex-col","justify-center","items-center","min-h-screen"],[1,"w-full","max-w-sm","mx-auto","bg-white","p-6","rounded-lg","shadow-lg",3,"ngSubmit","formGroup"],[1,"text-2xl","text-center","font-bold","text-gray-800","mb-6"],[1,"mb-4"],["for","inline-email",1,"block","text-gray-500","font-bold","mb-1"],["formControlName","email","id","inline-email","placeholder","exemplo@dominio.com","required","","type","email",1,"input","bg-gray-200","rounded","w-full","py-2","px-4","text-gray-700","leading-tight",3,"ngClass"],[1,"text-red-500","block","pt-1","font-thin",3,"ngClass"],["for","inline-password",1,"block","text-gray-500","font-bold","mb-1"],["formControlName","password","id","inline-password","placeholder","Digite sua senha","required","","type","password",1,"input","bg-gray-200","rounded","w-full","py-2","px-4","text-gray-700","leading-tight",3,"ngClass"],[1,"pb-4"],[1,"text-red-500"],["type","submit",1,"bg-info","font-bold","py-3","px-4","text-sm","rounded","w-full","hover:brightness-90","cursor-pointer",3,"disabled"]],template:function(t,i){t&1&&(h(0,"div",0),x(1,"img",1),h(2,"div",2)(3,"form",3),E("ngSubmit",function(){return i.login()}),h(4,"h1",4),v(5,"Iniciar Sess\xE3o"),d(),h(6,"div",5)(7,"label",6),v(8,"Email"),d(),x(9,"input",7),h(10,"span",8),v(11,"Email inv\xE1lido"),d()(),h(12,"div",5)(13,"label",9),v(14,"Palavra-Passe"),d(),x(15,"input",10),h(16,"span",8),v(17,"Palavra-Passe inv\xE1lida"),d()(),h(18,"div",11)(19,"span",12),v(20),d()(),h(21,"button",13),v(22," Login "),d()()()()),t&2&&(g(3),y("formGroup",i.loginForm),g(6),y("ngClass",ht(7,XR,!i.email.valid&&i.email.dirty,i.email.valid)),g(),y("ngClass",ht(10,ZR,!i.email.valid&&i.email.dirty,!i.email.dirty||i.email.valid&&i.email.dirty)),g(5),y("ngClass",ht(13,XR,!i.password.valid&&i.password.dirty,i.password.valid)),g(),y("ngClass",ht(16,ZR,!i.password.valid&&i.password.dirty,!i.password.dirty||i.password.valid&&i.password.dirty)),g(4),ae(i.errorMessage),g(),y("disabled",!i.loginForm.valid))},dependencies:[Je,Nt,Bn,on,Lt,cd,un,va,Gt],encapsulation:2})};var xd=class{attach(e){return this._attachedHost=e,e.attach(this)}detach(){let e=this._attachedHost;e!=null&&(this._attachedHost=null,e.detach())}get isAttached(){return this._attachedHost!=null}setAttachedHost(e){this._attachedHost=e}},Cd=class extends xd{constructor(e,t,i,r,s){super(),this.component=e,this.viewContainerRef=t,this.injector=i,this.componentFactoryResolver=r,this.projectableNodes=s}},JC=class extends xd{constructor(e,t,i,r){super(),this.templateRef=e,this.viewContainerRef=t,this.context=i,this.injector=r}get origin(){return this.templateRef.elementRef}attach(e,t=this.context){return this.context=t,super.attach(e)}detach(){return this.context=void 0,super.detach()}},ew=class extends xd{constructor(e){super(),this.element=e instanceof rt?e.nativeElement:e}},tw=class{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(e){if(e instanceof Cd)return this._attachedPortal=e,this.attachComponentPortal(e);if(e instanceof JC)return this._attachedPortal=e,this.attachTemplatePortal(e);if(this.attachDomPortal&&e instanceof ew)return this._attachedPortal=e,this.attachDomPortal(e)}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(e){this._disposeFn=e}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}};var Qm=class extends tw{constructor(e,t,i,r,s){super(),this.outletElement=e,this._componentFactoryResolver=t,this._appRef=i,this._defaultInjector=r,this.attachDomPortal=o=>{this._document;let a=o.element;a.parentNode;let l=this._document.createComment("dom-portal");a.parentNode.insertBefore(l,a),this.outletElement.appendChild(a),this._attachedPortal=o,super.setDisposeFn(()=>{l.parentNode&&l.parentNode.replaceChild(a,l)})},this._document=s}attachComponentPortal(e){let i=(e.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(e.component),r;return e.viewContainerRef?(r=e.viewContainerRef.createComponent(i,e.viewContainerRef.length,e.injector||e.viewContainerRef.injector,e.projectableNodes||void 0),this.setDisposeFn(()=>r.destroy())):(r=i.create(e.injector||this._defaultInjector||Nn.NULL),this._appRef.attachView(r.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(r.hostView),r.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(r)),this._attachedPortal=e,r}attachTemplatePortal(e){let t=e.viewContainerRef,i=t.createEmbeddedView(e.templateRef,e.context,{injector:e.injector});return i.rootNodes.forEach(r=>this.outletElement.appendChild(r)),i.detectChanges(),this.setDisposeFn(()=>{let r=t.indexOf(i);r!==-1&&t.remove(r)}),this._attachedPortal=e,i}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(e){return e.hostView.rootNodes[0]}};var Oe=function(n){return n[n.State=0]="State",n[n.Transition=1]="Transition",n[n.Sequence=2]="Sequence",n[n.Group=3]="Group",n[n.Animate=4]="Animate",n[n.Keyframes=5]="Keyframes",n[n.Style=6]="Style",n[n.Trigger=7]="Trigger",n[n.Reference=8]="Reference",n[n.AnimateChild=9]="AnimateChild",n[n.AnimateRef=10]="AnimateRef",n[n.Query=11]="Query",n[n.Stagger=12]="Stagger",n}(Oe||{}),Fr="*";function nw(n,e){return{type:Oe.Trigger,name:n,definitions:e,options:{}}}function iw(n,e=null){return{type:Oe.Animate,styles:e,timings:n}}function KR(n,e=null){return{type:Oe.Sequence,steps:n,options:e}}function vo(n){return{type:Oe.Style,styles:n,offset:null}}function rw(n,e,t=null){return{type:Oe.Transition,expr:n,animation:e,options:t}}var go=class{constructor(e=0,t=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){let t=e=="start"?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}},wd=class{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let t=0,i=0,r=0,s=this.players.length;s==0?queueMicrotask(()=>this._onFinish()):this.players.forEach(o=>{o.onDone(()=>{++t==s&&this._onFinish()}),o.onDestroy(()=>{++i==s&&this._onDestroy()}),o.onStart(()=>{++r==s&&this._onStart()})}),this.totalTime=this.players.reduce((o,a)=>Math.max(o,a.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){let t=e*this.totalTime;this.players.forEach(i=>{let r=i.totalTime?Math.min(1,t/i.totalTime):1;i.setPosition(r)})}getPosition(){let e=this.players.reduce((t,i)=>t===null||i.totalTime>t.totalTime?i:t,null);return e!=null?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){let t=e=="start"?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}},Xm="!";var Zm="http://www.w3.org/1999/xhtml",sw={svg:"http://www.w3.org/2000/svg",xhtml:Zm,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Cs(n){var e=n+="",t=e.indexOf(":");return t>=0&&(e=n.slice(0,t))!=="xmlns"&&(n=n.slice(t+1)),sw.hasOwnProperty(e)?{space:sw[e],local:n}:n}function WG(n){return function(){var e=this.ownerDocument,t=this.namespaceURI;return t===Zm&&e.documentElement.namespaceURI===Zm?e.createElement(n):e.createElementNS(t,n)}}function YG(n){return function(){return this.ownerDocument.createElementNS(n.space,n.local)}}function Km(n){var e=Cs(n);return(e.local?YG:WG)(e)}function QG(){}function _a(n){return n==null?QG:function(){return this.querySelector(n)}}function JR(n){typeof n!="function"&&(n=_a(n));for(var e=this._groups,t=e.length,i=new Array(t),r=0;r<t;++r)for(var s=e[r],o=s.length,a=i[r]=new Array(o),l,c,u=0;u<o;++u)(l=s[u])&&(c=n.call(l,l.__data__,u,s))&&("__data__"in l&&(c.__data__=l.__data__),a[u]=c);return new Wt(i,this._parents)}function ow(n){return n==null?[]:Array.isArray(n)?n:Array.from(n)}function XG(){return[]}function Sd(n){return n==null?XG:function(){return this.querySelectorAll(n)}}function ZG(n){return function(){return ow(n.apply(this,arguments))}}function eO(n){typeof n=="function"?n=ZG(n):n=Sd(n);for(var e=this._groups,t=e.length,i=[],r=[],s=0;s<t;++s)for(var o=e[s],a=o.length,l,c=0;c<a;++c)(l=o[c])&&(i.push(n.call(l,l.__data__,c,o)),r.push(l));return new Wt(i,r)}function Ed(n){return function(){return this.matches(n)}}function Jm(n){return function(e){return e.matches(n)}}var KG=Array.prototype.find;function JG(n){return function(){return KG.call(this.children,n)}}function e6(){return this.firstElementChild}function tO(n){return this.select(n==null?e6:JG(typeof n=="function"?n:Jm(n)))}var t6=Array.prototype.filter;function n6(){return Array.from(this.children)}function i6(n){return function(){return t6.call(this.children,n)}}function nO(n){return this.selectAll(n==null?n6:i6(typeof n=="function"?n:Jm(n)))}function iO(n){typeof n!="function"&&(n=Ed(n));for(var e=this._groups,t=e.length,i=new Array(t),r=0;r<t;++r)for(var s=e[r],o=s.length,a=i[r]=[],l,c=0;c<o;++c)(l=s[c])&&n.call(l,l.__data__,c,s)&&a.push(l);return new Wt(i,this._parents)}function eg(n){return new Array(n.length)}function rO(){return new Wt(this._enter||this._groups.map(eg),this._parents)}function Dd(n,e){this.ownerDocument=n.ownerDocument,this.namespaceURI=n.namespaceURI,this._next=null,this._parent=n,this.__data__=e}Dd.prototype={constructor:Dd,appendChild:function(n){return this._parent.insertBefore(n,this._next)},insertBefore:function(n,e){return this._parent.insertBefore(n,e)},querySelector:function(n){return this._parent.querySelector(n)},querySelectorAll:function(n){return this._parent.querySelectorAll(n)}};function sO(n){return function(){return n}}function r6(n,e,t,i,r,s){for(var o=0,a,l=e.length,c=s.length;o<c;++o)(a=e[o])?(a.__data__=s[o],i[o]=a):t[o]=new Dd(n,s[o]);for(;o<l;++o)(a=e[o])&&(r[o]=a)}function s6(n,e,t,i,r,s,o){var a,l,c=new Map,u=e.length,p=s.length,m=new Array(u),f;for(a=0;a<u;++a)(l=e[a])&&(m[a]=f=o.call(l,l.__data__,a,e)+"",c.has(f)?r[a]=l:c.set(f,l));for(a=0;a<p;++a)f=o.call(n,s[a],a,s)+"",(l=c.get(f))?(i[a]=l,l.__data__=s[a],c.delete(f)):t[a]=new Dd(n,s[a]);for(a=0;a<u;++a)(l=e[a])&&c.get(m[a])===l&&(r[a]=l)}function o6(n){return n.__data__}function oO(n,e){if(!arguments.length)return Array.from(this,o6);var t=e?s6:r6,i=this._parents,r=this._groups;typeof n!="function"&&(n=sO(n));for(var s=r.length,o=new Array(s),a=new Array(s),l=new Array(s),c=0;c<s;++c){var u=i[c],p=r[c],m=p.length,f=a6(n.call(u,u&&u.__data__,c,i)),_=f.length,w=a[c]=new Array(_),S=o[c]=new Array(_),D=l[c]=new Array(m);t(u,p,w,S,D,f,e);for(var R=0,F=0,U,ne;R<_;++R)if(U=w[R]){for(R>=F&&(F=R+1);!(ne=S[F])&&++F<_;);U._next=ne||null}}return o=new Wt(o,i),o._enter=a,o._exit=l,o}function a6(n){return typeof n=="object"&&"length"in n?n:Array.from(n)}function aO(){return new Wt(this._exit||this._groups.map(eg),this._parents)}function lO(n,e,t){var i=this.enter(),r=this,s=this.exit();return typeof n=="function"?(i=n(i),i&&(i=i.selection())):i=i.append(n+""),e!=null&&(r=e(r),r&&(r=r.selection())),t==null?s.remove():t(s),i&&r?i.merge(r).order():r}function cO(n){for(var e=n.selection?n.selection():n,t=this._groups,i=e._groups,r=t.length,s=i.length,o=Math.min(r,s),a=new Array(r),l=0;l<o;++l)for(var c=t[l],u=i[l],p=c.length,m=a[l]=new Array(p),f,_=0;_<p;++_)(f=c[_]||u[_])&&(m[_]=f);for(;l<r;++l)a[l]=t[l];return new Wt(a,this._parents)}function uO(){for(var n=this._groups,e=-1,t=n.length;++e<t;)for(var i=n[e],r=i.length-1,s=i[r],o;--r>=0;)(o=i[r])&&(s&&o.compareDocumentPosition(s)^4&&s.parentNode.insertBefore(o,s),s=o);return this}function dO(n){n||(n=l6);function e(p,m){return p&&m?n(p.__data__,m.__data__):!p-!m}for(var t=this._groups,i=t.length,r=new Array(i),s=0;s<i;++s){for(var o=t[s],a=o.length,l=r[s]=new Array(a),c,u=0;u<a;++u)(c=o[u])&&(l[u]=c);l.sort(e)}return new Wt(r,this._parents).order()}function l6(n,e){return n<e?-1:n>e?1:n>=e?0:NaN}function hO(){var n=arguments[0];return arguments[0]=this,n.apply(null,arguments),this}function pO(){return Array.from(this)}function fO(){for(var n=this._groups,e=0,t=n.length;e<t;++e)for(var i=n[e],r=0,s=i.length;r<s;++r){var o=i[r];if(o)return o}return null}function mO(){let n=0;for(let e of this)++n;return n}function gO(){return!this.node()}function vO(n){for(var e=this._groups,t=0,i=e.length;t<i;++t)for(var r=e[t],s=0,o=r.length,a;s<o;++s)(a=r[s])&&n.call(a,a.__data__,s,r);return this}function c6(n){return function(){this.removeAttribute(n)}}function u6(n){return function(){this.removeAttributeNS(n.space,n.local)}}function d6(n,e){return function(){this.setAttribute(n,e)}}function h6(n,e){return function(){this.setAttributeNS(n.space,n.local,e)}}function p6(n,e){return function(){var t=e.apply(this,arguments);t==null?this.removeAttribute(n):this.setAttribute(n,t)}}function f6(n,e){return function(){var t=e.apply(this,arguments);t==null?this.removeAttributeNS(n.space,n.local):this.setAttributeNS(n.space,n.local,t)}}function yO(n,e){var t=Cs(n);if(arguments.length<2){var i=this.node();return t.local?i.getAttributeNS(t.space,t.local):i.getAttribute(t)}return this.each((e==null?t.local?u6:c6:typeof e=="function"?t.local?f6:p6:t.local?h6:d6)(t,e))}function tg(n){return n.ownerDocument&&n.ownerDocument.defaultView||n.document&&n||n.defaultView}function m6(n){return function(){this.style.removeProperty(n)}}function g6(n,e,t){return function(){this.style.setProperty(n,e,t)}}function v6(n,e,t){return function(){var i=e.apply(this,arguments);i==null?this.style.removeProperty(n):this.style.setProperty(n,i,t)}}function _O(n,e,t){return arguments.length>1?this.each((e==null?m6:typeof e=="function"?v6:g6)(n,e,t??"")):yo(this.node(),n)}function yo(n,e){return n.style.getPropertyValue(e)||tg(n).getComputedStyle(n,null).getPropertyValue(e)}function y6(n){return function(){delete this[n]}}function _6(n,e){return function(){this[n]=e}}function b6(n,e){return function(){var t=e.apply(this,arguments);t==null?delete this[n]:this[n]=t}}function bO(n,e){return arguments.length>1?this.each((e==null?y6:typeof e=="function"?b6:_6)(n,e)):this.node()[n]}function xO(n){return n.trim().split(/^|\s+/)}function aw(n){return n.classList||new CO(n)}function CO(n){this._node=n,this._names=xO(n.getAttribute("class")||"")}CO.prototype={add:function(n){var e=this._names.indexOf(n);e<0&&(this._names.push(n),this._node.setAttribute("class",this._names.join(" ")))},remove:function(n){var e=this._names.indexOf(n);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(n){return this._names.indexOf(n)>=0}};function wO(n,e){for(var t=aw(n),i=-1,r=e.length;++i<r;)t.add(e[i])}function SO(n,e){for(var t=aw(n),i=-1,r=e.length;++i<r;)t.remove(e[i])}function x6(n){return function(){wO(this,n)}}function C6(n){return function(){SO(this,n)}}function w6(n,e){return function(){(e.apply(this,arguments)?wO:SO)(this,n)}}function EO(n,e){var t=xO(n+"");if(arguments.length<2){for(var i=aw(this.node()),r=-1,s=t.length;++r<s;)if(!i.contains(t[r]))return!1;return!0}return this.each((typeof e=="function"?w6:e?x6:C6)(t,e))}function S6(){this.textContent=""}function E6(n){return function(){this.textContent=n}}function D6(n){return function(){var e=n.apply(this,arguments);this.textContent=e??""}}function DO(n){return arguments.length?this.each(n==null?S6:(typeof n=="function"?D6:E6)(n)):this.node().textContent}function T6(){this.innerHTML=""}function A6(n){return function(){this.innerHTML=n}}function I6(n){return function(){var e=n.apply(this,arguments);this.innerHTML=e??""}}function TO(n){return arguments.length?this.each(n==null?T6:(typeof n=="function"?I6:A6)(n)):this.node().innerHTML}function M6(){this.nextSibling&&this.parentNode.appendChild(this)}function AO(){return this.each(M6)}function k6(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function IO(){return this.each(k6)}function MO(n){var e=typeof n=="function"?n:Km(n);return this.select(function(){return this.appendChild(e.apply(this,arguments))})}function R6(){return null}function kO(n,e){var t=typeof n=="function"?n:Km(n),i=e==null?R6:typeof e=="function"?e:_a(e);return this.select(function(){return this.insertBefore(t.apply(this,arguments),i.apply(this,arguments)||null)})}function O6(){var n=this.parentNode;n&&n.removeChild(this)}function RO(){return this.each(O6)}function L6(){var n=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(n,this.nextSibling):n}function N6(){var n=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(n,this.nextSibling):n}function OO(n){return this.select(n?N6:L6)}function LO(n){return arguments.length?this.property("__data__",n):this.node().__data__}function F6(n){return function(e){n.call(this,e,this.__data__)}}function P6(n){return n.trim().split(/^|\s+/).map(function(e){var t="",i=e.indexOf(".");return i>=0&&(t=e.slice(i+1),e=e.slice(0,i)),{type:e,name:t}})}function V6(n){return function(){var e=this.__on;if(e){for(var t=0,i=-1,r=e.length,s;t<r;++t)s=e[t],(!n.type||s.type===n.type)&&s.name===n.name?this.removeEventListener(s.type,s.listener,s.options):e[++i]=s;++i?e.length=i:delete this.__on}}}function B6(n,e,t){return function(){var i=this.__on,r,s=F6(e);if(i){for(var o=0,a=i.length;o<a;++o)if((r=i[o]).type===n.type&&r.name===n.name){this.removeEventListener(r.type,r.listener,r.options),this.addEventListener(r.type,r.listener=s,r.options=t),r.value=e;return}}this.addEventListener(n.type,s,t),r={type:n.type,name:n.name,value:e,listener:s,options:t},i?i.push(r):this.__on=[r]}}function NO(n,e,t){var i=P6(n+""),r,s=i.length,o;if(arguments.length<2){var a=this.node().__on;if(a){for(var l=0,c=a.length,u;l<c;++l)for(r=0,u=a[l];r<s;++r)if((o=i[r]).type===u.type&&o.name===u.name)return u.value}return}for(a=e?B6:V6,r=0;r<s;++r)this.each(a(i[r],e,t));return this}function FO(n,e,t){var i=tg(n),r=i.CustomEvent;typeof r=="function"?r=new r(e,t):(r=i.document.createEvent("Event"),t?(r.initEvent(e,t.bubbles,t.cancelable),r.detail=t.detail):r.initEvent(e,!1,!1)),n.dispatchEvent(r)}function j6(n,e){return function(){return FO(this,n,e)}}function H6(n,e){return function(){return FO(this,n,e.apply(this,arguments))}}function PO(n,e){return this.each((typeof e=="function"?H6:j6)(n,e))}function*VO(){for(var n=this._groups,e=0,t=n.length;e<t;++e)for(var i=n[e],r=0,s=i.length,o;r<s;++r)(o=i[r])&&(yield o)}var lw=[null];function Wt(n,e){this._groups=n,this._parents=e}function BO(){return new Wt([[document.documentElement]],lw)}function z6(){return this}Wt.prototype=BO.prototype={constructor:Wt,select:JR,selectAll:eO,selectChild:tO,selectChildren:nO,filter:iO,data:oO,enter:rO,exit:aO,join:lO,merge:cO,selection:z6,order:uO,sort:dO,call:hO,nodes:pO,node:fO,size:mO,empty:gO,each:vO,attr:yO,style:_O,property:bO,classed:EO,text:DO,html:TO,raise:AO,lower:IO,append:MO,insert:kO,remove:RO,clone:OO,datum:LO,on:NO,dispatch:PO,[Symbol.iterator]:VO};var ws=BO;function Td(n){return typeof n=="string"?new Wt([[document.querySelector(n)]],[document.documentElement]):new Wt([[n]],lw)}var $6={value:()=>{}};function HO(){for(var n=0,e=arguments.length,t={},i;n<e;++n){if(!(i=arguments[n]+"")||i in t||/[\s.]/.test(i))throw new Error("illegal type: "+i);t[i]=[]}return new ng(t)}function ng(n){this._=n}function U6(n,e){return n.trim().split(/^|\s+/).map(function(t){var i="",r=t.indexOf(".");if(r>=0&&(i=t.slice(r+1),t=t.slice(0,r)),t&&!e.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:i}})}ng.prototype=HO.prototype={constructor:ng,on:function(n,e){var t=this._,i=U6(n+"",t),r,s=-1,o=i.length;if(arguments.length<2){for(;++s<o;)if((r=(n=i[s]).type)&&(r=G6(t[r],n.name)))return r;return}if(e!=null&&typeof e!="function")throw new Error("invalid callback: "+e);for(;++s<o;)if(r=(n=i[s]).type)t[r]=jO(t[r],n.name,e);else if(e==null)for(r in t)t[r]=jO(t[r],n.name,null);return this},copy:function(){var n={},e=this._;for(var t in e)n[t]=e[t].slice();return new ng(n)},call:function(n,e){if((r=arguments.length-2)>0)for(var t=new Array(r),i=0,r,s;i<r;++i)t[i]=arguments[i+2];if(!this._.hasOwnProperty(n))throw new Error("unknown type: "+n);for(s=this._[n],i=0,r=s.length;i<r;++i)s[i].value.apply(e,t)},apply:function(n,e,t){if(!this._.hasOwnProperty(n))throw new Error("unknown type: "+n);for(var i=this._[n],r=0,s=i.length;r<s;++r)i[r].value.apply(e,t)}};function G6(n,e){for(var t=0,i=n.length,r;t<i;++t)if((r=n[t]).name===e)return r.value}function jO(n,e,t){for(var i=0,r=n.length;i<r;++i)if(n[i].name===e){n[i]=$6,n=n.slice(0,i).concat(n.slice(i+1));break}return t!=null&&n.push({name:e,value:t}),n}var cw=HO;function ig(n,e,t){n.prototype=e.prototype=t,t.constructor=n}function uw(n,e){var t=Object.create(n.prototype);for(var i in e)t[i]=e[i];return t}function Md(){}var Ad=.7,og=1/Ad,ic="\\s*([+-]?\\d+)\\s*",Id="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Pr="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",q6=/^#([0-9a-f]{3,8})$/,W6=new RegExp(`^rgb\\(${ic},${ic},${ic}\\)$`),Y6=new RegExp(`^rgb\\(${Pr},${Pr},${Pr}\\)$`),Q6=new RegExp(`^rgba\\(${ic},${ic},${ic},${Id}\\)$`),X6=new RegExp(`^rgba\\(${Pr},${Pr},${Pr},${Id}\\)$`),Z6=new RegExp(`^hsl\\(${Id},${Pr},${Pr}\\)$`),K6=new RegExp(`^hsla\\(${Id},${Pr},${Pr},${Id}\\)$`),zO={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};ig(Md,cr,{copy(n){return Object.assign(new this.constructor,this,n)},displayable(){return this.rgb().displayable()},hex:$O,formatHex:$O,formatHex8:J6,formatHsl:e8,formatRgb:UO,toString:UO});function $O(){return this.rgb().formatHex()}function J6(){return this.rgb().formatHex8()}function e8(){return XO(this).formatHsl()}function UO(){return this.rgb().formatRgb()}function cr(n){var e,t;return n=(n+"").trim().toLowerCase(),(e=q6.exec(n))?(t=e[1].length,e=parseInt(e[1],16),t===6?GO(e):t===3?new gi(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):t===8?rg(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):t===4?rg(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=W6.exec(n))?new gi(e[1],e[2],e[3],1):(e=Y6.exec(n))?new gi(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=Q6.exec(n))?rg(e[1],e[2],e[3],e[4]):(e=X6.exec(n))?rg(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=Z6.exec(n))?YO(e[1],e[2]/100,e[3]/100,1):(e=K6.exec(n))?YO(e[1],e[2]/100,e[3]/100,e[4]):zO.hasOwnProperty(n)?GO(zO[n]):n==="transparent"?new gi(NaN,NaN,NaN,0):null}function GO(n){return new gi(n>>16&255,n>>8&255,n&255,1)}function rg(n,e,t,i){return i<=0&&(n=e=t=NaN),new gi(n,e,t,i)}function t8(n){return n instanceof Md||(n=cr(n)),n?(n=n.rgb(),new gi(n.r,n.g,n.b,n.opacity)):new gi}function rc(n,e,t,i){return arguments.length===1?t8(n):new gi(n,e,t,i??1)}function gi(n,e,t,i){this.r=+n,this.g=+e,this.b=+t,this.opacity=+i}ig(gi,rc,uw(Md,{brighter(n){return n=n==null?og:Math.pow(og,n),new gi(this.r*n,this.g*n,this.b*n,this.opacity)},darker(n){return n=n==null?Ad:Math.pow(Ad,n),new gi(this.r*n,this.g*n,this.b*n,this.opacity)},rgb(){return this},clamp(){return new gi(xa(this.r),xa(this.g),xa(this.b),ag(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:qO,formatHex:qO,formatHex8:n8,formatRgb:WO,toString:WO}));function qO(){return`#${ba(this.r)}${ba(this.g)}${ba(this.b)}`}function n8(){return`#${ba(this.r)}${ba(this.g)}${ba(this.b)}${ba((isNaN(this.opacity)?1:this.opacity)*255)}`}function WO(){let n=ag(this.opacity);return`${n===1?"rgb(":"rgba("}${xa(this.r)}, ${xa(this.g)}, ${xa(this.b)}${n===1?")":`, ${n})`}`}function ag(n){return isNaN(n)?1:Math.max(0,Math.min(1,n))}function xa(n){return Math.max(0,Math.min(255,Math.round(n)||0))}function ba(n){return n=xa(n),(n<16?"0":"")+n.toString(16)}function YO(n,e,t,i){return i<=0?n=e=t=NaN:t<=0||t>=1?n=e=NaN:e<=0&&(n=NaN),new lr(n,e,t,i)}function XO(n){if(n instanceof lr)return new lr(n.h,n.s,n.l,n.opacity);if(n instanceof Md||(n=cr(n)),!n)return new lr;if(n instanceof lr)return n;n=n.rgb();var e=n.r/255,t=n.g/255,i=n.b/255,r=Math.min(e,t,i),s=Math.max(e,t,i),o=NaN,a=s-r,l=(s+r)/2;return a?(e===s?o=(t-i)/a+(t<i)*6:t===s?o=(i-e)/a+2:o=(e-t)/a+4,a/=l<.5?s+r:2-s-r,o*=60):a=l>0&&l<1?0:o,new lr(o,a,l,n.opacity)}function ZO(n,e,t,i){return arguments.length===1?XO(n):new lr(n,e,t,i??1)}function lr(n,e,t,i){this.h=+n,this.s=+e,this.l=+t,this.opacity=+i}ig(lr,ZO,uw(Md,{brighter(n){return n=n==null?og:Math.pow(og,n),new lr(this.h,this.s,this.l*n,this.opacity)},darker(n){return n=n==null?Ad:Math.pow(Ad,n),new lr(this.h,this.s,this.l*n,this.opacity)},rgb(){var n=this.h%360+(this.h<0)*360,e=isNaN(n)||isNaN(this.s)?0:this.s,t=this.l,i=t+(t<.5?t:1-t)*e,r=2*t-i;return new gi(dw(n>=240?n-240:n+120,r,i),dw(n,r,i),dw(n<120?n+240:n-120,r,i),this.opacity)},clamp(){return new lr(QO(this.h),sg(this.s),sg(this.l),ag(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){let n=ag(this.opacity);return`${n===1?"hsl(":"hsla("}${QO(this.h)}, ${sg(this.s)*100}%, ${sg(this.l)*100}%${n===1?")":`, ${n})`}`}}));function QO(n){return n=(n||0)%360,n<0?n+360:n}function sg(n){return Math.max(0,Math.min(1,n||0))}function dw(n,e,t){return(n<60?e+(t-e)*n/60:n<180?t:n<240?e+(t-e)*(240-n)/60:e)*255}function hw(n,e,t,i,r){var s=n*n,o=s*n;return((1-3*n+3*s-o)*e+(4-6*s+3*o)*t+(1+3*n+3*s-3*o)*i+o*r)/6}function KO(n){var e=n.length-1;return function(t){var i=t<=0?t=0:t>=1?(t=1,e-1):Math.floor(t*e),r=n[i],s=n[i+1],o=i>0?n[i-1]:2*r-s,a=i<e-1?n[i+2]:2*s-r;return hw((t-i/e)*e,o,r,s,a)}}function JO(n){var e=n.length;return function(t){var i=Math.floor(((t%=1)<0?++t:t)*e),r=n[(i+e-1)%e],s=n[i%e],o=n[(i+1)%e],a=n[(i+2)%e];return hw((t-i/e)*e,r,s,o,a)}}var kd=n=>()=>n;function i8(n,e){return function(t){return n+t*e}}function r8(n,e,t){return n=Math.pow(n,t),e=Math.pow(e,t)-n,t=1/t,function(i){return Math.pow(n+i*e,t)}}function eL(n){return(n=+n)==1?lg:function(e,t){return t-e?r8(e,t,n):kd(isNaN(e)?t:e)}}function lg(n,e){var t=e-n;return t?i8(n,t):kd(isNaN(n)?e:n)}var Ca=function n(e){var t=eL(e);function i(r,s){var o=t((r=rc(r)).r,(s=rc(s)).r),a=t(r.g,s.g),l=t(r.b,s.b),c=lg(r.opacity,s.opacity);return function(u){return r.r=o(u),r.g=a(u),r.b=l(u),r.opacity=c(u),r+""}}return i.gamma=n,i}(1);function tL(n){return function(e){var t=e.length,i=new Array(t),r=new Array(t),s=new Array(t),o,a;for(o=0;o<t;++o)a=rc(e[o]),i[o]=a.r||0,r[o]=a.g||0,s[o]=a.b||0;return i=n(i),r=n(r),s=n(s),a.opacity=1,function(l){return a.r=i(l),a.g=r(l),a.b=s(l),a+""}}}var s8=tL(KO),o8=tL(JO);function nL(n,e){e||(e=[]);var t=n?Math.min(e.length,n.length):0,i=e.slice(),r;return function(s){for(r=0;r<t;++r)i[r]=n[r]*(1-s)+e[r]*s;return i}}function iL(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}function rL(n,e){var t=e?e.length:0,i=n?Math.min(t,n.length):0,r=new Array(i),s=new Array(t),o;for(o=0;o<i;++o)r[o]=ur(n[o],e[o]);for(;o<t;++o)s[o]=e[o];return function(a){for(o=0;o<i;++o)s[o]=r[o](a);return s}}function sL(n,e){var t=new Date;return n=+n,e=+e,function(i){return t.setTime(n*(1-i)+e*i),t}}function wn(n,e){return n=+n,e=+e,function(t){return n*(1-t)+e*t}}function oL(n,e){var t={},i={},r;(n===null||typeof n!="object")&&(n={}),(e===null||typeof e!="object")&&(e={});for(r in e)r in n?t[r]=ur(n[r],e[r]):i[r]=e[r];return function(s){for(r in t)i[r]=t[r](s);return i}}var fw=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,pw=new RegExp(fw.source,"g");function a8(n){return function(){return n}}function l8(n){return function(e){return n(e)+""}}function Rd(n,e){var t=fw.lastIndex=pw.lastIndex=0,i,r,s,o=-1,a=[],l=[];for(n=n+"",e=e+"";(i=fw.exec(n))&&(r=pw.exec(e));)(s=r.index)>t&&(s=e.slice(t,s),a[o]?a[o]+=s:a[++o]=s),(i=i[0])===(r=r[0])?a[o]?a[o]+=r:a[++o]=r:(a[++o]=null,l.push({i:o,x:wn(i,r)})),t=pw.lastIndex;return t<e.length&&(s=e.slice(t),a[o]?a[o]+=s:a[++o]=s),a.length<2?l[0]?l8(l[0].x):a8(e):(e=l.length,function(c){for(var u=0,p;u<e;++u)a[(p=l[u]).i]=p.x(c);return a.join("")})}function ur(n,e){var t=typeof e,i;return e==null||t==="boolean"?kd(e):(t==="number"?wn:t==="string"?(i=cr(e))?(e=i,Ca):Rd:e instanceof cr?Ca:e instanceof Date?sL:iL(e)?nL:Array.isArray(e)?rL:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?oL:wn)(n,e)}function mw(n,e){return n=+n,e=+e,function(t){return Math.round(n*(1-t)+e*t)}}var aL=180/Math.PI,cg={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function gw(n,e,t,i,r,s){var o,a,l;return(o=Math.sqrt(n*n+e*e))&&(n/=o,e/=o),(l=n*t+e*i)&&(t-=n*l,i-=e*l),(a=Math.sqrt(t*t+i*i))&&(t/=a,i/=a,l/=a),n*i<e*t&&(n=-n,e=-e,l=-l,o=-o),{translateX:r,translateY:s,rotate:Math.atan2(e,n)*aL,skewX:Math.atan(l)*aL,scaleX:o,scaleY:a}}var ug;function lL(n){let e=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(n+"");return e.isIdentity?cg:gw(e.a,e.b,e.c,e.d,e.e,e.f)}function cL(n){return n==null?cg:(ug||(ug=document.createElementNS("http://www.w3.org/2000/svg","g")),ug.setAttribute("transform",n),(n=ug.transform.baseVal.consolidate())?(n=n.matrix,gw(n.a,n.b,n.c,n.d,n.e,n.f)):cg)}function uL(n,e,t,i){function r(c){return c.length?c.pop()+" ":""}function s(c,u,p,m,f,_){if(c!==p||u!==m){var w=f.push("translate(",null,e,null,t);_.push({i:w-4,x:wn(c,p)},{i:w-2,x:wn(u,m)})}else(p||m)&&f.push("translate("+p+e+m+t)}function o(c,u,p,m){c!==u?(c-u>180?u+=360:u-c>180&&(c+=360),m.push({i:p.push(r(p)+"rotate(",null,i)-2,x:wn(c,u)})):u&&p.push(r(p)+"rotate("+u+i)}function a(c,u,p,m){c!==u?m.push({i:p.push(r(p)+"skewX(",null,i)-2,x:wn(c,u)}):u&&p.push(r(p)+"skewX("+u+i)}function l(c,u,p,m,f,_){if(c!==p||u!==m){var w=f.push(r(f)+"scale(",null,",",null,")");_.push({i:w-4,x:wn(c,p)},{i:w-2,x:wn(u,m)})}else(p!==1||m!==1)&&f.push(r(f)+"scale("+p+","+m+")")}return function(c,u){var p=[],m=[];return c=n(c),u=n(u),s(c.translateX,c.translateY,u.translateX,u.translateY,p,m),o(c.rotate,u.rotate,p,m),a(c.skewX,u.skewX,p,m),l(c.scaleX,c.scaleY,u.scaleX,u.scaleY,p,m),c=u=null,function(f){for(var _=-1,w=m.length,S;++_<w;)p[(S=m[_]).i]=S.x(f);return p.join("")}}}var vw=uL(lL,"px, ","px)","deg)"),yw=uL(cL,", ",")",")");var sc=0,Ld=0,Od=0,hL=1e3,dg,Nd,hg=0,wa=0,pg=0,Fd=typeof performance=="object"&&performance.now?performance:Date,pL=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(n){setTimeout(n,17)};function Vd(){return wa||(pL(c8),wa=Fd.now()+pg)}function c8(){wa=0}function Pd(){this._call=this._time=this._next=null}Pd.prototype=fg.prototype={constructor:Pd,restart:function(n,e,t){if(typeof n!="function")throw new TypeError("callback is not a function");t=(t==null?Vd():+t)+(e==null?0:+e),!this._next&&Nd!==this&&(Nd?Nd._next=this:dg=this,Nd=this),this._call=n,this._time=t,_w()},stop:function(){this._call&&(this._call=null,this._time=1/0,_w())}};function fg(n,e,t){var i=new Pd;return i.restart(n,e,t),i}function fL(){Vd(),++sc;for(var n=dg,e;n;)(e=wa-n._time)>=0&&n._call.call(void 0,e),n=n._next;--sc}function dL(){wa=(hg=Fd.now())+pg,sc=Ld=0;try{fL()}finally{sc=0,d8(),wa=0}}function u8(){var n=Fd.now(),e=n-hg;e>hL&&(pg-=e,hg=n)}function d8(){for(var n,e=dg,t,i=1/0;e;)e._call?(i>e._time&&(i=e._time),n=e,e=e._next):(t=e._next,e._next=null,e=n?n._next=t:dg=t);Nd=n,_w(i)}function _w(n){if(!sc){Ld&&(Ld=clearTimeout(Ld));var e=n-wa;e>24?(n<1/0&&(Ld=setTimeout(dL,n-Fd.now()-pg)),Od&&(Od=clearInterval(Od))):(Od||(hg=Fd.now(),Od=setInterval(u8,hL)),sc=1,pL(dL))}}function mg(n,e,t){var i=new Pd;return e=e==null?0:+e,i.restart(r=>{i.stop(),n(r+e)},e,t),i}var h8=cw("start","end","cancel","interrupt"),p8=[],vL=0,mL=1,vg=2,gg=3,gL=4,yg=5,Bd=6;function _o(n,e,t,i,r,s){var o=n.__transition;if(!o)n.__transition={};else if(t in o)return;f8(n,t,{name:e,index:i,group:r,on:h8,tween:p8,time:s.time,delay:s.delay,duration:s.duration,ease:s.ease,timer:null,state:vL})}function jd(n,e){var t=dn(n,e);if(t.state>vL)throw new Error("too late; already scheduled");return t}function Sn(n,e){var t=dn(n,e);if(t.state>gg)throw new Error("too late; already running");return t}function dn(n,e){var t=n.__transition;if(!t||!(t=t[e]))throw new Error("transition not found");return t}function f8(n,e,t){var i=n.__transition,r;i[e]=t,t.timer=fg(s,0,t.time);function s(c){t.state=mL,t.timer.restart(o,t.delay,t.time),t.delay<=c&&o(c-t.delay)}function o(c){var u,p,m,f;if(t.state!==mL)return l();for(u in i)if(f=i[u],f.name===t.name){if(f.state===gg)return mg(o);f.state===gL?(f.state=Bd,f.timer.stop(),f.on.call("interrupt",n,n.__data__,f.index,f.group),delete i[u]):+u<e&&(f.state=Bd,f.timer.stop(),f.on.call("cancel",n,n.__data__,f.index,f.group),delete i[u])}if(mg(function(){t.state===gg&&(t.state=gL,t.timer.restart(a,t.delay,t.time),a(c))}),t.state=vg,t.on.call("start",n,n.__data__,t.index,t.group),t.state===vg){for(t.state=gg,r=new Array(m=t.tween.length),u=0,p=-1;u<m;++u)(f=t.tween[u].value.call(n,n.__data__,t.index,t.group))&&(r[++p]=f);r.length=p+1}}function a(c){for(var u=c<t.duration?t.ease.call(null,c/t.duration):(t.timer.restart(l),t.state=yg,1),p=-1,m=r.length;++p<m;)r[p].call(n,u);t.state===yg&&(t.on.call("end",n,n.__data__,t.index,t.group),l())}function l(){t.state=Bd,t.timer.stop(),delete i[e];for(var c in i)return;delete n.__transition}}function bw(n,e){var t=n.__transition,i,r,s=!0,o;if(t){e=e==null?null:e+"";for(o in t){if((i=t[o]).name!==e){s=!1;continue}r=i.state>vg&&i.state<yg,i.state=Bd,i.timer.stop(),i.on.call(r?"interrupt":"cancel",n,n.__data__,i.index,i.group),delete t[o]}s&&delete n.__transition}}function yL(n){return this.each(function(){bw(this,n)})}function m8(n,e){var t,i;return function(){var r=Sn(this,n),s=r.tween;if(s!==t){i=t=s;for(var o=0,a=i.length;o<a;++o)if(i[o].name===e){i=i.slice(),i.splice(o,1);break}}r.tween=i}}function g8(n,e,t){var i,r;if(typeof t!="function")throw new Error;return function(){var s=Sn(this,n),o=s.tween;if(o!==i){r=(i=o).slice();for(var a={name:e,value:t},l=0,c=r.length;l<c;++l)if(r[l].name===e){r[l]=a;break}l===c&&r.push(a)}s.tween=r}}function _L(n,e){var t=this._id;if(n+="",arguments.length<2){for(var i=dn(this.node(),t).tween,r=0,s=i.length,o;r<s;++r)if((o=i[r]).name===n)return o.value;return null}return this.each((e==null?m8:g8)(t,n,e))}function oc(n,e,t){var i=n._id;return n.each(function(){var r=Sn(this,i);(r.value||(r.value={}))[e]=t.apply(this,arguments)}),function(r){return dn(r,i).value[e]}}function _g(n,e){var t;return(typeof e=="number"?wn:e instanceof cr?Ca:(t=cr(e))?(e=t,Ca):Rd)(n,e)}function v8(n){return function(){this.removeAttribute(n)}}function y8(n){return function(){this.removeAttributeNS(n.space,n.local)}}function _8(n,e,t){var i,r=t+"",s;return function(){var o=this.getAttribute(n);return o===r?null:o===i?s:s=e(i=o,t)}}function b8(n,e,t){var i,r=t+"",s;return function(){var o=this.getAttributeNS(n.space,n.local);return o===r?null:o===i?s:s=e(i=o,t)}}function x8(n,e,t){var i,r,s;return function(){var o,a=t(this),l;return a==null?void this.removeAttribute(n):(o=this.getAttribute(n),l=a+"",o===l?null:o===i&&l===r?s:(r=l,s=e(i=o,a)))}}function C8(n,e,t){var i,r,s;return function(){var o,a=t(this),l;return a==null?void this.removeAttributeNS(n.space,n.local):(o=this.getAttributeNS(n.space,n.local),l=a+"",o===l?null:o===i&&l===r?s:(r=l,s=e(i=o,a)))}}function bL(n,e){var t=Cs(n),i=t==="transform"?yw:_g;return this.attrTween(n,typeof e=="function"?(t.local?C8:x8)(t,i,oc(this,"attr."+n,e)):e==null?(t.local?y8:v8)(t):(t.local?b8:_8)(t,i,e))}function w8(n,e){return function(t){this.setAttribute(n,e.call(this,t))}}function S8(n,e){return function(t){this.setAttributeNS(n.space,n.local,e.call(this,t))}}function E8(n,e){var t,i;function r(){var s=e.apply(this,arguments);return s!==i&&(t=(i=s)&&S8(n,s)),t}return r._value=e,r}function D8(n,e){var t,i;function r(){var s=e.apply(this,arguments);return s!==i&&(t=(i=s)&&w8(n,s)),t}return r._value=e,r}function xL(n,e){var t="attr."+n;if(arguments.length<2)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;var i=Cs(n);return this.tween(t,(i.local?E8:D8)(i,e))}function T8(n,e){return function(){jd(this,n).delay=+e.apply(this,arguments)}}function A8(n,e){return e=+e,function(){jd(this,n).delay=e}}function CL(n){var e=this._id;return arguments.length?this.each((typeof n=="function"?T8:A8)(e,n)):dn(this.node(),e).delay}function I8(n,e){return function(){Sn(this,n).duration=+e.apply(this,arguments)}}function M8(n,e){return e=+e,function(){Sn(this,n).duration=e}}function wL(n){var e=this._id;return arguments.length?this.each((typeof n=="function"?I8:M8)(e,n)):dn(this.node(),e).duration}function k8(n,e){if(typeof e!="function")throw new Error;return function(){Sn(this,n).ease=e}}function SL(n){var e=this._id;return arguments.length?this.each(k8(e,n)):dn(this.node(),e).ease}function R8(n,e){return function(){var t=e.apply(this,arguments);if(typeof t!="function")throw new Error;Sn(this,n).ease=t}}function EL(n){if(typeof n!="function")throw new Error;return this.each(R8(this._id,n))}function DL(n){typeof n!="function"&&(n=Ed(n));for(var e=this._groups,t=e.length,i=new Array(t),r=0;r<t;++r)for(var s=e[r],o=s.length,a=i[r]=[],l,c=0;c<o;++c)(l=s[c])&&n.call(l,l.__data__,c,s)&&a.push(l);return new ii(i,this._parents,this._name,this._id)}function TL(n){if(n._id!==this._id)throw new Error;for(var e=this._groups,t=n._groups,i=e.length,r=t.length,s=Math.min(i,r),o=new Array(i),a=0;a<s;++a)for(var l=e[a],c=t[a],u=l.length,p=o[a]=new Array(u),m,f=0;f<u;++f)(m=l[f]||c[f])&&(p[f]=m);for(;a<i;++a)o[a]=e[a];return new ii(o,this._parents,this._name,this._id)}function O8(n){return(n+"").trim().split(/^|\s+/).every(function(e){var t=e.indexOf(".");return t>=0&&(e=e.slice(0,t)),!e||e==="start"})}function L8(n,e,t){var i,r,s=O8(e)?jd:Sn;return function(){var o=s(this,n),a=o.on;a!==i&&(r=(i=a).copy()).on(e,t),o.on=r}}function AL(n,e){var t=this._id;return arguments.length<2?dn(this.node(),t).on.on(n):this.each(L8(t,n,e))}function N8(n){return function(){var e=this.parentNode;for(var t in this.__transition)if(+t!==n)return;e&&e.removeChild(this)}}function IL(){return this.on("end.remove",N8(this._id))}function ML(n){var e=this._name,t=this._id;typeof n!="function"&&(n=_a(n));for(var i=this._groups,r=i.length,s=new Array(r),o=0;o<r;++o)for(var a=i[o],l=a.length,c=s[o]=new Array(l),u,p,m=0;m<l;++m)(u=a[m])&&(p=n.call(u,u.__data__,m,a))&&("__data__"in u&&(p.__data__=u.__data__),c[m]=p,_o(c[m],e,t,m,c,dn(u,t)));return new ii(s,this._parents,e,t)}function kL(n){var e=this._name,t=this._id;typeof n!="function"&&(n=Sd(n));for(var i=this._groups,r=i.length,s=[],o=[],a=0;a<r;++a)for(var l=i[a],c=l.length,u,p=0;p<c;++p)if(u=l[p]){for(var m=n.call(u,u.__data__,p,l),f,_=dn(u,t),w=0,S=m.length;w<S;++w)(f=m[w])&&_o(f,e,t,w,m,_);s.push(m),o.push(u)}return new ii(s,o,e,t)}var F8=ws.prototype.constructor;function RL(){return new F8(this._groups,this._parents)}function P8(n,e){var t,i,r;return function(){var s=yo(this,n),o=(this.style.removeProperty(n),yo(this,n));return s===o?null:s===t&&o===i?r:r=e(t=s,i=o)}}function OL(n){return function(){this.style.removeProperty(n)}}function V8(n,e,t){var i,r=t+"",s;return function(){var o=yo(this,n);return o===r?null:o===i?s:s=e(i=o,t)}}function B8(n,e,t){var i,r,s;return function(){var o=yo(this,n),a=t(this),l=a+"";return a==null&&(l=a=(this.style.removeProperty(n),yo(this,n))),o===l?null:o===i&&l===r?s:(r=l,s=e(i=o,a))}}function j8(n,e){var t,i,r,s="style."+e,o="end."+s,a;return function(){var l=Sn(this,n),c=l.on,u=l.value[s]==null?a||(a=OL(e)):void 0;(c!==t||r!==u)&&(i=(t=c).copy()).on(o,r=u),l.on=i}}function LL(n,e,t){var i=(n+="")=="transform"?vw:_g;return e==null?this.styleTween(n,P8(n,i)).on("end.style."+n,OL(n)):typeof e=="function"?this.styleTween(n,B8(n,i,oc(this,"style."+n,e))).each(j8(this._id,n)):this.styleTween(n,V8(n,i,e),t).on("end.style."+n,null)}function H8(n,e,t){return function(i){this.style.setProperty(n,e.call(this,i),t)}}function z8(n,e,t){var i,r;function s(){var o=e.apply(this,arguments);return o!==r&&(i=(r=o)&&H8(n,o,t)),i}return s._value=e,s}function NL(n,e,t){var i="style."+(n+="");if(arguments.length<2)return(i=this.tween(i))&&i._value;if(e==null)return this.tween(i,null);if(typeof e!="function")throw new Error;return this.tween(i,z8(n,e,t??""))}function $8(n){return function(){this.textContent=n}}function U8(n){return function(){var e=n(this);this.textContent=e??""}}function FL(n){return this.tween("text",typeof n=="function"?U8(oc(this,"text",n)):$8(n==null?"":n+""))}function G8(n){return function(e){this.textContent=n.call(this,e)}}function q8(n){var e,t;function i(){var r=n.apply(this,arguments);return r!==t&&(e=(t=r)&&G8(r)),e}return i._value=n,i}function PL(n){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(n==null)return this.tween(e,null);if(typeof n!="function")throw new Error;return this.tween(e,q8(n))}function VL(){for(var n=this._name,e=this._id,t=bg(),i=this._groups,r=i.length,s=0;s<r;++s)for(var o=i[s],a=o.length,l,c=0;c<a;++c)if(l=o[c]){var u=dn(l,e);_o(l,n,t,c,o,{time:u.time+u.delay+u.duration,delay:0,duration:u.duration,ease:u.ease})}return new ii(i,this._parents,n,t)}function BL(){var n,e,t=this,i=t._id,r=t.size();return new Promise(function(s,o){var a={value:o},l={value:function(){--r===0&&s()}};t.each(function(){var c=Sn(this,i),u=c.on;u!==n&&(e=(n=u).copy(),e._.cancel.push(a),e._.interrupt.push(a),e._.end.push(l)),c.on=e}),r===0&&s()})}var W8=0;function ii(n,e,t,i){this._groups=n,this._parents=e,this._name=t,this._id=i}function jL(n){return ws().transition(n)}function bg(){return++W8}var Ss=ws.prototype;ii.prototype=jL.prototype={constructor:ii,select:ML,selectAll:kL,selectChild:Ss.selectChild,selectChildren:Ss.selectChildren,filter:DL,merge:TL,selection:RL,transition:VL,call:Ss.call,nodes:Ss.nodes,node:Ss.node,size:Ss.size,empty:Ss.empty,each:Ss.each,on:AL,attr:bL,attrTween:xL,style:LL,styleTween:NL,text:FL,textTween:PL,remove:IL,tween:_L,delay:CL,duration:wL,ease:SL,easeVarying:EL,end:BL,[Symbol.iterator]:Ss[Symbol.iterator]};function xg(n){return((n*=2)<=1?n*n*n:(n-=2)*n*n+2)/2}var Y8={time:null,delay:0,duration:250,ease:xg};function Q8(n,e){for(var t;!(t=n.__transition)||!(t=t[e]);)if(!(n=n.parentNode))throw new Error(`transition ${e} not found`);return t}function HL(n){var e,t;n instanceof ii?(e=n._id,n=n._name):(e=bg(),(t=Y8).time=Vd(),n=n==null?null:n+"");for(var i=this._groups,r=i.length,s=0;s<r;++s)for(var o=i[s],a=o.length,l,c=0;c<a;++c)(l=o[c])&&_o(l,n,e,c,o,t||Q8(l,e));return new ii(i,this._parents,n,e)}ws.prototype.interrupt=yL;ws.prototype.transition=HL;var{abs:bve,max:xve,min:Cve}=Math;function zL(n){return[+n[0],+n[1]]}function X8(n){return[zL(n[0]),zL(n[1])]}var wve={name:"x",handles:["w","e"].map(xw),input:function(n,e){return n==null?null:[[+n[0],e[0][1]],[+n[1],e[1][1]]]},output:function(n){return n&&[n[0][0],n[1][0]]}},Sve={name:"y",handles:["n","s"].map(xw),input:function(n,e){return n==null?null:[[e[0][0],+n[0]],[e[1][0],+n[1]]]},output:function(n){return n&&[n[0][1],n[1][1]]}},Eve={name:"xy",handles:["n","w","e","s","nw","ne","sw","se"].map(xw),input:function(n){return n==null?null:X8(n)},output:function(n){return n}};function xw(n){return{type:n}}function Vr(n,e){return n==null||e==null?NaN:n<e?-1:n>e?1:n>=e?0:NaN}function Cw(n,e){return n==null||e==null?NaN:e<n?-1:e>n?1:e>=n?0:NaN}function Cg(n){let e,t,i;n.length!==2?(e=Vr,t=(a,l)=>Vr(n(a),l),i=(a,l)=>n(a)-l):(e=n===Vr||n===Cw?n:K8,t=n,i=n);function r(a,l,c=0,u=a.length){if(c<u){if(e(l,l)!==0)return u;do{let p=c+u>>>1;t(a[p],l)<0?c=p+1:u=p}while(c<u)}return c}function s(a,l,c=0,u=a.length){if(c<u){if(e(l,l)!==0)return u;do{let p=c+u>>>1;t(a[p],l)<=0?c=p+1:u=p}while(c<u)}return c}function o(a,l,c=0,u=a.length){let p=r(a,l,c,u-1);return p>c&&i(a[p-1],l)>-i(a[p],l)?p-1:p}return{left:r,center:o,right:s}}function K8(){return 0}function Hd(n){return n===null?NaN:+n}var $L=Cg(Vr),UL=$L.right,J8=$L.left,eq=Cg(Hd).center,zd=UL;var ac=class extends Map{constructor(e,t=iq){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:t}}),e!=null)for(let[i,r]of e)this.set(i,r)}get(e){return super.get(GL(this,e))}has(e){return super.has(GL(this,e))}set(e,t){return super.set(tq(this,e),t)}delete(e){return super.delete(nq(this,e))}};function GL({_intern:n,_key:e},t){let i=e(t);return n.has(i)?n.get(i):t}function tq({_intern:n,_key:e},t){let i=e(t);return n.has(i)?n.get(i):(n.set(i,t),t)}function nq({_intern:n,_key:e},t){let i=e(t);return n.has(i)&&(t=n.get(i),n.delete(i)),t}function iq(n){return n!==null&&typeof n=="object"?n.valueOf():n}var rq=Math.sqrt(50),sq=Math.sqrt(10),oq=Math.sqrt(2);function wg(n,e,t){let i=(e-n)/Math.max(0,t),r=Math.floor(Math.log10(i)),s=i/Math.pow(10,r),o=s>=rq?10:s>=sq?5:s>=oq?2:1,a,l,c;return r<0?(c=Math.pow(10,-r)/o,a=Math.round(n*c),l=Math.round(e*c),a/c<n&&++a,l/c>e&&--l,c=-c):(c=Math.pow(10,r)*o,a=Math.round(n/c),l=Math.round(e/c),a*c<n&&++a,l*c>e&&--l),l<a&&.5<=t&&t<2?wg(n,e,t*2):[a,l,c]}function Sg(n,e,t){if(e=+e,n=+n,t=+t,!(t>0))return[];if(n===e)return[n];let i=e<n,[r,s,o]=i?wg(e,n,t):wg(n,e,t);if(!(s>=r))return[];let a=s-r+1,l=new Array(a);if(i)if(o<0)for(let c=0;c<a;++c)l[c]=(s-c)/-o;else for(let c=0;c<a;++c)l[c]=(s-c)*o;else if(o<0)for(let c=0;c<a;++c)l[c]=(r+c)/-o;else for(let c=0;c<a;++c)l[c]=(r+c)*o;return l}function $d(n,e,t){return e=+e,n=+n,t=+t,wg(n,e,t)[2]}function ww(n,e,t){e=+e,n=+n,t=+t;let i=e<n,r=i?$d(e,n,t):$d(n,e,t);return(i?-1:1)*(r<0?1/-r:r)}function Eg(n,e){let t;if(e===void 0)for(let i of n)i!=null&&(t<i||t===void 0&&i>=i)&&(t=i);else{let i=-1;for(let r of n)(r=e(r,++i,n))!=null&&(t<r||t===void 0&&r>=r)&&(t=r)}return t}function Sw(n,e,t=Hd){if(!(!(i=n.length)||isNaN(e=+e))){if(e<=0||i<2)return+t(n[0],0,n);if(e>=1)return+t(n[i-1],i-1,n);var i,r=(i-1)*e,s=Math.floor(r),o=+t(n[s],s,n),a=+t(n[s+1],s+1,n);return o+(a-o)*(r-s)}}function lc(n,e,t){n=+n,e=+e,t=(r=arguments.length)<2?(e=n,n=0,1):r<3?1:+t;for(var i=-1,r=Math.max(0,Math.ceil((e-n)/t))|0,s=new Array(r);++i<r;)s[i]=n+i*t;return s}function bo(n,e){switch(arguments.length){case 0:break;case 1:this.range(n);break;default:this.range(e).domain(n);break}return this}var Ew=Symbol("implicit");function Sa(){var n=new ac,e=[],t=[],i=Ew;function r(s){let o=n.get(s);if(o===void 0){if(i!==Ew)return i;n.set(s,o=e.push(s)-1)}return t[o%t.length]}return r.domain=function(s){if(!arguments.length)return e.slice();e=[],n=new ac;for(let o of s)n.has(o)||n.set(o,e.push(o)-1);return r},r.range=function(s){return arguments.length?(t=Array.from(s),r):t.slice()},r.unknown=function(s){return arguments.length?(i=s,r):i},r.copy=function(){return Sa(e,t).unknown(i)},bo.apply(r,arguments),r}function Ea(){var n=Sa().unknown(void 0),e=n.domain,t=n.range,i=0,r=1,s,o,a=!1,l=0,c=0,u=.5;delete n.unknown;function p(){var m=e().length,f=r<i,_=f?r:i,w=f?i:r;s=(w-_)/Math.max(1,m-l+c*2),a&&(s=Math.floor(s)),_+=(w-_-s*(m-l))*u,o=s*(1-l),a&&(_=Math.round(_),o=Math.round(o));var S=lc(m).map(function(D){return _+s*D});return t(f?S.reverse():S)}return n.domain=function(m){return arguments.length?(e(m),p()):e()},n.range=function(m){return arguments.length?([i,r]=m,i=+i,r=+r,p()):[i,r]},n.rangeRound=function(m){return[i,r]=m,i=+i,r=+r,a=!0,p()},n.bandwidth=function(){return o},n.step=function(){return s},n.round=function(m){return arguments.length?(a=!!m,p()):a},n.padding=function(m){return arguments.length?(l=Math.min(1,c=+m),p()):l},n.paddingInner=function(m){return arguments.length?(l=Math.min(1,m),p()):l},n.paddingOuter=function(m){return arguments.length?(c=+m,p()):c},n.align=function(m){return arguments.length?(u=Math.max(0,Math.min(1,m)),p()):u},n.copy=function(){return Ea(e(),[i,r]).round(a).paddingInner(l).paddingOuter(c).align(u)},bo.apply(p(),arguments)}function Dw(n){return function(){return n}}function Tw(n){return+n}var qL=[0,1];function cc(n){return n}function Aw(n,e){return(e-=n=+n)?function(t){return(t-n)/e}:Dw(isNaN(e)?NaN:.5)}function lq(n,e){var t;return n>e&&(t=n,n=e,e=t),function(i){return Math.max(n,Math.min(e,i))}}function cq(n,e,t){var i=n[0],r=n[1],s=e[0],o=e[1];return r<i?(i=Aw(r,i),s=t(o,s)):(i=Aw(i,r),s=t(s,o)),function(a){return s(i(a))}}function uq(n,e,t){var i=Math.min(n.length,e.length)-1,r=new Array(i),s=new Array(i),o=-1;for(n[i]<n[0]&&(n=n.slice().reverse(),e=e.slice().reverse());++o<i;)r[o]=Aw(n[o],n[o+1]),s[o]=t(e[o],e[o+1]);return function(a){var l=zd(n,a,1,i)-1;return s[l](r[l](a))}}function WL(n,e){return e.domain(n.domain()).range(n.range()).interpolate(n.interpolate()).clamp(n.clamp()).unknown(n.unknown())}function dq(){var n=qL,e=qL,t=ur,i,r,s,o=cc,a,l,c;function u(){var m=Math.min(n.length,e.length);return o!==cc&&(o=lq(n[0],n[m-1])),a=m>2?uq:cq,l=c=null,p}function p(m){return m==null||isNaN(m=+m)?s:(l||(l=a(n.map(i),e,t)))(i(o(m)))}return p.invert=function(m){return o(r((c||(c=a(e,n.map(i),wn)))(m)))},p.domain=function(m){return arguments.length?(n=Array.from(m,Tw),u()):n.slice()},p.range=function(m){return arguments.length?(e=Array.from(m),u()):e.slice()},p.rangeRound=function(m){return e=Array.from(m),t=mw,u()},p.clamp=function(m){return arguments.length?(o=m?!0:cc,u()):o!==cc},p.interpolate=function(m){return arguments.length?(t=m,u()):t},p.unknown=function(m){return arguments.length?(s=m,p):s},function(m,f){return i=m,r=f,u()}}function Iw(){return dq()(cc,cc)}function YL(n){return Math.abs(n=Math.round(n))>=1e21?n.toLocaleString("en").replace(/,/g,""):n.toString(10)}function Da(n,e){if((t=(n=e?n.toExponential(e-1):n.toExponential()).indexOf("e"))<0)return null;var t,i=n.slice(0,t);return[i.length>1?i[0]+i.slice(2):i,+n.slice(t+1)]}function Br(n){return n=Da(Math.abs(n)),n?n[1]:NaN}function QL(n,e){return function(t,i){for(var r=t.length,s=[],o=0,a=n[0],l=0;r>0&&a>0&&(l+a+1>i&&(a=Math.max(1,i-l)),s.push(t.substring(r-=a,r+a)),!((l+=a+1)>i));)a=n[o=(o+1)%n.length];return s.reverse().join(e)}}function XL(n){return function(e){return e.replace(/[0-9]/g,function(t){return n[+t]})}}var hq=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function xo(n){if(!(e=hq.exec(n)))throw new Error("invalid format: "+n);var e;return new Dg({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}xo.prototype=Dg.prototype;function Dg(n){this.fill=n.fill===void 0?" ":n.fill+"",this.align=n.align===void 0?">":n.align+"",this.sign=n.sign===void 0?"-":n.sign+"",this.symbol=n.symbol===void 0?"":n.symbol+"",this.zero=!!n.zero,this.width=n.width===void 0?void 0:+n.width,this.comma=!!n.comma,this.precision=n.precision===void 0?void 0:+n.precision,this.trim=!!n.trim,this.type=n.type===void 0?"":n.type+""}Dg.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function ZL(n){e:for(var e=n.length,t=1,i=-1,r;t<e;++t)switch(n[t]){case".":i=r=t;break;case"0":i===0&&(i=t),r=t;break;default:if(!+n[t])break e;i>0&&(i=0);break}return i>0?n.slice(0,i)+n.slice(r+1):n}var Mw;function KL(n,e){var t=Da(n,e);if(!t)return n+"";var i=t[0],r=t[1],s=r-(Mw=Math.max(-8,Math.min(8,Math.floor(r/3)))*3)+1,o=i.length;return s===o?i:s>o?i+new Array(s-o+1).join("0"):s>0?i.slice(0,s)+"."+i.slice(s):"0."+new Array(1-s).join("0")+Da(n,Math.max(0,e+s-1))[0]}function kw(n,e){var t=Da(n,e);if(!t)return n+"";var i=t[0],r=t[1];return r<0?"0."+new Array(-r).join("0")+i:i.length>r+1?i.slice(0,r+1)+"."+i.slice(r+1):i+new Array(r-i.length+2).join("0")}var Rw={"%":(n,e)=>(n*100).toFixed(e),b:n=>Math.round(n).toString(2),c:n=>n+"",d:YL,e:(n,e)=>n.toExponential(e),f:(n,e)=>n.toFixed(e),g:(n,e)=>n.toPrecision(e),o:n=>Math.round(n).toString(8),p:(n,e)=>kw(n*100,e),r:kw,s:KL,X:n=>Math.round(n).toString(16).toUpperCase(),x:n=>Math.round(n).toString(16)};function Ow(n){return n}var JL=Array.prototype.map,e2=["y","z","a","f","p","n","\xB5","m","","k","M","G","T","P","E","Z","Y"];function t2(n){var e=n.grouping===void 0||n.thousands===void 0?Ow:QL(JL.call(n.grouping,Number),n.thousands+""),t=n.currency===void 0?"":n.currency[0]+"",i=n.currency===void 0?"":n.currency[1]+"",r=n.decimal===void 0?".":n.decimal+"",s=n.numerals===void 0?Ow:XL(JL.call(n.numerals,String)),o=n.percent===void 0?"%":n.percent+"",a=n.minus===void 0?"\u2212":n.minus+"",l=n.nan===void 0?"NaN":n.nan+"";function c(p){p=xo(p);var m=p.fill,f=p.align,_=p.sign,w=p.symbol,S=p.zero,D=p.width,R=p.comma,F=p.precision,U=p.trim,ne=p.type;ne==="n"?(R=!0,ne="g"):Rw[ne]||(F===void 0&&(F=12),U=!0,ne="g"),(S||m==="0"&&f==="=")&&(S=!0,m="0",f="=");var le=w==="$"?t:w==="#"&&/[boxX]/.test(ne)?"0"+ne.toLowerCase():"",me=w==="$"?i:/[%p]/.test(ne)?o:"",ue=Rw[ne],ft=/[defgprs%]/.test(ne);F=F===void 0?6:/[gprs]/.test(ne)?Math.max(1,Math.min(21,F)):Math.max(0,Math.min(20,F));function Tt(we){var pt=le,fe=me,Pe,wi,re;if(ne==="c")fe=ue(we)+fe,we="";else{we=+we;var ce=we<0||1/we<0;if(we=isNaN(we)?l:ue(Math.abs(we),F),U&&(we=ZL(we)),ce&&+we==0&&_!=="+"&&(ce=!1),pt=(ce?_==="("?_:a:_==="-"||_==="("?"":_)+pt,fe=(ne==="s"?e2[8+Mw/3]:"")+fe+(ce&&_==="("?")":""),ft){for(Pe=-1,wi=we.length;++Pe<wi;)if(re=we.charCodeAt(Pe),48>re||re>57){fe=(re===46?r+we.slice(Pe+1):we.slice(Pe))+fe,we=we.slice(0,Pe);break}}}R&&!S&&(we=e(we,1/0));var pe=pt.length+we.length+fe.length,Se=pe<D?new Array(D-pe+1).join(m):"";switch(R&&S&&(we=e(Se+we,Se.length?D-fe.length:1/0),Se=""),f){case"<":we=pt+we+fe+Se;break;case"=":we=pt+Se+we+fe;break;case"^":we=Se.slice(0,pe=Se.length>>1)+pt+we+fe+Se.slice(pe);break;default:we=Se+pt+we+fe;break}return s(we)}return Tt.toString=function(){return p+""},Tt}function u(p,m){var f=c((p=xo(p),p.type="f",p)),_=Math.max(-8,Math.min(8,Math.floor(Br(m)/3)))*3,w=Math.pow(10,-_),S=e2[8+_/3];return function(D){return f(w*D)+S}}return{format:c,formatPrefix:u}}var Tg,Ag,Ig;Lw({thousands:",",grouping:[3],currency:["$",""]});function Lw(n){return Tg=t2(n),Ag=Tg.format,Ig=Tg.formatPrefix,Tg}function Nw(n){return Math.max(0,-Br(Math.abs(n)))}function Fw(n,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Br(e)/3)))*3-Br(Math.abs(n)))}function Pw(n,e){return n=Math.abs(n),e=Math.abs(e)-n,Math.max(0,Br(e)-Br(n))+1}function Vw(n,e,t,i){var r=ww(n,e,t),s;switch(i=xo(i??",f"),i.type){case"s":{var o=Math.max(Math.abs(n),Math.abs(e));return i.precision==null&&!isNaN(s=Fw(r,o))&&(i.precision=s),Ig(i,o)}case"":case"e":case"g":case"p":case"r":{i.precision==null&&!isNaN(s=Pw(r,Math.max(Math.abs(n),Math.abs(e))))&&(i.precision=s-(i.type==="e"));break}case"f":case"%":{i.precision==null&&!isNaN(s=Nw(r))&&(i.precision=s-(i.type==="%")*2);break}}return Ag(i)}function pq(n){var e=n.domain;return n.ticks=function(t){var i=e();return Sg(i[0],i[i.length-1],t??10)},n.tickFormat=function(t,i){var r=e();return Vw(r[0],r[r.length-1],t??10,i)},n.nice=function(t){t==null&&(t=10);var i=e(),r=0,s=i.length-1,o=i[r],a=i[s],l,c,u=10;for(a<o&&(c=o,o=a,a=c,c=r,r=s,s=c);u-- >0;){if(c=$d(o,a,t),c===l)return i[r]=o,i[s]=a,e(i);if(c>0)o=Math.floor(o/c)*c,a=Math.ceil(a/c)*c;else if(c<0)o=Math.ceil(o*c)/c,a=Math.floor(a*c)/c;else break;l=c}return n},n}function Co(){var n=Iw();return n.copy=function(){return WL(n,Co())},bo.apply(n,arguments),pq(n)}function Ud(){var n=[],e=[],t=[],i;function r(){var o=0,a=Math.max(1,e.length);for(t=new Array(a-1);++o<a;)t[o-1]=Sw(n,o/a);return s}function s(o){return o==null||isNaN(o=+o)?i:e[zd(t,o)]}return s.invertExtent=function(o){var a=e.indexOf(o);return a<0?[NaN,NaN]:[a>0?t[a-1]:n[0],a<t.length?t[a]:n[n.length-1]]},s.domain=function(o){if(!arguments.length)return n.slice();n=[];for(let a of o)a!=null&&!isNaN(a=+a)&&n.push(a);return n.sort(Vr),r()},s.range=function(o){return arguments.length?(e=Array.from(o),r()):e.slice()},s.unknown=function(o){return arguments.length?(i=o,s):i},s.quantiles=function(){return t.slice()},s.copy=function(){return Ud().domain(n).range(e).unknown(i)},bo.apply(s,arguments)}function En(n){return function(){return n}}var Bw=Math.abs,Dn=Math.atan2,wo=Math.cos,n2=Math.max,Mg=Math.min,dr=Math.sin,Ta=Math.sqrt,ri=1e-12,uc=Math.PI,Gd=uc/2,dc=2*uc;function i2(n){return n>1?0:n<-1?uc:Math.acos(n)}function jw(n){return n>=1?Gd:n<=-1?-Gd:Math.asin(n)}var Hw=Math.PI,zw=2*Hw,Aa=1e-6,mq=zw-Aa;function r2(n){this._+=n[0];for(let e=1,t=n.length;e<t;++e)this._+=arguments[e]+n[e]}function gq(n){let e=Math.floor(n);if(!(e>=0))throw new Error(`invalid digits: ${n}`);if(e>15)return r2;let t=10**e;return function(i){this._+=i[0];for(let r=1,s=i.length;r<s;++r)this._+=Math.round(arguments[r]*t)/t+i[r]}}var Ia=class{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?r2:gq(e)}moveTo(e,t){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+t}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,t){this._append`L${this._x1=+e},${this._y1=+t}`}quadraticCurveTo(e,t,i,r){this._append`Q${+e},${+t},${this._x1=+i},${this._y1=+r}`}bezierCurveTo(e,t,i,r,s,o){this._append`C${+e},${+t},${+i},${+r},${this._x1=+s},${this._y1=+o}`}arcTo(e,t,i,r,s){if(e=+e,t=+t,i=+i,r=+r,s=+s,s<0)throw new Error(`negative radius: ${s}`);let o=this._x1,a=this._y1,l=i-e,c=r-t,u=o-e,p=a-t,m=u*u+p*p;if(this._x1===null)this._append`M${this._x1=e},${this._y1=t}`;else if(m>Aa)if(!(Math.abs(p*l-c*u)>Aa)||!s)this._append`L${this._x1=e},${this._y1=t}`;else{let f=i-o,_=r-a,w=l*l+c*c,S=f*f+_*_,D=Math.sqrt(w),R=Math.sqrt(m),F=s*Math.tan((Hw-Math.acos((w+m-S)/(2*D*R)))/2),U=F/R,ne=F/D;Math.abs(U-1)>Aa&&this._append`L${e+U*u},${t+U*p}`,this._append`A${s},${s},0,0,${+(p*f>u*_)},${this._x1=e+ne*l},${this._y1=t+ne*c}`}}arc(e,t,i,r,s,o){if(e=+e,t=+t,i=+i,o=!!o,i<0)throw new Error(`negative radius: ${i}`);let a=i*Math.cos(r),l=i*Math.sin(r),c=e+a,u=t+l,p=1^o,m=o?r-s:s-r;this._x1===null?this._append`M${c},${u}`:(Math.abs(this._x1-c)>Aa||Math.abs(this._y1-u)>Aa)&&this._append`L${c},${u}`,i&&(m<0&&(m=m%zw+zw),m>mq?this._append`A${i},${i},0,1,${p},${e-a},${t-l}A${i},${i},0,1,${p},${this._x1=c},${this._y1=u}`:m>Aa&&this._append`A${i},${i},0,${+(m>=Hw)},${p},${this._x1=e+i*Math.cos(s)},${this._y1=t+i*Math.sin(s)}`)}rect(e,t,i,r){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+t}h${i=+i}v${+r}h${-i}Z`}toString(){return this._}};function s2(){return new Ia}s2.prototype=Ia.prototype;function o2(n){let e=3;return n.digits=function(t){if(!arguments.length)return e;if(t==null)e=null;else{let i=Math.floor(t);if(!(i>=0))throw new RangeError(`invalid digits: ${t}`);e=i}return n},()=>new Ia(e)}function vq(n){return n.innerRadius}function yq(n){return n.outerRadius}function _q(n){return n.startAngle}function bq(n){return n.endAngle}function xq(n){return n&&n.padAngle}function Cq(n,e,t,i,r,s,o,a){var l=t-n,c=i-e,u=o-r,p=a-s,m=p*l-u*c;if(!(m*m<ri))return m=(u*(e-s)-p*(n-r))/m,[n+m*l,e+m*c]}function kg(n,e,t,i,r,s,o){var a=n-t,l=e-i,c=(o?s:-s)/Ta(a*a+l*l),u=c*l,p=-c*a,m=n+u,f=e+p,_=t+u,w=i+p,S=(m+_)/2,D=(f+w)/2,R=_-m,F=w-f,U=R*R+F*F,ne=r-s,le=m*w-_*f,me=(F<0?-1:1)*Ta(n2(0,ne*ne*U-le*le)),ue=(le*F-R*me)/U,ft=(-le*R-F*me)/U,Tt=(le*F+R*me)/U,we=(-le*R+F*me)/U,pt=ue-S,fe=ft-D,Pe=Tt-S,wi=we-D;return pt*pt+fe*fe>Pe*Pe+wi*wi&&(ue=Tt,ft=we),{cx:ue,cy:ft,x01:-u,y01:-p,x11:ue*(r/ne-1),y11:ft*(r/ne-1)}}function qd(){var n=vq,e=yq,t=En(0),i=null,r=_q,s=bq,o=xq,a=null,l=o2(c);function c(){var u,p,m=+n.apply(this,arguments),f=+e.apply(this,arguments),_=r.apply(this,arguments)-Gd,w=s.apply(this,arguments)-Gd,S=Bw(w-_),D=w>_;if(a||(a=u=l()),f<m&&(p=f,f=m,m=p),!(f>ri))a.moveTo(0,0);else if(S>dc-ri)a.moveTo(f*wo(_),f*dr(_)),a.arc(0,0,f,_,w,!D),m>ri&&(a.moveTo(m*wo(w),m*dr(w)),a.arc(0,0,m,w,_,D));else{var R=_,F=w,U=_,ne=w,le=S,me=S,ue=o.apply(this,arguments)/2,ft=ue>ri&&(i?+i.apply(this,arguments):Ta(m*m+f*f)),Tt=Mg(Bw(f-m)/2,+t.apply(this,arguments)),we=Tt,pt=Tt,fe,Pe;if(ft>ri){var wi=jw(ft/m*dr(ue)),re=jw(ft/f*dr(ue));(le-=wi*2)>ri?(wi*=D?1:-1,U+=wi,ne-=wi):(le=0,U=ne=(_+w)/2),(me-=re*2)>ri?(re*=D?1:-1,R+=re,F-=re):(me=0,R=F=(_+w)/2)}var ce=f*wo(R),pe=f*dr(R),Se=m*wo(ne),Ft=m*dr(ne);if(Tt>ri){var $n=f*wo(F),mn=f*dr(F),Fi=m*wo(U),mt=m*dr(U),Pi;if(S<uc)if(Pi=Cq(ce,pe,Fi,mt,$n,mn,Se,Ft)){var Uc=ce-Pi[0],Jt=pe-Pi[1],Xi=$n-Pi[0],Mn=mn-Pi[1],$o=1/dr(i2((Uc*Xi+Jt*Mn)/(Ta(Uc*Uc+Jt*Jt)*Ta(Xi*Xi+Mn*Mn)))/2),Ya=Ta(Pi[0]*Pi[0]+Pi[1]*Pi[1]);we=Mg(Tt,(m-Ya)/($o-1)),pt=Mg(Tt,(f-Ya)/($o+1))}else we=pt=0}me>ri?pt>ri?(fe=kg(Fi,mt,ce,pe,f,pt,D),Pe=kg($n,mn,Se,Ft,f,pt,D),a.moveTo(fe.cx+fe.x01,fe.cy+fe.y01),pt<Tt?a.arc(fe.cx,fe.cy,pt,Dn(fe.y01,fe.x01),Dn(Pe.y01,Pe.x01),!D):(a.arc(fe.cx,fe.cy,pt,Dn(fe.y01,fe.x01),Dn(fe.y11,fe.x11),!D),a.arc(0,0,f,Dn(fe.cy+fe.y11,fe.cx+fe.x11),Dn(Pe.cy+Pe.y11,Pe.cx+Pe.x11),!D),a.arc(Pe.cx,Pe.cy,pt,Dn(Pe.y11,Pe.x11),Dn(Pe.y01,Pe.x01),!D))):(a.moveTo(ce,pe),a.arc(0,0,f,R,F,!D)):a.moveTo(ce,pe),!(m>ri)||!(le>ri)?a.lineTo(Se,Ft):we>ri?(fe=kg(Se,Ft,$n,mn,m,-we,D),Pe=kg(ce,pe,Fi,mt,m,-we,D),a.lineTo(fe.cx+fe.x01,fe.cy+fe.y01),we<Tt?a.arc(fe.cx,fe.cy,we,Dn(fe.y01,fe.x01),Dn(Pe.y01,Pe.x01),!D):(a.arc(fe.cx,fe.cy,we,Dn(fe.y01,fe.x01),Dn(fe.y11,fe.x11),!D),a.arc(0,0,m,Dn(fe.cy+fe.y11,fe.cx+fe.x11),Dn(Pe.cy+Pe.y11,Pe.cx+Pe.x11),D),a.arc(Pe.cx,Pe.cy,we,Dn(Pe.y11,Pe.x11),Dn(Pe.y01,Pe.x01),!D))):a.arc(0,0,m,ne,U,D)}if(a.closePath(),u)return a=null,u+""||null}return c.centroid=function(){var u=(+n.apply(this,arguments)+ +e.apply(this,arguments))/2,p=(+r.apply(this,arguments)+ +s.apply(this,arguments))/2-uc/2;return[wo(p)*u,dr(p)*u]},c.innerRadius=function(u){return arguments.length?(n=typeof u=="function"?u:En(+u),c):n},c.outerRadius=function(u){return arguments.length?(e=typeof u=="function"?u:En(+u),c):e},c.cornerRadius=function(u){return arguments.length?(t=typeof u=="function"?u:En(+u),c):t},c.padRadius=function(u){return arguments.length?(i=u==null?null:typeof u=="function"?u:En(+u),c):i},c.startAngle=function(u){return arguments.length?(r=typeof u=="function"?u:En(+u),c):r},c.endAngle=function(u){return arguments.length?(s=typeof u=="function"?u:En(+u),c):s},c.padAngle=function(u){return arguments.length?(o=typeof u=="function"?u:En(+u),c):o},c.context=function(u){return arguments.length?(a=u??null,c):a},c}var O_e=Array.prototype.slice;function a2(n){return typeof n=="object"&&"length"in n?n:Array.from(n)}function l2(n,e){return e<n?-1:e>n?1:e>=n?0:NaN}function c2(n){return n}function $w(){var n=c2,e=l2,t=null,i=En(0),r=En(dc),s=En(0);function o(a){var l,c=(a=a2(a)).length,u,p,m=0,f=new Array(c),_=new Array(c),w=+i.apply(this,arguments),S=Math.min(dc,Math.max(-dc,r.apply(this,arguments)-w)),D,R=Math.min(Math.abs(S)/c,s.apply(this,arguments)),F=R*(S<0?-1:1),U;for(l=0;l<c;++l)(U=_[f[l]=l]=+n(a[l],l,a))>0&&(m+=U);for(e!=null?f.sort(function(ne,le){return e(_[ne],_[le])}):t!=null&&f.sort(function(ne,le){return t(a[ne],a[le])}),l=0,p=m?(S-c*F)/m:0;l<c;++l,w=D)u=f[l],U=_[u],D=w+(U>0?U*p:0)+F,_[u]={data:a[u],index:l,value:U,startAngle:w,endAngle:D,padAngle:R};return _}return o.value=function(a){return arguments.length?(n=typeof a=="function"?a:En(+a),o):n},o.sortValues=function(a){return arguments.length?(e=a,t=null,o):e},o.sort=function(a){return arguments.length?(t=a,e=null,o):t},o.startAngle=function(a){return arguments.length?(i=typeof a=="function"?a:En(+a),o):i},o.endAngle=function(a){return arguments.length?(r=typeof a=="function"?a:En(+a),o):r},o.padAngle=function(a){return arguments.length?(s=typeof a=="function"?a:En(+a),o):s},o}var Tq=["caretElm"],Aq=n=>({model:n});function Iq(n,e){}function Mq(n,e){if(n&1&&(h(0,"span"),T(1,Iq,0,0,"ng-template",5),d()),n&2){let t=b();g(),y("ngTemplateOutlet",t.template)("ngTemplateOutletContext",he(2,Aq,t.context))}}function kq(n,e){if(n&1&&x(0,"span",6),n&2){let t=b();y("innerHTML",t.title,GA)}}function Rq(n,e){if(n&1&&(h(0,"header",4)(1,"span",5),v(2),d()()),n&2){let t=b();g(2),ae(t.title)}}function Oq(n,e){if(n&1){let t=Q();h(0,"li",6)(1,"ngx-charts-legend-entry",7),E("select",function(r){O(t);let s=b();return L(s.labelClick.emit(r))})("activate",function(r){O(t);let s=b();return L(s.activate(r))})("deactivate",function(r){O(t);let s=b();return L(s.deactivate(r))}),d()()}if(n&2){let t=e.$implicit,i=b();g(),y("label",t.label)("formattedLabel",t.formattedLabel)("color",t.color)("isActive",i.isActive(t))}}var Lq=["*"];function Nq(n,e){if(n&1&&x(0,"ngx-charts-scale-legend",4),n&2){let t=b();y("horizontal",t.legendOptions&&t.legendOptions.position===t.LegendPosition.Below)("valueRange",t.legendOptions.domain)("colors",t.legendOptions.colors)("height",t.view[1])("width",t.legendWidth)}}function Fq(n,e){if(n&1){let t=Q();h(0,"ngx-charts-legend",5),E("labelClick",function(r){O(t);let s=b();return L(s.legendLabelClick.emit(r))})("labelActivate",function(r){O(t);let s=b();return L(s.legendLabelActivate.emit(r))})("labelDeactivate",function(r){O(t);let s=b();return L(s.legendLabelDeactivate.emit(r))}),d()}if(n&2){let t=b();y("horizontal",t.legendOptions&&t.legendOptions.position===t.LegendPosition.Below)("data",t.legendOptions.domain)("title",t.legendOptions.title)("colors",t.legendOptions.colors)("height",t.view[1])("width",t.legendWidth)("activeEntries",t.activeEntries)}}var Pq=["ngx-charts-axis-label",""],_2=["ticksel"],Vq=["ngx-charts-x-axis-ticks",""];function Bq(n,e){n&1&&(ee(),Pn(0))}function jq(n,e){if(n&1&&(ee(),h(0,"tspan",10),v(1),d()),n&2){let t=e.$implicit,i=e.index;Me("y",i*12),g(),j(" ",t," ")}}function Hq(n,e){if(n&1&&(ee(),Mt(0),T(1,jq,2,2,"tspan",9),kt()),n&2){let t=e.ngIf;g(),y("ngForOf",t)}}function zq(n,e){if(n&1&&T(0,Hq,2,1,"ng-container",6),n&2){let t=b(2).$implicit,i=b();y("ngIf",i.tickChunks(t))}}function $q(n,e){if(n&1&&v(0),n&2){let t=b().ngIf,i=b(2);j(" ",i.tickTrim(t)," ")}}function Uq(n,e){if(n&1&&(ee(),Mt(0),h(1,"title"),v(2),d(),h(3,"text",7),T(4,Bq,1,0,"ng-container",8),d(),T(5,zq,1,1,"ng-template",null,1,Ut)(7,$q,1,1,"ng-template",null,2,Ut),kt()),n&2){let t=e.ngIf,i=$t(6),r=$t(8),s=b(2);g(2),ae(t),g(),Me("text-anchor",s.textAnchor)("transform",s.textTransform),g(),y("ngIf",s.isWrapTicksSupported)("ngIfThen",i)("ngIfElse",r)}}function Gq(n,e){if(n&1&&(ee(),h(0,"g",5),T(1,Uq,9,6,"ng-container",6),d()),n&2){let t=e.$implicit,i=b();Me("transform",i.tickTransform(t)),g(),y("ngIf",i.tickFormat(t))}}function qq(n,e){if(n&1&&(ee(),h(0,"g"),x(1,"line",11),d()),n&2){let t=b(2);Me("transform",t.gridLineTransform()),g(),Me("y1",-t.gridLineHeight)}}function Wq(n,e){if(n&1&&(ee(),h(0,"g"),T(1,qq,2,2,"g",6),d()),n&2){let t=e.$implicit,i=b();Me("transform",i.tickTransform(t)),g(),y("ngIf",i.showGridLines)}}var Yq=["ngx-charts-x-axis",""];function Qq(n,e){if(n&1){let t=Q();ee(),h(0,"g",2),E("dimensionsChanged",function(r){O(t);let s=b();return L(s.emitTicksHeight(r))}),d()}if(n&2){let t=b();y("trimTicks",t.trimTicks)("rotateTicks",t.rotateTicks)("maxTickLength",t.maxTickLength)("tickFormatting",t.tickFormatting)("tickArguments",t.tickArguments)("tickStroke",t.tickStroke)("scale",t.xScale)("orient",t.xOrient)("showGridLines",t.showGridLines)("gridLineHeight",t.dims.height)("width",t.dims.width)("tickValues",t.ticks)("wrapTicks",t.wrapTicks)}}function Xq(n,e){if(n&1&&(ee(),x(0,"g",3)),n&2){let t=b();y("label",t.labelText)("offset",t.labelOffset)("orient",t.orientation.Bottom)("height",t.dims.height)("width",t.dims.width)}}var Zq=["ngx-charts-y-axis-ticks",""];function Kq(n,e){n&1&&(ee(),Pn(0))}function Jq(n,e){if(n&1&&(ee(),h(0,"tspan",12),v(1),d()),n&2){let t=e.$implicit,i=e.index,r=b(6);Me("y",i*(8+r.tickSpacing)),g(),j(" ",t," ")}}function eW(n,e){if(n&1&&(ee(),Mt(0),T(1,Jq,2,2,"tspan",11),kt()),n&2){let t=b().ngIf;g(),y("ngForOf",t)}}function tW(n,e){if(n&1&&(ee(),Mt(0),T(1,eW,2,1,"ng-container",10),kt()),n&2){let t=e.ngIf;b(2);let i=$t(8);g(),y("ngIf",t.length>1)("ngIfElse",i)}}function nW(n,e){if(n&1&&T(0,tW,2,2,"ng-container",7),n&2){let t=b(2).$implicit,i=b();y("ngIf",i.tickChunks(t))}}function iW(n,e){if(n&1&&v(0),n&2){let t=b().ngIf,i=b(2);j(" ",i.tickTrim(t)," ")}}function rW(n,e){if(n&1&&(ee(),Mt(0),h(1,"title"),v(2),d(),h(3,"text",8),T(4,Kq,1,0,"ng-container",9),d(),T(5,nW,1,1,"ng-template",null,1,Ut)(7,iW,1,1,"ng-template",null,2,Ut),kt()),n&2){let t=e.ngIf,i=$t(6),r=$t(8),s=b(2);g(2),ae(t),g(),Qn("font-size","12px"),Me("dy",s.dy)("x",s.x1)("y",s.y1)("text-anchor",s.textAnchor),g(),y("ngIf",s.wrapTicks)("ngIfThen",i)("ngIfElse",r)}}function sW(n,e){if(n&1&&(ee(),h(0,"g",6),T(1,rW,9,10,"ng-container",7),d()),n&2){let t=e.$implicit,i=b();Me("transform",i.transform(t)),g(),y("ngIf",i.tickFormat(t))}}function oW(n,e){if(n&1&&(ee(),x(0,"path",13)),n&2){let t=b();Me("d",t.referenceAreaPath)("transform",t.gridLineTransform())}}function aW(n,e){if(n&1&&(ee(),x(0,"line",15)),n&2){let t=b(3);Me("x2",t.gridLineWidth)}}function lW(n,e){if(n&1&&(ee(),x(0,"line",15)),n&2){let t=b(3);Me("x2",-t.gridLineWidth)}}function cW(n,e){if(n&1&&(ee(),h(0,"g"),T(1,aW,1,1,"line",14)(2,lW,1,1,"line",14),d()),n&2){let t=b(2);Me("transform",t.gridLineTransform()),g(),y("ngIf",t.orient===t.Orientation.Left),g(),y("ngIf",t.orient===t.Orientation.Right)}}function uW(n,e){if(n&1&&(ee(),h(0,"g"),T(1,cW,3,3,"g",7),d()),n&2){let t=e.$implicit,i=b();Me("transform",i.transform(t)),g(),y("ngIf",i.showGridLines)}}function dW(n,e){if(n&1&&(ee(),h(0,"g")(1,"title"),v(2),d(),h(3,"text",17),v(4),d()()),n&2){let t=b(2).$implicit,i=b();g(2),ae(i.tickTrim(i.tickFormat(t.value))),g(),Me("dy",i.dy)("y",-6)("x",i.gridLineWidth)("text-anchor",i.textAnchor),g(),j(" ",t.name," ")}}function hW(n,e){if(n&1&&(ee(),h(0,"g"),x(1,"line",16),T(2,dW,5,6,"g",7),d()),n&2){let t=b().$implicit,i=b();Me("transform",i.transform(t.value)),g(),Me("x2",i.gridLineWidth)("transform",i.gridLineTransform()),g(),y("ngIf",i.showRefLabels)}}function pW(n,e){if(n&1&&(ee(),h(0,"g"),T(1,hW,3,4,"g",7),d()),n&2){let t=b();g(),y("ngIf",t.showRefLines)}}var fW=["ngx-charts-y-axis",""];function mW(n,e){if(n&1){let t=Q();ee(),h(0,"g",2),E("dimensionsChanged",function(r){O(t);let s=b();return L(s.emitTicksWidth(r))}),d()}if(n&2){let t=b();y("trimTicks",t.trimTicks)("maxTickLength",t.maxTickLength)("tickFormatting",t.tickFormatting)("tickArguments",t.tickArguments)("tickValues",t.ticks)("tickStroke",t.tickStroke)("scale",t.yScale)("orient",t.yOrient)("showGridLines",t.showGridLines)("gridLineWidth",t.dims.width)("referenceLines",t.referenceLines)("showRefLines",t.showRefLines)("showRefLabels",t.showRefLabels)("height",t.dims.height)("wrapTicks",t.wrapTicks)}}function gW(n,e){if(n&1&&(ee(),x(0,"g",3)),n&2){let t=b();y("label",t.labelText)("offset",t.labelOffset)("orient",t.yOrient)("height",t.dims.height)("width",t.dims.width)}}var vW=["ngx-charts-svg-linear-gradient",""];function yW(n,e){if(n&1&&(ee(),x(0,"stop")),n&2){let t=e.$implicit;Qn("stop-color",t.color)("stop-opacity",t.opacity),Me("offset",t.offset+"%")}}var _W=["ngx-charts-grid-panel",""],bW=["ngx-charts-grid-panel-series",""];function xW(n,e){if(n&1&&(ee(),x(0,"g",1)),n&2){let t=e.$implicit;Xn("grid-panel",!0)("odd",t.class==="odd")("even",t.class==="even"),y("height",t.height)("width",t.width)("x",t.x)("y",t.y)}}var CW=["ngx-charts-svg-radial-gradient",""];function wW(n,e){if(n&1&&(ee(),x(0,"stop")),n&2){let t=e.$implicit;Qn("stop-color",t.color)("stop-opacity",t.opacity),Me("offset",t.offset+"%")}}var b2=["tooltipTemplate"];var x2=(n,e)=>[n,e];var C2=`.ngx-charts-outer{animation:chartFadeIn linear .6s}@keyframes chartFadeIn{0%{opacity:0}20%{opacity:0}to{opacity:1}}.ngx-charts{float:left;overflow:visible}.ngx-charts .circle,.ngx-charts .cell,.ngx-charts .bar,.ngx-charts .node,.ngx-charts .link,.ngx-charts .arc{cursor:pointer}.ngx-charts .bar.active,.ngx-charts .bar:hover,.ngx-charts .cell.active,.ngx-charts .cell:hover,.ngx-charts .arc.active,.ngx-charts .arc:hover,.ngx-charts .node.active,.ngx-charts .node:hover,.ngx-charts .link.active,.ngx-charts .link:hover,.ngx-charts .card.active,.ngx-charts .card:hover{opacity:.8;transition:opacity .1s ease-in-out}.ngx-charts .bar:focus,.ngx-charts .cell:focus,.ngx-charts .arc:focus,.ngx-charts .node:focus,.ngx-charts .link:focus,.ngx-charts .card:focus{outline:none}.ngx-charts .bar.hidden,.ngx-charts .cell.hidden,.ngx-charts .arc.hidden,.ngx-charts .node.hidden,.ngx-charts .link.hidden,.ngx-charts .card.hidden{display:none}.ngx-charts g:focus{outline:none}.ngx-charts .line-series.inactive,.ngx-charts .line-series-range.inactive,.ngx-charts .polar-series-path.inactive,.ngx-charts .polar-series-area.inactive,.ngx-charts .area-series.inactive{transition:opacity .1s ease-in-out;opacity:.2}.ngx-charts .line-highlight{display:none}.ngx-charts .line-highlight.active{display:block}.ngx-charts .area{opacity:.6}.ngx-charts .circle:hover{cursor:pointer}.ngx-charts .label{font-size:12px;font-weight:400}.ngx-charts .tooltip-anchor{fill:#000}.ngx-charts .gridline-path{stroke:#ddd;stroke-width:1;fill:none}.ngx-charts .refline-path{stroke:#a8b2c7;stroke-width:1;stroke-dasharray:5;stroke-dashoffset:5}.ngx-charts .refline-label{font-size:9px}.ngx-charts .reference-area{fill-opacity:.05;fill:#000}.ngx-charts .gridline-path-dotted{stroke:#ddd;stroke-width:1;fill:none;stroke-dasharray:1,20;stroke-dashoffset:3}.ngx-charts .grid-panel rect{fill:none}.ngx-charts .grid-panel.odd rect{fill:#0000000d}
`;var SW=["ngx-charts-bar",""];function EW(n,e){if(n&1&&(ee(),h(0,"defs"),x(1,"g",2),d()),n&2){let t=b();g(),y("orientation",t.orientation)("name",t.gradientId)("stops",t.gradientStops)}}var DW=["ngx-charts-bar-label",""];var TW=["ngx-charts-series-vertical",""];function AW(n,e){if(n&1){let t=Q();ee(),h(0,"g",2),E("select",function(r){O(t);let s=b(2);return L(s.onClick(r))})("activate",function(r){O(t);let s=b(2);return L(s.activate.emit(r))})("deactivate",function(r){O(t);let s=b(2);return L(s.deactivate.emit(r))}),d()}if(n&2){let t=e.$implicit,i=b(2);y("@animationState","active")("@.disabled",!i.animations)("width",t.width)("height",t.height)("x",t.x)("y",t.y)("fill",t.color)("stops",t.gradientStops)("data",t.data)("orientation",i.barOrientation.Vertical)("roundEdges",t.roundEdges)("gradient",i.gradient)("ariaLabel",t.ariaLabel)("isActive",i.isActive(t.data))("tooltipDisabled",i.tooltipDisabled)("tooltipPlacement",i.tooltipPlacement)("tooltipType",i.tooltipType)("tooltipTitle",i.tooltipTemplate?void 0:t.tooltipText)("tooltipTemplate",i.tooltipTemplate)("tooltipContext",t.data)("noBarWhenZero",i.noBarWhenZero)("animations",i.animations)}}function IW(n,e){if(n&1&&(ee(),h(0,"g"),T(1,AW,1,22,"g",1),d()),n&2){let t=b();g(),y("ngForOf",t.bars)("ngForTrackBy",t.trackBy)}}function MW(n,e){if(n&1){let t=Q();ee(),h(0,"g",2),E("select",function(r){O(t);let s=b(2);return L(s.onClick(r))})("activate",function(r){O(t);let s=b(2);return L(s.activate.emit(r))})("deactivate",function(r){O(t);let s=b(2);return L(s.deactivate.emit(r))}),d()}if(n&2){let t=e.$implicit,i=b(2);y("width",t.width)("height",t.height)("x",t.x)("y",t.y)("fill",t.color)("stops",t.gradientStops)("data",t.data)("orientation",i.barOrientation.Vertical)("roundEdges",t.roundEdges)("gradient",i.gradient)("ariaLabel",t.ariaLabel)("isActive",i.isActive(t.data))("tooltipDisabled",i.tooltipDisabled)("tooltipPlacement",i.tooltipPlacement)("tooltipType",i.tooltipType)("tooltipTitle",i.tooltipTemplate?void 0:t.tooltipText)("tooltipTemplate",i.tooltipTemplate)("tooltipContext",t.data)("noBarWhenZero",i.noBarWhenZero)("animations",i.animations)}}function kW(n,e){if(n&1&&(ee(),h(0,"g"),T(1,MW,1,20,"g",1),d()),n&2){let t=b();g(),y("ngForOf",t.bars)("ngForTrackBy",t.trackBy)}}function RW(n,e){if(n&1){let t=Q();ee(),h(0,"g",4),E("dimensionsChanged",function(r){let s=O(t).index,o=b(2);return L(o.dataLabelHeightChanged.emit({size:r,index:s}))}),d()}if(n&2){let t=e.$implicit,i=b(2);y("barX",t.x)("barY",t.y)("barWidth",t.width)("barHeight",t.height)("value",t.total)("valueFormatting",i.dataLabelFormatting)("orientation",i.barOrientation.Vertical)}}function OW(n,e){if(n&1&&(ee(),h(0,"g"),T(1,RW,1,7,"g",3),d()),n&2){let t=b();g(),y("ngForOf",t.barsForDataLabels)("ngForTrackBy",t.trackDataLabelBy)}}function LW(n,e){if(n&1){let t=Q();ee(),h(0,"g",6),E("dimensionsChanged",function(r){O(t);let s=b();return L(s.updateXAxisHeight(r))}),d()}if(n&2){let t=b();y("xScale",t.groupScale)("dims",t.dims)("showLabel",t.showXAxisLabel)("labelText",t.xAxisLabel)("trimTicks",t.trimXAxisTicks)("rotateTicks",t.rotateXAxisTicks)("maxTickLength",t.maxXAxisTickLength)("tickFormatting",t.xAxisTickFormatting)("ticks",t.xAxisTicks)("xAxisOffset",t.dataLabelMaxHeight.negative)("wrapTicks",t.wrapTicks)}}function NW(n,e){if(n&1){let t=Q();ee(),h(0,"g",7),E("dimensionsChanged",function(r){O(t);let s=b();return L(s.updateYAxisWidth(r))}),d()}if(n&2){let t=b();y("yScale",t.valueScale)("dims",t.dims)("showGridLines",t.showGridLines)("showLabel",t.showYAxisLabel)("labelText",t.yAxisLabel)("trimTicks",t.trimYAxisTicks)("maxTickLength",t.maxYAxisTickLength)("tickFormatting",t.yAxisTickFormatting)("ticks",t.yAxisTicks)("wrapTicks",t.wrapTicks)}}function FW(n,e){if(n&1){let t=Q();ee(),h(0,"g",9),E("select",function(r){let s=O(t).$implicit,o=b(2);return L(o.onClick(r,s))})("activate",function(r){let s=O(t).$implicit,o=b(2);return L(o.onActivate(r,s))})("deactivate",function(r){let s=O(t).$implicit,o=b(2);return L(o.onDeactivate(r,s))})("dataLabelHeightChanged",function(r){let s=O(t).index,o=b(2);return L(o.onDataLabelMaxHeightChanged(r,s))}),d()}if(n&2){let t=e.$implicit,i=b(2);y("@animationState","active")("activeEntries",i.activeEntries)("xScale",i.innerScale)("yScale",i.valueScale)("colors",i.colors)("series",t.series)("dims",i.dims)("gradient",i.gradient)("tooltipDisabled",i.tooltipDisabled)("tooltipTemplate",i.tooltipTemplate)("showDataLabel",i.showDataLabel)("dataLabelFormatting",i.dataLabelFormatting)("seriesName",t.name)("roundEdges",i.roundEdges)("animations",i.animations)("noBarWhenZero",i.noBarWhenZero),Me("transform",i.groupTransform(t))}}function PW(n,e){if(n&1&&(ee(),h(0,"g"),T(1,FW,1,17,"g",8),d()),n&2){let t=b();g(),y("ngForOf",t.results)("ngForTrackBy",t.trackBy)}}function VW(n,e){if(n&1){let t=Q();ee(),h(0,"g",9),E("select",function(r){let s=O(t).$implicit,o=b(2);return L(o.onClick(r,s))})("activate",function(r){let s=O(t).$implicit,o=b(2);return L(o.onActivate(r,s))})("deactivate",function(r){let s=O(t).$implicit,o=b(2);return L(o.onDeactivate(r,s))})("dataLabelHeightChanged",function(r){let s=O(t).index,o=b(2);return L(o.onDataLabelMaxHeightChanged(r,s))}),d()}if(n&2){let t=e.$implicit,i=b(2);y("activeEntries",i.activeEntries)("xScale",i.innerScale)("yScale",i.valueScale)("colors",i.colors)("series",t.series)("dims",i.dims)("gradient",i.gradient)("tooltipDisabled",i.tooltipDisabled)("tooltipTemplate",i.tooltipTemplate)("showDataLabel",i.showDataLabel)("dataLabelFormatting",i.dataLabelFormatting)("seriesName",t.name)("roundEdges",i.roundEdges)("animations",i.animations)("noBarWhenZero",i.noBarWhenZero),Me("transform",i.groupTransform(t))}}function BW(n,e){if(n&1&&(ee(),h(0,"g"),T(1,VW,1,16,"g",8),d()),n&2){let t=b();g(),y("ngForOf",t.results)("ngForTrackBy",t.trackBy)}}var jW=["ngx-charts-pie-label",""];var HW=["ngx-charts-pie-arc",""];function zW(n,e){if(n&1&&(ee(),h(0,"defs"),x(1,"g",3),d()),n&2){let t=b();g(),y("color",t.fill)("name",t.radialGradientId)("startOpacity",t.startOpacity)}}var $W=["ngx-charts-pie-series",""];function UW(n,e){if(n&1&&(ee(),x(0,"g",3)),n&2){let t=b().$implicit,i=b();y("data",t)("radius",i.outerRadius)("color",i.color(t))("label",i.labelText(t))("labelTrim",i.trimLabels)("labelTrimSize",i.maxLabelLength)("max",i.max)("value",t.value)("explodeSlices",i.explodeSlices)("animations",i.animations)}}function GW(n,e){if(n&1){let t=Q();ee(),h(0,"g"),T(1,UW,1,10,"g",1),h(2,"g",2),E("select",function(r){O(t);let s=b();return L(s.onClick(r))})("activate",function(r){O(t);let s=b();return L(s.activate.emit(r))})("deactivate",function(r){O(t);let s=b();return L(s.deactivate.emit(r))})("dblclick",function(r){O(t);let s=b();return L(s.dblclick.emit(r))}),d()()}if(n&2){let t=e.$implicit,i=b();g(),y("ngIf",i.labelVisible(t)),g(),y("startAngle",t.startAngle)("endAngle",t.endAngle)("innerRadius",i.innerRadius)("outerRadius",i.outerRadius)("fill",i.color(t))("value",t.data.value)("gradient",i.gradient)("data",t.data)("max",i.max)("explodeSlices",i.explodeSlices)("isActive",i.isActive(t.data))("animate",i.animations)("tooltipDisabled",i.tooltipDisabled)("tooltipPlacement",i.placementTypes.Top)("tooltipType",i.styleTypes.tooltip)("tooltipTitle",i.getTooltipTitle(t))("tooltipTemplate",i.tooltipTemplate)("tooltipContext",t.data)}}var qW=`.pie-label{font-size:11px}.pie-label.animation{animation:.75s ease-in fadeIn}@keyframes fadeIn{0%{opacity:0}to{opacity:1}}.pie-label-line{stroke-dasharray:100%}.pie-label-line.animation{animation:3s linear drawOut;transition:d .75s}@keyframes drawOut{0%{stroke-dashoffset:100%}to{stroke-dashoffset:0}}
`;function WW(n,e,t){t=t||{};let i,r,s,o=null,a=0;function l(){a=t.leading===!1?0:+new Date,o=null,s=n.apply(i,r)}return function(){let c=+new Date;!a&&t.leading===!1&&(a=c);let u=e-(c-a);return i=this,r=arguments,u<=0?(clearTimeout(o),o=null,a=c,s=n.apply(i,r)):!o&&t.trailing!==!1&&(o=setTimeout(l,u)),s}}function YW(n,e){return function(i,r,s){return{configurable:!0,enumerable:s.enumerable,get:function(){return Object.defineProperty(this,r,{configurable:!0,enumerable:s.enumerable,value:WW(s.value,n,e)}),this[r]}}}}var $e=function(n){return n.Top="top",n.Bottom="bottom",n.Left="left",n.Right="right",n.Center="center",n}($e||{}),Do=7;function u2(n,e,t){if(t===$e.Top)return n.top-Do;if(t===$e.Bottom)return n.top+n.height-e.height+Do;if(t===$e.Center)return n.top+n.height/2-e.height/2}function d2(n,e,t){if(t===$e.Left)return n.left-Do;if(t===$e.Right)return n.left+n.width-e.width+Do;if(t===$e.Center)return n.left+n.width/2-e.width/2}var Yd=class n{static calculateVerticalAlignment(e,t,i){let r=u2(e,t,i);return r+t.height>window.innerHeight&&(r=window.innerHeight-t.height),r}static calculateVerticalCaret(e,t,i,r){let s;r===$e.Top&&(s=e.height/2-i.height/2+Do),r===$e.Bottom&&(s=t.height-e.height/2-i.height/2-Do),r===$e.Center&&(s=t.height/2-i.height/2);let o=u2(e,t,r);return o+t.height>window.innerHeight&&(s+=o+t.height-window.innerHeight),s}static calculateHorizontalAlignment(e,t,i){let r=d2(e,t,i);return r+t.width>window.innerWidth&&(r=window.innerWidth-t.width),r}static calculateHorizontalCaret(e,t,i,r){let s;r===$e.Left&&(s=e.width/2-i.width/2+Do),r===$e.Right&&(s=t.width-e.width/2-i.width/2-Do),r===$e.Center&&(s=t.width/2-i.width/2);let o=d2(e,t,r);return o+t.width>window.innerWidth&&(s+=o+t.width-window.innerWidth),s}static shouldFlip(e,t,i,r){let s=!1;return i===$e.Right&&e.left+e.width+t.width+r>window.innerWidth&&(s=!0),i===$e.Left&&e.left-t.width-r<0&&(s=!0),i===$e.Top&&e.top-t.height-r<0&&(s=!0),i===$e.Bottom&&e.top+e.height+t.height+r>window.innerHeight&&(s=!0),s}static positionCaret(e,t,i,r,s){let o=0,a=0;return e===$e.Right?(a=-7,o=n.calculateVerticalCaret(i,t,r,s)):e===$e.Left?(a=t.width,o=n.calculateVerticalCaret(i,t,r,s)):e===$e.Top?(o=t.height,a=n.calculateHorizontalCaret(i,t,r,s)):e===$e.Bottom&&(o=-7,a=n.calculateHorizontalCaret(i,t,r,s)),{top:o,left:a}}static positionContent(e,t,i,r,s){let o=0,a=0;return e===$e.Right?(a=i.left+i.width+r,o=n.calculateVerticalAlignment(i,t,s)):e===$e.Left?(a=i.left-t.width-r,o=n.calculateVerticalAlignment(i,t,s)):e===$e.Top?(o=i.top-t.height-r,a=n.calculateHorizontalAlignment(i,t,s)):e===$e.Bottom&&(o=i.top+i.height+r,a=n.calculateHorizontalAlignment(i,t,s)),{top:o,left:a}}static determinePlacement(e,t,i,r){if(n.shouldFlip(i,t,e,r)){if(e===$e.Right)return $e.Left;if(e===$e.Left)return $e.Right;if(e===$e.Top)return $e.Bottom;if(e===$e.Bottom)return $e.Top}return e}},QW=(()=>{class n{get cssClasses(){let t="ngx-charts-tooltip-content";return t+=` position-${this.placement}`,t+=` type-${this.type}`,t+=` ${this.cssClass}`,t}constructor(t,i,r){this.element=t,this.renderer=i,this.platformId=r}ngAfterViewInit(){setTimeout(this.position.bind(this))}position(){if(!to(this.platformId))return;let t=this.element.nativeElement,i=this.host.nativeElement.getBoundingClientRect();if(!i.height&&!i.width)return;let r=t.getBoundingClientRect();this.checkFlip(i,r),this.positionContent(t,i,r),this.showCaret&&this.positionCaret(i,r),setTimeout(()=>this.renderer.addClass(t,"animate"),1)}positionContent(t,i,r){let{top:s,left:o}=Yd.positionContent(this.placement,r,i,this.spacing,this.alignment);this.renderer.setStyle(t,"top",`${s}px`),this.renderer.setStyle(t,"left",`${o}px`)}positionCaret(t,i){let r=this.caretElm.nativeElement,s=r.getBoundingClientRect(),{top:o,left:a}=Yd.positionCaret(this.placement,i,t,s,this.alignment);this.renderer.setStyle(r,"top",`${o}px`),this.renderer.setStyle(r,"left",`${a}px`)}checkFlip(t,i){this.placement=Yd.determinePlacement(this.placement,i,t,this.spacing)}onWindowResize(){this.position()}static{this.\u0275fac=function(i){return new(i||n)(C(rt),C(It),C(xn))}}static{this.\u0275cmp=A({type:n,selectors:[["ngx-tooltip-content"]],viewQuery:function(i,r){if(i&1&&Ct(Tq,5),i&2){let s;Te(s=Ae())&&(r.caretElm=s.first)}},hostVars:2,hostBindings:function(i,r){i&1&&E("resize",function(){return r.onWindowResize()},!1,Xs),i&2&&Nf(r.cssClasses)},inputs:{host:"host",showCaret:"showCaret",type:"type",placement:"placement",alignment:"alignment",spacing:"spacing",cssClass:"cssClass",title:"title",template:"template",context:"context"},decls:6,vars:6,consts:[["caretElm",""],[3,"hidden"],[1,"tooltip-content"],[4,"ngIf"],[3,"innerHTML",4,"ngIf"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"innerHTML"]],template:function(i,r){i&1&&(h(0,"div"),x(1,"span",1,0),h(3,"div",2),T(4,Mq,2,4,"span",3)(5,kq,1,1,"span",4),d()()),i&2&&(g(),WI("tooltip-caret position-",r.placement,""),y("hidden",!r.showCaret),g(3),y("ngIf",!r.title),g(),y("ngIf",r.title))},dependencies:[Ce,nm],styles:[`.ngx-charts-tooltip-content{position:fixed;border-radius:3px;z-index:5000;display:block;font-weight:400;opacity:0;pointer-events:none!important}.ngx-charts-tooltip-content.type-popover{background:#fff;color:#060709;border:1px solid #72809b;box-shadow:0 1px 3px #0003,0 1px 1px #00000024,0 2px 1px -1px #0000001f;font-size:13px;padding:4px}.ngx-charts-tooltip-content.type-popover .tooltip-caret{position:absolute;z-index:5001;width:0;height:0}.ngx-charts-tooltip-content.type-popover .tooltip-caret.position-left{border-top:7px solid transparent;border-bottom:7px solid transparent;border-left:7px solid #fff}.ngx-charts-tooltip-content.type-popover .tooltip-caret.position-top{border-left:7px solid transparent;border-right:7px solid transparent;border-top:7px solid #fff}.ngx-charts-tooltip-content.type-popover .tooltip-caret.position-right{border-top:7px solid transparent;border-bottom:7px solid transparent;border-right:7px solid #fff}.ngx-charts-tooltip-content.type-popover .tooltip-caret.position-bottom{border-left:7px solid transparent;border-right:7px solid transparent;border-bottom:7px solid #fff}.ngx-charts-tooltip-content.type-tooltip{color:#fff;background:#000000bf;font-size:12px;padding:0 10px;text-align:center;pointer-events:auto}.ngx-charts-tooltip-content.type-tooltip .tooltip-caret.position-left{border-top:7px solid transparent;border-bottom:7px solid transparent;border-left:7px solid rgba(0,0,0,.75)}.ngx-charts-tooltip-content.type-tooltip .tooltip-caret.position-top{border-left:7px solid transparent;border-right:7px solid transparent;border-top:7px solid rgba(0,0,0,.75)}.ngx-charts-tooltip-content.type-tooltip .tooltip-caret.position-right{border-top:7px solid transparent;border-bottom:7px solid transparent;border-right:7px solid rgba(0,0,0,.75)}.ngx-charts-tooltip-content.type-tooltip .tooltip-caret.position-bottom{border-left:7px solid transparent;border-right:7px solid transparent;border-bottom:7px solid rgba(0,0,0,.75)}.ngx-charts-tooltip-content .tooltip-label{display:block;line-height:1em;padding:8px 5px 5px;font-size:1em}.ngx-charts-tooltip-content .tooltip-val{display:block;font-size:1.3em;line-height:1em;padding:0 5px 8px}.ngx-charts-tooltip-content .tooltip-caret{position:absolute;z-index:5001;width:0;height:0}.ngx-charts-tooltip-content.position-right{transform:translate3d(10px,0,0)}.ngx-charts-tooltip-content.position-left{transform:translate3d(-10px,0,0)}.ngx-charts-tooltip-content.position-top{transform:translate3d(0,-10px,0)}.ngx-charts-tooltip-content.position-bottom{transform:translate3d(0,10px,0)}.ngx-charts-tooltip-content.animate{opacity:1;transition:opacity .3s,transform .3s;transform:translateZ(0);pointer-events:auto}.area-tooltip-container{padding:5px 0;pointer-events:none}.tooltip-item{text-align:left;line-height:1.2em;padding:5px 0}.tooltip-item .tooltip-item-color{display:inline-block;height:12px;width:12px;margin-right:5px;color:#5b646b;border-radius:3px}
`],encapsulation:2})}}return oD([YW(100)],n.prototype,"onWindowResize",null),n})(),Uw=class{constructor(e){this.injectionService=e,this.defaults={},this.components=new Map}getByType(e=this.type){return this.components.get(e)}create(e){return this.createByType(this.type,e)}createByType(e,t){t=this.assignDefaults(t);let i=this.injectComponent(e,t);return this.register(e,i),i}destroy(e){let t=this.components.get(e.componentType);if(t&&t.length){let i=t.indexOf(e);i>-1&&(t[i].destroy(),t.splice(i,1))}}destroyAll(){this.destroyByType(this.type)}destroyByType(e){let t=this.components.get(e);if(t&&t.length){let i=t.length-1;for(;i>=0;)this.destroy(t[i--])}}injectComponent(e,t){return this.injectionService.appendComponent(e,t)}assignDefaults(e){let t=P({},this.defaults.inputs),i=P({},this.defaults.outputs);return!e.inputs&&!e.outputs&&(e={inputs:e}),t&&(e.inputs=P(P({},t),e.inputs)),i&&(e.outputs=P(P({},i),e.outputs)),e}register(e,t){this.components.has(e)||this.components.set(e,[]),this.components.get(e).push(t)}};function XW(n){return n.element}var w2=(()=>{class n{static{this.globalRootViewContainer=null}static setGlobalRootViewContainer(t){n.globalRootViewContainer=t}constructor(t,i,r){this.applicationRef=t,this.componentFactoryResolver=i,this.injector=r}getRootViewContainer(){if(this._container)return this._container;if(n.globalRootViewContainer)return n.globalRootViewContainer;if(this.applicationRef.components.length)return this.applicationRef.components[0];throw new Error("View Container not found! ngUpgrade needs to manually set this via setRootViewContainer or setGlobalRootViewContainer.")}setRootViewContainer(t){this._container=t}getComponentRootNode(t){return XW(t)?t.element.nativeElement:t.hostView&&t.hostView.rootNodes.length>0?t.hostView.rootNodes[0]:t.location.nativeElement}getRootViewContainerNode(t){return this.getComponentRootNode(t)}projectComponentBindings(t,i){if(i){if(i.inputs!==void 0){let r=Object.getOwnPropertyNames(i.inputs);for(let s of r)t.instance[s]=i.inputs[s]}if(i.outputs!==void 0){let r=Object.getOwnPropertyNames(i.outputs);for(let s of r)t.instance[s]=i.outputs[s]}}return t}appendComponent(t,i={},r){r||(r=this.getRootViewContainer());let s=this.getComponentRootNode(r),o=new Qm(s,this.componentFactoryResolver,this.applicationRef,this.injector),a=new Cd(t),l=o.attach(a);return this.projectComponentBindings(l,i),l}static{this.\u0275fac=function(i){return new(i||n)($(ir),$(qs),$(Nn))}}static{this.\u0275prov=H({token:n,factory:n.\u0275fac})}}return n})(),qw=(()=>{class n extends Uw{constructor(t){super(t),this.type=QW}static{this.\u0275fac=function(i){return new(i||n)($(w2))}}static{this.\u0275prov=H({token:n,factory:n.\u0275fac})}}return n})(),jr=function(n){return n.Right="right",n.Below="below",n}(jr||{}),Wd=function(n){return n.ScaleLegend="scaleLegend",n.Legend="legend",n}(Wd||{}),lt=function(n){return n.Time="time",n.Linear="linear",n.Ordinal="ordinal",n.Quantile="quantile",n}(lt||{});function Qd(n){return n instanceof Date?n=n.toLocaleDateString():n=n.toLocaleString(),n}function S2(n){return n.toLocaleString().replace(/[&'`"<>]/g,e=>({"&":"&amp;","'":"&#x27;","`":"&#x60;",'"':"&quot;","<":"&lt;",">":"&gt;"})[e])}var ZW=(()=>{class n{constructor(){this.isActive=!1,this.select=new oe,this.activate=new oe,this.deactivate=new oe,this.toggle=new oe}get trimmedLabel(){return this.formattedLabel||"(empty)"}onMouseEnter(){this.activate.emit({name:this.label})}onMouseLeave(){this.deactivate.emit({name:this.label})}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275cmp=A({type:n,selectors:[["ngx-charts-legend-entry"]],hostBindings:function(i,r){i&1&&E("mouseenter",function(){return r.onMouseEnter()})("mouseleave",function(){return r.onMouseLeave()})},inputs:{color:"color",label:"label",formattedLabel:"formattedLabel",isActive:"isActive"},outputs:{select:"select",activate:"activate",deactivate:"deactivate",toggle:"toggle"},decls:4,vars:6,consts:[["tabindex","-1",3,"click","title"],[1,"legend-label-color",3,"click"],[1,"legend-label-text"]],template:function(i,r){i&1&&(h(0,"span",0),E("click",function(){return r.select.emit(r.formattedLabel)}),h(1,"span",1),E("click",function(){return r.toggle.emit(r.formattedLabel)}),d(),h(2,"span",2),v(3),d()()),i&2&&(Xn("active",r.isActive),y("title",r.formattedLabel),g(),Qn("background-color",r.color),g(2),j(" ",r.trimmedLabel," "))},encapsulation:2,changeDetection:0})}}return n})(),KW=(()=>{class n{constructor(t){this.cd=t,this.horizontal=!1,this.labelClick=new oe,this.labelActivate=new oe,this.labelDeactivate=new oe,this.legendEntries=[]}ngOnChanges(t){this.update()}update(){this.cd.markForCheck(),this.legendEntries=this.getLegendEntries()}getLegendEntries(){let t=[];for(let i of this.data){let r=Qd(i);t.findIndex(o=>o.label===r)===-1&&t.push({label:i,formattedLabel:r,color:this.colors.getColor(i)})}return t}isActive(t){return this.activeEntries?this.activeEntries.find(r=>t.label===r.name)!==void 0:!1}activate(t){this.labelActivate.emit(t)}deactivate(t){this.labelDeactivate.emit(t)}trackBy(t,i){return i.label}static{this.\u0275fac=function(i){return new(i||n)(C(fi))}}static{this.\u0275cmp=A({type:n,selectors:[["ngx-charts-legend"]],inputs:{data:"data",title:"title",colors:"colors",height:"height",width:"width",activeEntries:"activeEntries",horizontal:"horizontal"},outputs:{labelClick:"labelClick",labelActivate:"labelActivate",labelDeactivate:"labelDeactivate"},features:[Ge],decls:5,vars:9,consts:[["class","legend-title",4,"ngIf"],[1,"legend-wrap"],[1,"legend-labels"],["class","legend-label",4,"ngFor","ngForOf","ngForTrackBy"],[1,"legend-title"],[1,"legend-title-text"],[1,"legend-label"],[3,"select","activate","deactivate","label","formattedLabel","color","isActive"]],template:function(i,r){i&1&&(h(0,"div"),T(1,Rq,3,1,"header",0),h(2,"div",1)(3,"ul",2),T(4,Oq,2,4,"li",3),d()()()),i&2&&(Qn("width",r.width,"px"),g(),y("ngIf",(r.title==null?null:r.title.length)>0),g(2),Qn("max-height",r.height-45,"px"),Xn("horizontal-legend",r.horizontal),g(),y("ngForOf",r.legendEntries)("ngForTrackBy",r.trackBy))},dependencies:[rn,Ce,ZW],styles:[`.chart-legend{display:inline-block;padding:0;width:auto!important}.chart-legend .legend-title{white-space:nowrap;overflow:hidden;margin-left:10px;margin-bottom:5px;font-size:14px;font-weight:700}.chart-legend ul,.chart-legend li{padding:0;margin:0;list-style:none}.chart-legend .horizontal-legend li{display:inline-block}.chart-legend .legend-wrap{width:calc(100% - 10px)}.chart-legend .legend-labels{line-height:85%;list-style:none;text-align:left;float:left;width:100%;border-radius:3px;overflow-y:auto;overflow-x:hidden;white-space:nowrap;background:#0000000d}.chart-legend .legend-label{cursor:pointer;font-size:90%;margin:8px;color:#afb7c8}.chart-legend .legend-label:hover{color:#000;-webkit-transition:.2s;-moz-transition:.2s;transition:.2s}.chart-legend .legend-label .active .legend-label-text{color:#000}.chart-legend .legend-label-color{display:inline-block;height:15px;width:15px;margin-right:5px;color:#5b646b;border-radius:3px}.chart-legend .legend-label-text{display:inline-block;vertical-align:top;line-height:15px;font-size:12px;width:calc(100% - 20px);text-overflow:ellipsis;white-space:nowrap;overflow:hidden}.chart-legend .legend-title-text{vertical-align:bottom;display:inline-block;line-height:16px;overflow:hidden;white-space:nowrap;text-overflow:ellipsis}
`],encapsulation:2,changeDetection:0})}}return n})(),JW=(()=>{class n{constructor(){this.horizontal=!1}ngOnChanges(t){let i=this.gradientString(this.colors.range(),this.colors.domain()),r=this.horizontal?"right":"bottom";this.gradient=`linear-gradient(to ${r}, ${i})`}gradientString(t,i){i.push(1);let r=[];return t.reverse().forEach((s,o)=>{r.push(`${s} ${Math.round(i[o]*100)}%`)}),r.join(", ")}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275cmp=A({type:n,selectors:[["ngx-charts-scale-legend"]],inputs:{valueRange:"valueRange",colors:"colors",height:"height",width:"width",horizontal:"horizontal"},features:[Ge],decls:8,vars:10,consts:[[1,"scale-legend"],[1,"scale-legend-label"],[1,"scale-legend-wrap"]],template:function(i,r){i&1&&(h(0,"div",0)(1,"div",1)(2,"span"),v(3),d()(),x(4,"div",2),h(5,"div",1)(6,"span"),v(7),d()()()),i&2&&(Qn("height",r.horizontal?void 0:r.height,"px")("width",r.width,"px"),Xn("horizontal-legend",r.horizontal),g(3),ae(r.valueRange[1].toLocaleString()),g(),Qn("background",r.gradient),g(3),ae(r.valueRange[0].toLocaleString()))},styles:[`.chart-legend{display:inline-block;padding:0;width:auto!important}.chart-legend .scale-legend{text-align:center;display:flex;flex-direction:column}.chart-legend .scale-legend-wrap{display:inline-block;flex:1;width:30px;border-radius:5px;margin:0 auto}.chart-legend .scale-legend-label{font-size:12px}.chart-legend .horizontal-legend.scale-legend{flex-direction:row}.chart-legend .horizontal-legend .scale-legend-wrap{width:auto;height:30px;margin:0 16px}
`],encapsulation:2,changeDetection:0})}}return n})(),E2=(()=>{class n{constructor(){this.showLegend=!1,this.animations=!0,this.legendLabelClick=new oe,this.legendLabelActivate=new oe,this.legendLabelDeactivate=new oe,this.LegendPosition=jr,this.LegendType=Wd}ngOnChanges(t){this.update()}update(){let t=0;this.showLegend&&(this.legendType=this.getLegendType(),(!this.legendOptions||this.legendOptions.position===jr.Right)&&(this.legendType===Wd.ScaleLegend?t=1:t=2));let i=12-t;this.chartWidth=Math.floor(this.view[0]*i/12),this.legendWidth=!this.legendOptions||this.legendOptions.position===jr.Right?Math.floor(this.view[0]*t/12):this.chartWidth}getLegendType(){return this.legendOptions.scaleType===lt.Linear?Wd.ScaleLegend:Wd.Legend}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275cmp=A({type:n,selectors:[["ngx-charts-chart"]],inputs:{view:"view",showLegend:"showLegend",legendOptions:"legendOptions",legendType:"legendType",activeEntries:"activeEntries",animations:"animations"},outputs:{legendLabelClick:"legendLabelClick",legendLabelActivate:"legendLabelActivate",legendLabelDeactivate:"legendLabelDeactivate"},features:[cn([qw]),Ge],ngContentSelectors:Lq,decls:5,vars:8,consts:[[1,"ngx-charts-outer"],[1,"ngx-charts"],["class","chart-legend",3,"horizontal","valueRange","colors","height","width",4,"ngIf"],["class","chart-legend",3,"horizontal","data","title","colors","height","width","activeEntries","labelClick","labelActivate","labelDeactivate",4,"ngIf"],[1,"chart-legend",3,"horizontal","valueRange","colors","height","width"],[1,"chart-legend",3,"labelClick","labelActivate","labelDeactivate","horizontal","data","title","colors","height","width","activeEntries"]],template:function(i,r){i&1&&(nr(),h(0,"div",0),ee(),h(1,"svg",1),pi(2),d(),T(3,Nq,1,5,"ngx-charts-scale-legend",2)(4,Fq,1,7,"ngx-charts-legend",3),d()),i&2&&(Qn("width",r.view[0],"px")("height",r.view[1],"px"),g(),Me("width",r.chartWidth)("height",r.view[1]),g(2),y("ngIf",r.showLegend&&r.legendType===r.LegendType.ScaleLegend),g(),y("ngIf",r.showLegend&&r.legendType===r.LegendType.Legend))},dependencies:[Ce,KW,JW],encapsulation:2,changeDetection:0})}}return n})(),e7=(()=>{class n{constructor(t,i){this.element=t,this.zone=i,this.visible=new oe,this.isVisible=!1,this.runCheck()}destroy(){clearTimeout(this.timeout)}onVisibilityChange(){this.zone.run(()=>{this.isVisible=!0,this.visible.emit(!0)})}runCheck(){let t=()=>{if(!this.element)return;let{offsetHeight:i,offsetWidth:r}=this.element.nativeElement;i&&r?(clearTimeout(this.timeout),this.onVisibilityChange()):(clearTimeout(this.timeout),this.zone.runOutsideAngular(()=>{this.timeout=setTimeout(()=>t(),100)}))};this.zone.runOutsideAngular(()=>{this.timeout=setTimeout(()=>t())})}static{this.\u0275fac=function(i){return new(i||n)(C(rt),C(Ke))}}static{this.\u0275dir=Ue({type:n,selectors:[["visibility-observer"]],outputs:{visible:"visible"}})}}return n})();function h2(n){return toString.call(n)==="[object Date]"}var D2=(()=>{class n{constructor(t,i,r,s){this.chartElement=t,this.zone=i,this.cd=r,this.platformId=s,this.scheme="cool",this.schemeType=lt.Ordinal,this.animations=!0,this.select=new oe}ngOnInit(){fs(this.platformId)&&(this.animations=!1)}ngAfterViewInit(){this.bindWindowResizeEvent(),this.visibilityObserver=new e7(this.chartElement,this.zone),this.visibilityObserver.visible.subscribe(this.update.bind(this))}ngOnDestroy(){this.unbindEvents(),this.visibilityObserver&&(this.visibilityObserver.visible.unsubscribe(),this.visibilityObserver.destroy())}ngOnChanges(t){this.update()}update(){if(this.results?this.results=this.cloneData(this.results):this.results=[],this.view)this.width=this.view[0],this.height=this.view[1];else{let t=this.getContainerDims();t&&(this.width=t.width,this.height=t.height)}this.width||(this.width=600),this.height||(this.height=400),this.width=Math.floor(this.width),this.height=Math.floor(this.height),this.cd&&this.cd.markForCheck()}getContainerDims(){let t,i,r=this.chartElement.nativeElement;if(to(this.platformId)&&r.parentNode!==null){let s=r.parentNode.getBoundingClientRect();t=s.width,i=s.height}return t&&i?{width:t,height:i}:null}formatDates(){for(let t=0;t<this.results.length;t++){let i=this.results[t];if(i.label=i.name,h2(i.label)&&(i.label=i.label.toLocaleDateString()),i.series)for(let r=0;r<i.series.length;r++){let s=i.series[r];s.label=s.name,h2(s.label)&&(s.label=s.label.toLocaleDateString())}}}unbindEvents(){this.resizeSubscription&&this.resizeSubscription.unsubscribe()}bindWindowResizeEvent(){if(!to(this.platformId))return;let i=Zc(window,"resize").pipe(ln(200)).subscribe(r=>{this.update(),this.cd&&this.cd.markForCheck()});this.resizeSubscription=i}cloneData(t){let i=[];for(let r of t){let s={};if(r.name!==void 0&&(s.name=r.name),r.value!==void 0&&(s.value=r.value),r.series!==void 0){s.series=[];for(let o of r.series){let a=Object.assign({},o);s.series.push(a)}}r.extra!==void 0&&(s.extra=JSON.parse(JSON.stringify(r.extra))),r.source!==void 0&&(s.source=r.source),r.target!==void 0&&(s.target=r.target),i.push(s)}return i}static{this.\u0275fac=function(i){return new(i||n)(C(rt),C(Ke),C(fi),C(xn))}}static{this.\u0275cmp=A({type:n,selectors:[["base-chart"]],inputs:{results:"results",view:"view",scheme:"scheme",schemeType:"schemeType",customColors:"customColors",animations:"animations"},outputs:{select:"select"},features:[Ge],decls:1,vars:0,template:function(i,r){i&1&&x(0,"div")},encapsulation:2})}}return n})(),Tn=function(n){return n.Top="top",n.Bottom="bottom",n.Left="left",n.Right="right",n}(Tn||{}),T2=(()=>{class n{constructor(t){this.textHeight=25,this.margin=5,this.element=t.nativeElement}ngOnChanges(t){this.update()}update(){switch(this.strokeWidth="0.01",this.textAnchor="middle",this.transform="",this.orient){case Tn.Top:this.y=this.offset,this.x=this.width/2;break;case Tn.Bottom:this.y=this.offset,this.x=this.width/2;break;case Tn.Left:this.y=-(this.offset+this.textHeight+this.margin),this.x=-this.height/2,this.transform="rotate(270)";break;case Tn.Right:this.y=this.offset+this.margin,this.x=-this.height/2,this.transform="rotate(270)";break;default:}}static{this.\u0275fac=function(i){return new(i||n)(C(rt))}}static{this.\u0275cmp=A({type:n,selectors:[["g","ngx-charts-axis-label",""]],inputs:{orient:"orient",label:"label",offset:"offset",width:"width",height:"height"},features:[Ge],attrs:Pq,decls:2,vars:6,template:function(i,r){i&1&&(ee(),h(0,"text"),v(1),d()),i&2&&(Me("stroke-width",r.strokeWidth)("x",r.x)("y",r.y)("text-anchor",r.textAnchor)("transform",r.transform),g(),j(" ",r.label," "))},encapsulation:2,changeDetection:0})}}return n})();function Ww(n,e=16){return typeof n!="string"?typeof n=="number"?n+"":"":(n=n.trim(),n.length<=e?n:`${n.slice(0,e)}...`)}function A2(n,e){if(n.length>e){let t=[],i=Math.floor(n.length/e);for(let r=0;r<n.length;r++)r%i===0&&t.push(n[r]);n=t}return n}function I2(n,e,t){let i=(n||"").toString(),r=[];if(/\s/.test(i))r=i.split(/\s+/).reduce((s,o)=>{let a=(s.pop()||"")+" ";return a.length+o.length>e?[...s,a.trim(),o.trim()]:[...s,a+o]},[]);else{let s=0;for(;s<i.length;)r.push(i.substring(s,s+e)),s+=e}return r.length>t&&(r=r.splice(0,t),r[r.length-1]+="..."),r}var hr=function(n){return n.Start="start",n.Middle="middle",n.End="end",n}(hr||{}),p2=(()=>{class n{get isWrapTicksSupported(){return this.wrapTicks&&this.scale.step}constructor(t){this.platformId=t,this.tickArguments=[5],this.tickStroke="#ccc",this.trimTicks=!0,this.maxTickLength=16,this.showGridLines=!1,this.rotateTicks=!0,this.wrapTicks=!1,this.dimensionsChanged=new oe,this.verticalSpacing=20,this.rotateLabels=!1,this.innerTickSize=6,this.outerTickSize=6,this.tickPadding=3,this.textAnchor=hr.Middle,this.maxTicksLength=0,this.maxAllowedLength=16,this.height=0,this.approxHeight=10,this.maxPossibleLengthForTickIfWrapped=16}ngOnChanges(t){this.update()}ngAfterViewInit(){setTimeout(()=>this.updateDims())}updateDims(){if(!to(this.platformId)){this.dimensionsChanged.emit({height:this.approxHeight});return}let t=parseInt(this.ticksElement.nativeElement.getBoundingClientRect().height,10);t!==this.height&&(this.height=t,this.dimensionsChanged.emit({height:this.height}),setTimeout(()=>this.updateDims()))}update(){let t=this.scale;this.ticks=this.getTicks(),this.tickFormatting?this.tickFormat=this.tickFormatting:t.tickFormat?this.tickFormat=t.tickFormat.apply(t,this.tickArguments):this.tickFormat=function(r){return r.constructor.name==="Date"?r.toLocaleDateString():r.toLocaleString()};let i=this.rotateTicks?this.getRotationAngle(this.ticks):null;this.adjustedScale=this.scale.bandwidth?function(r){return this.scale(r)+this.scale.bandwidth()*.5}:this.scale,this.textTransform="",i&&i!==0?(this.textTransform=`rotate(${i})`,this.textAnchor=hr.End,this.verticalSpacing=10):this.textAnchor=hr.Middle,setTimeout(()=>this.updateDims())}getRotationAngle(t){let i=0;this.maxTicksLength=0;for(let p=0;p<t.length;p++){let m=this.tickFormat(t[p]).toString(),f=m.length;this.trimTicks&&(f=this.tickTrim(m).length),f>this.maxTicksLength&&(this.maxTicksLength=f)}let r=Math.min(this.maxTicksLength,this.maxAllowedLength),s=7,o=r*s,a=o,l=Math.floor(this.width/t.length);for(;a>l&&i>-90;)i-=30,a=Math.cos(i*(Math.PI/180))*o;let c=14;if(this.isWrapTicksSupported){let p=this.ticks.reduce((f,_)=>_.length>f.length?_:f,"");c=14*(this.tickChunks(p).length||1),this.maxPossibleLengthForTickIfWrapped=this.getMaxPossibleLengthForTick(p)}let u=i!==0?Math.max(Math.abs(Math.sin(i*Math.PI/180))*this.maxTickLength*s,10):c;return this.approxHeight=Math.min(u,200),i}getTicks(){let t,i=this.getMaxTicks(20),r=this.getMaxTicks(100);return this.tickValues?t=this.tickValues:this.scale.ticks?t=this.scale.ticks.apply(this.scale,[r]):(t=this.scale.domain(),t=A2(t,i)),t}getMaxTicks(t){return Math.floor(this.width/t)}tickTransform(t){return"translate("+this.adjustedScale(t)+","+this.verticalSpacing+")"}gridLineTransform(){return`translate(0,${-this.verticalSpacing-5})`}tickTrim(t){return this.trimTicks?Ww(t,this.maxTickLength):t}getMaxPossibleLengthForTick(t){if(this.scale.bandwidth){let r=Math.floor(this.scale.bandwidth()/7),s=t.slice(0,r);return Math.max(s.length,this.maxTickLength)}return this.maxTickLength}tickChunks(t){if(t.toString().length>this.maxTickLength&&this.scale.bandwidth){let r=this.rotateTicks?Math.floor(this.scale.step()/14):5;if(r<=1)return[this.tickTrim(t)];let s=Math.max(this.maxPossibleLengthForTickIfWrapped,this.maxTickLength);return to(this.platformId)||(s=Math.floor(Math.min(this.approxHeight/5,Math.max(this.maxPossibleLengthForTickIfWrapped,this.maxTickLength)))),r=Math.min(r,5),I2(t,s,r<1?1:r)}return[this.tickTrim(t)]}static{this.\u0275fac=function(i){return new(i||n)(C(xn))}}static{this.\u0275cmp=A({type:n,selectors:[["g","ngx-charts-x-axis-ticks",""]],viewQuery:function(i,r){if(i&1&&Ct(_2,5),i&2){let s;Te(s=Ae())&&(r.ticksElement=s.first)}},inputs:{scale:"scale",orient:"orient",tickArguments:"tickArguments",tickValues:"tickValues",tickStroke:"tickStroke",trimTicks:"trimTicks",maxTickLength:"maxTickLength",tickFormatting:"tickFormatting",showGridLines:"showGridLines",gridLineHeight:"gridLineHeight",width:"width",rotateTicks:"rotateTicks",wrapTicks:"wrapTicks"},outputs:{dimensionsChanged:"dimensionsChanged"},features:[Ge],attrs:Vq,decls:4,vars:2,consts:[["ticksel",""],["tmplMultilineTick",""],["tmplSinglelineTick",""],["class","tick",4,"ngFor","ngForOf"],[4,"ngFor","ngForOf"],[1,"tick"],[4,"ngIf"],["stroke-width","0.01","font-size","12px"],[4,"ngIf","ngIfThen","ngIfElse"],["x","0",4,"ngFor","ngForOf"],["x","0"],["y2","0",1,"gridline-path","gridline-path-vertical"]],template:function(i,r){i&1&&(ee(),h(0,"g",null,0),T(2,Gq,2,2,"g",3),d(),T(3,Wq,2,2,"g",4)),i&2&&(g(2),y("ngForOf",r.ticks),g(),y("ngForOf",r.ticks))},dependencies:[rn,Ce],encapsulation:2,changeDetection:0})}}return n})(),t7=(()=>{class n{constructor(){this.rotateTicks=!0,this.showGridLines=!1,this.xOrient=Tn.Bottom,this.xAxisOffset=0,this.wrapTicks=!1,this.dimensionsChanged=new oe,this.xAxisClassName="x axis",this.labelOffset=0,this.fill="none",this.stroke="stroke",this.tickStroke="#ccc",this.strokeWidth="none",this.padding=5,this.orientation=Tn}ngOnChanges(t){this.update()}update(){this.transform=`translate(0,${this.xAxisOffset+this.padding+this.dims.height})`,typeof this.xAxisTickCount<"u"&&(this.tickArguments=[this.xAxisTickCount])}emitTicksHeight({height:t}){let i=t+25+5;i!==this.labelOffset&&(this.labelOffset=i,setTimeout(()=>{this.dimensionsChanged.emit({height:t})},0))}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275cmp=A({type:n,selectors:[["g","ngx-charts-x-axis",""]],viewQuery:function(i,r){if(i&1&&Ct(p2,5),i&2){let s;Te(s=Ae())&&(r.ticksComponent=s.first)}},inputs:{xScale:"xScale",dims:"dims",trimTicks:"trimTicks",rotateTicks:"rotateTicks",maxTickLength:"maxTickLength",tickFormatting:"tickFormatting",showGridLines:"showGridLines",showLabel:"showLabel",labelText:"labelText",ticks:"ticks",xAxisTickCount:"xAxisTickCount",xOrient:"xOrient",xAxisOffset:"xAxisOffset",wrapTicks:"wrapTicks"},outputs:{dimensionsChanged:"dimensionsChanged"},features:[Ge],attrs:Yq,decls:3,vars:4,consts:[["ngx-charts-x-axis-ticks","",3,"trimTicks","rotateTicks","maxTickLength","tickFormatting","tickArguments","tickStroke","scale","orient","showGridLines","gridLineHeight","width","tickValues","wrapTicks","dimensionsChanged",4,"ngIf"],["ngx-charts-axis-label","",3,"label","offset","orient","height","width",4,"ngIf"],["ngx-charts-x-axis-ticks","",3,"dimensionsChanged","trimTicks","rotateTicks","maxTickLength","tickFormatting","tickArguments","tickStroke","scale","orient","showGridLines","gridLineHeight","width","tickValues","wrapTicks"],["ngx-charts-axis-label","",3,"label","offset","orient","height","width"]],template:function(i,r){i&1&&(ee(),h(0,"g"),T(1,Qq,1,13,"g",0)(2,Xq,1,5,"g",1),d()),i&2&&(Me("class",r.xAxisClassName)("transform",r.transform),g(),y("ngIf",r.xScale),g(),y("ngIf",r.showLabel))},dependencies:[Ce,T2,p2],encapsulation:2,changeDetection:0})}}return n})();function So(n,e,t,i,r,[s,o,a,l]){let c="";return t=Math.floor(t),i=Math.floor(i),t=t===0?1:t,i=i===0?1:i,c=`M${[n+r,e]}`,c+=`h${t-2*r}`,o?c+=`a${[r,r]} 0 0 1 ${[r,r]}`:c+=`h${r}v${r}`,c+=`v${i-2*r}`,l?c+=`a${[r,r]} 0 0 1 ${[-r,r]}`:c+=`v${r}h${-r}`,c+=`h${2*r-t}`,a?c+=`a${[r,r]} 0 0 1 ${[-r,-r]}`:c+=`h${-r}v${-r}`,c+=`v${2*r-i}`,s?c+=`a${[r,r]} 0 0 1 ${[r,-r]}`:c+=`v${-r}h${r}`,c+="z",c}var f2=(()=>{class n{constructor(t){this.platformId=t,this.tickArguments=[5],this.tickStroke="#ccc",this.trimTicks=!0,this.maxTickLength=16,this.showGridLines=!1,this.showRefLabels=!1,this.showRefLines=!1,this.wrapTicks=!1,this.dimensionsChanged=new oe,this.innerTickSize=6,this.tickPadding=3,this.verticalSpacing=20,this.textAnchor=hr.Middle,this.width=0,this.outerTickSize=6,this.rotateLabels=!1,this.referenceLineLength=0,this.Orientation=Tn}ngOnChanges(t){this.update()}ngAfterViewInit(){setTimeout(()=>this.updateDims())}updateDims(){if(!to(this.platformId)){this.width=this.getApproximateAxisWidth(),this.dimensionsChanged.emit({width:this.width});return}let t=parseInt(this.ticksElement.nativeElement.getBoundingClientRect().width,10);t!==this.width&&(this.width=t,this.dimensionsChanged.emit({width:t}),setTimeout(()=>this.updateDims()))}update(){let t=this.scale,i=this.orient===Tn.Top||this.orient===Tn.Right?-1:1;switch(this.tickSpacing=Math.max(this.innerTickSize,0)+this.tickPadding,this.ticks=this.getTicks(),this.tickFormatting?this.tickFormat=this.tickFormatting:t.tickFormat?this.tickFormat=t.tickFormat.apply(t,this.tickArguments):this.tickFormat=function(r){return r.constructor.name==="Date"?r.toLocaleDateString():r.toLocaleString()},this.adjustedScale=t.bandwidth?r=>{let s=t(r)+t.bandwidth()*.5;if(this.wrapTicks&&r.toString().length>this.maxTickLength){let o=this.tickChunks(r).length;if(o===1)return s;let a=t.bandwidth(),l=o*8,c=a*.5-l*.5;return t(r)+c}return s}:t,this.showRefLines&&this.referenceLines&&this.setReferencelines(),this.orient){case Tn.Top:this.transform=function(r){return"translate("+this.adjustedScale(r)+",0)"},this.textAnchor=hr.Middle,this.y2=this.innerTickSize*i,this.y1=this.tickSpacing*i,this.dy=i<0?"0em":".71em";break;case Tn.Bottom:this.transform=function(r){return"translate("+this.adjustedScale(r)+",0)"},this.textAnchor=hr.Middle,this.y2=this.innerTickSize*i,this.y1=this.tickSpacing*i,this.dy=i<0?"0em":".71em";break;case Tn.Left:this.transform=function(r){return"translate(0,"+this.adjustedScale(r)+")"},this.textAnchor=hr.End,this.x2=this.innerTickSize*-i,this.x1=this.tickSpacing*-i,this.dy=".32em";break;case Tn.Right:this.transform=function(r){return"translate(0,"+this.adjustedScale(r)+")"},this.textAnchor=hr.Start,this.x2=this.innerTickSize*-i,this.x1=this.tickSpacing*-i,this.dy=".32em";break;default:}setTimeout(()=>this.updateDims())}setReferencelines(){this.refMin=this.adjustedScale(Math.min.apply(null,this.referenceLines.map(t=>t.value))),this.refMax=this.adjustedScale(Math.max.apply(null,this.referenceLines.map(t=>t.value))),this.referenceLineLength=this.referenceLines.length,this.referenceAreaPath=So(0,this.refMax,this.gridLineWidth,this.refMin-this.refMax,0,[!1,!1,!1,!1])}getTicks(){let t,i=this.getMaxTicks(20),r=this.getMaxTicks(50);return this.tickValues?t=this.tickValues:this.scale.ticks?t=this.scale.ticks.apply(this.scale,[r]):(t=this.scale.domain(),t=A2(t,i)),t}getMaxTicks(t){return Math.floor(this.height/t)}tickTransform(t){return`translate(${this.adjustedScale(t)},${this.verticalSpacing})`}gridLineTransform(){return"translate(5,0)"}tickTrim(t){return this.trimTicks?Ww(t,this.maxTickLength):t}getApproximateAxisWidth(){return Math.max(...this.ticks.map(r=>this.tickTrim(this.tickFormat(r)).length))*7}tickChunks(t){if(t.toString().length>this.maxTickLength&&this.scale.bandwidth){let i=this.maxTickLength,r=Math.floor(this.scale.bandwidth()/15);return r<=1?[this.tickTrim(t)]:I2(t,i,Math.min(r,5))}return[this.tickFormat(t)]}static{this.\u0275fac=function(i){return new(i||n)(C(xn))}}static{this.\u0275cmp=A({type:n,selectors:[["g","ngx-charts-y-axis-ticks",""]],viewQuery:function(i,r){if(i&1&&Ct(_2,5),i&2){let s;Te(s=Ae())&&(r.ticksElement=s.first)}},inputs:{scale:"scale",orient:"orient",tickArguments:"tickArguments",tickValues:"tickValues",tickStroke:"tickStroke",trimTicks:"trimTicks",maxTickLength:"maxTickLength",tickFormatting:"tickFormatting",showGridLines:"showGridLines",gridLineWidth:"gridLineWidth",height:"height",referenceLines:"referenceLines",showRefLabels:"showRefLabels",showRefLines:"showRefLines",wrapTicks:"wrapTicks"},outputs:{dimensionsChanged:"dimensionsChanged"},features:[Ge],attrs:Zq,decls:6,vars:4,consts:[["ticksel",""],["tmplMultilineTick",""],["tmplSinglelineTick",""],["class","tick",4,"ngFor","ngForOf"],["class","reference-area",4,"ngIf"],[4,"ngFor","ngForOf"],[1,"tick"],[4,"ngIf"],["stroke-width","0.01"],[4,"ngIf","ngIfThen","ngIfElse"],[4,"ngIf","ngIfElse"],["x","0",4,"ngFor","ngForOf"],["x","0"],[1,"reference-area"],["class","gridline-path gridline-path-horizontal","x1","0",4,"ngIf"],["x1","0",1,"gridline-path","gridline-path-horizontal"],["x1","0",1,"refline-path","gridline-path-horizontal"],[1,"refline-label"]],template:function(i,r){i&1&&(ee(),h(0,"g",null,0),T(2,sW,2,2,"g",3),d(),T(3,oW,1,2,"path",4)(4,uW,2,2,"g",5)(5,pW,2,1,"g",5)),i&2&&(g(2),y("ngForOf",r.ticks),g(),y("ngIf",r.referenceLineLength>1&&r.refMax&&r.refMin&&r.showRefLines),g(),y("ngForOf",r.ticks),g(),y("ngForOf",r.referenceLines))},dependencies:[rn,Ce],encapsulation:2,changeDetection:0})}}return n})(),n7=(()=>{class n{constructor(){this.showGridLines=!1,this.yOrient=Tn.Left,this.yAxisOffset=0,this.wrapTicks=!1,this.dimensionsChanged=new oe,this.yAxisClassName="y axis",this.labelOffset=15,this.fill="none",this.stroke="#CCC",this.tickStroke="#CCC",this.strokeWidth=1,this.padding=5}ngOnChanges(t){this.update()}update(){this.offset=-(this.yAxisOffset+this.padding),this.yOrient===Tn.Right?(this.labelOffset=65,this.transform=`translate(${this.offset+this.dims.width} , 0)`):this.transform=`translate(${this.offset} , 0)`,this.yAxisTickCount!==void 0&&(this.tickArguments=[this.yAxisTickCount])}emitTicksWidth({width:t}){t!==this.labelOffset&&this.yOrient===Tn.Right?(this.labelOffset=t+this.labelOffset,setTimeout(()=>{this.dimensionsChanged.emit({width:t})},0)):t!==this.labelOffset&&(this.labelOffset=t,setTimeout(()=>{this.dimensionsChanged.emit({width:t})},0))}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275cmp=A({type:n,selectors:[["g","ngx-charts-y-axis",""]],viewQuery:function(i,r){if(i&1&&Ct(f2,5),i&2){let s;Te(s=Ae())&&(r.ticksComponent=s.first)}},inputs:{yScale:"yScale",dims:"dims",trimTicks:"trimTicks",maxTickLength:"maxTickLength",tickFormatting:"tickFormatting",ticks:"ticks",showGridLines:"showGridLines",showLabel:"showLabel",labelText:"labelText",yAxisTickCount:"yAxisTickCount",yOrient:"yOrient",referenceLines:"referenceLines",showRefLines:"showRefLines",showRefLabels:"showRefLabels",yAxisOffset:"yAxisOffset",wrapTicks:"wrapTicks"},outputs:{dimensionsChanged:"dimensionsChanged"},features:[Ge],attrs:fW,decls:3,vars:4,consts:[["ngx-charts-y-axis-ticks","",3,"trimTicks","maxTickLength","tickFormatting","tickArguments","tickValues","tickStroke","scale","orient","showGridLines","gridLineWidth","referenceLines","showRefLines","showRefLabels","height","wrapTicks","dimensionsChanged",4,"ngIf"],["ngx-charts-axis-label","",3,"label","offset","orient","height","width",4,"ngIf"],["ngx-charts-y-axis-ticks","",3,"dimensionsChanged","trimTicks","maxTickLength","tickFormatting","tickArguments","tickValues","tickStroke","scale","orient","showGridLines","gridLineWidth","referenceLines","showRefLines","showRefLabels","height","wrapTicks"],["ngx-charts-axis-label","",3,"label","offset","orient","height","width"]],template:function(i,r){i&1&&(ee(),h(0,"g"),T(1,mW,1,15,"g",0)(2,gW,1,5,"g",1),d()),i&2&&(Me("class",r.yAxisClassName)("transform",r.transform),g(),y("ngIf",r.yScale),g(),y("ngIf",r.showLabel))},dependencies:[Ce,T2,f2],encapsulation:2,changeDetection:0})}}return n})(),m2=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=Xe({type:n})}static{this.\u0275inj=Qe({imports:[Xt]})}}return n})(),Lg=function(n){return n.popover="popover",n.tooltip="tooltip",n}(Lg||{}),hc=function(n){return n[n.all="all"]="all",n[n.focus="focus"]="focus",n[n.mouseover="mouseover"]="mouseover",n}(hc||{}),M2=(()=>{class n{get listensForFocus(){return this.tooltipShowEvent===hc.all||this.tooltipShowEvent===hc.focus}get listensForHover(){return this.tooltipShowEvent===hc.all||this.tooltipShowEvent===hc.mouseover}constructor(t,i,r){this.tooltipService=t,this.viewContainerRef=i,this.renderer=r,this.tooltipCssClass="",this.tooltipAppendToBody=!0,this.tooltipSpacing=10,this.tooltipDisabled=!1,this.tooltipShowCaret=!0,this.tooltipPlacement=$e.Top,this.tooltipAlignment=$e.Center,this.tooltipType=Lg.popover,this.tooltipCloseOnClickOutside=!0,this.tooltipCloseOnMouseLeave=!0,this.tooltipHideTimeout=300,this.tooltipShowTimeout=100,this.tooltipShowEvent=hc.all,this.tooltipImmediateExit=!1,this.show=new oe,this.hide=new oe}ngOnDestroy(){this.hideTooltip(!0)}onFocus(){this.listensForFocus&&this.showTooltip()}onBlur(){this.listensForFocus&&this.hideTooltip(!0)}onMouseEnter(){this.listensForHover&&this.showTooltip()}onMouseLeave(t){if(this.listensForHover&&this.tooltipCloseOnMouseLeave){if(clearTimeout(this.timeout),this.component&&this.component.instance.element.nativeElement.contains(t))return;this.hideTooltip(this.tooltipImmediateExit)}}onMouseClick(){this.listensForHover&&this.hideTooltip(!0)}showTooltip(t){if(this.component||this.tooltipDisabled)return;let i=t?0:this.tooltipShowTimeout+(navigator.userAgent.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/)?400:0);clearTimeout(this.timeout),this.timeout=setTimeout(()=>{this.tooltipService.destroyAll();let r=this.createBoundOptions();this.component=this.tooltipService.create(r),setTimeout(()=>{this.component&&this.addHideListeners(this.component.instance.element.nativeElement)},10),this.show.emit(!0)},i)}addHideListeners(t){this.mouseEnterContentEvent=this.renderer.listen(t,"mouseenter",()=>{clearTimeout(this.timeout)}),this.tooltipCloseOnMouseLeave&&(this.mouseLeaveContentEvent=this.renderer.listen(t,"mouseleave",()=>{this.hideTooltip(this.tooltipImmediateExit)})),this.tooltipCloseOnClickOutside&&(this.documentClickEvent=this.renderer.listen("window","click",i=>{t.contains(i.target)||this.hideTooltip()}))}hideTooltip(t=!1){if(!this.component)return;let i=()=>{this.mouseLeaveContentEvent&&this.mouseLeaveContentEvent(),this.mouseEnterContentEvent&&this.mouseEnterContentEvent(),this.documentClickEvent&&this.documentClickEvent(),this.hide.emit(!0),this.tooltipService.destroy(this.component),this.component=void 0};clearTimeout(this.timeout),t?i():this.timeout=setTimeout(i,this.tooltipHideTimeout)}createBoundOptions(){return{title:this.tooltipTitle,template:this.tooltipTemplate,host:this.viewContainerRef.element,placement:this.tooltipPlacement,alignment:this.tooltipAlignment,type:this.tooltipType,showCaret:this.tooltipShowCaret,cssClass:this.tooltipCssClass,spacing:this.tooltipSpacing,context:this.tooltipContext}}static{this.\u0275fac=function(i){return new(i||n)(C(qw),C($i),C(It))}}static{this.\u0275dir=Ue({type:n,selectors:[["","ngx-tooltip",""]],hostBindings:function(i,r){i&1&&E("focusin",function(){return r.onFocus()})("blur",function(){return r.onBlur()})("mouseenter",function(){return r.onMouseEnter()})("mouseleave",function(o){return r.onMouseLeave(o.target)})("click",function(){return r.onMouseClick()})},inputs:{tooltipCssClass:"tooltipCssClass",tooltipTitle:"tooltipTitle",tooltipAppendToBody:"tooltipAppendToBody",tooltipSpacing:"tooltipSpacing",tooltipDisabled:"tooltipDisabled",tooltipShowCaret:"tooltipShowCaret",tooltipPlacement:"tooltipPlacement",tooltipAlignment:"tooltipAlignment",tooltipType:"tooltipType",tooltipCloseOnClickOutside:"tooltipCloseOnClickOutside",tooltipCloseOnMouseLeave:"tooltipCloseOnMouseLeave",tooltipHideTimeout:"tooltipHideTimeout",tooltipShowTimeout:"tooltipShowTimeout",tooltipTemplate:"tooltipTemplate",tooltipShowEvent:"tooltipShowEvent",tooltipContext:"tooltipContext",tooltipImmediateExit:"tooltipImmediateExit"},outputs:{show:"show",hide:"hide"}})}}return n})(),g2=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=Xe({type:n})}static{this.\u0275inj=Qe({providers:[w2,qw],imports:[Xt]})}}return n})(),v2={};function Yw(){let n=("0000"+(Math.random()*Math.pow(36,4)<<0).toString(36)).slice(-4);return n=`a${n}`,v2[n]?Yw():(v2[n]=!0,n)}var hn=function(n){return n.Vertical="vertical",n.Horizontal="horizontal",n}(hn||{});var i7=(()=>{class n{constructor(){this.orientation=hn.Vertical}ngOnChanges(t){this.x1="0%",this.x2="0%",this.y1="0%",this.y2="0%",this.orientation===hn.Horizontal?this.x2="100%":this.orientation===hn.Vertical&&(this.y1="100%")}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275cmp=A({type:n,selectors:[["g","ngx-charts-svg-linear-gradient",""]],inputs:{orientation:"orientation",name:"name",stops:"stops"},features:[Ge],attrs:vW,decls:2,vars:6,consts:[[3,"id"],[3,"stop-color","stop-opacity",4,"ngFor","ngForOf"]],template:function(i,r){i&1&&(ee(),h(0,"linearGradient",0),T(1,yW,1,5,"stop",1),d()),i&2&&(y("id",r.name),Me("x1",r.x1)("y1",r.y1)("x2",r.x2)("y2",r.y2),g(),y("ngForOf",r.stops))},dependencies:[rn],encapsulation:2,changeDetection:0})}}return n})();var r7=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275cmp=A({type:n,selectors:[["g","ngx-charts-grid-panel",""]],inputs:{width:"width",height:"height",x:"x",y:"y"},attrs:_W,decls:1,vars:4,consts:[["stroke","none",1,"gridpanel"]],template:function(i,r){i&1&&(ee(),x(0,"rect",0)),i&2&&Me("height",r.height)("width",r.width)("x",r.x)("y",r.y)},encapsulation:2,changeDetection:0})}}return n})(),Rg=function(n){return n.Odd="odd",n.Even="even",n}(Rg||{}),s7=(()=>{class n{ngOnChanges(t){this.update()}update(){this.gridPanels=this.getGridPanels()}getGridPanels(){return this.data.map(t=>{let i,r,s,o,a,l=Rg.Odd;if(this.orient===hn.Vertical){let c=this.xScale(t.name);Number.parseInt((c/this.xScale.step()).toString(),10)%2===1&&(l=Rg.Even),i=this.xScale.bandwidth()*this.xScale.paddingInner(),r=this.xScale.bandwidth()+i,s=this.dims.height,o=this.xScale(t.name)-i/2,a=0}else if(this.orient===hn.Horizontal){let c=this.yScale(t.name);Number.parseInt((c/this.yScale.step()).toString(),10)%2===1&&(l=Rg.Even),i=this.yScale.bandwidth()*this.yScale.paddingInner(),r=this.dims.width,s=this.yScale.bandwidth()+i,o=0,a=this.yScale(t.name)-i/2}return{name:t.name,class:l,height:s,width:r,x:o,y:a}})}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275cmp=A({type:n,selectors:[["g","ngx-charts-grid-panel-series",""]],inputs:{data:"data",dims:"dims",xScale:"xScale",yScale:"yScale",orient:"orient"},features:[Ge],attrs:bW,decls:1,vars:1,consts:[["ngx-charts-grid-panel","",3,"height","width","x","y","grid-panel","odd","even",4,"ngFor","ngForOf"],["ngx-charts-grid-panel","",3,"height","width","x","y"]],template:function(i,r){i&1&&T(0,xW,1,10,"g",0),i&2&&y("ngForOf",r.gridPanels)},dependencies:[rn,r7],encapsulation:2,changeDetection:0})}}return n})(),o7=(()=>{class n{constructor(){this.endOpacity=1,this.cx=0,this.cy=0}get stops(){return this.stopsInput||this.stopsDefault}set stops(t){this.stopsInput=t}ngOnChanges(t){this.r="30%",("color"in t||"startOpacity"in t||"endOpacity"in t)&&(this.stopsDefault=[{offset:0,color:this.color,opacity:this.startOpacity},{offset:100,color:this.color,opacity:this.endOpacity}])}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275cmp=A({type:n,selectors:[["g","ngx-charts-svg-radial-gradient",""]],inputs:{color:"color",name:"name",startOpacity:"startOpacity",endOpacity:"endOpacity",cx:"cx",cy:"cy",stops:"stops"},features:[Ge],attrs:CW,decls:2,vars:5,consts:[["gradientUnits","userSpaceOnUse",3,"id"],[3,"stop-color","stop-opacity",4,"ngFor","ngForOf"]],template:function(i,r){i&1&&(ee(),h(0,"radialGradient",0),T(1,wW,1,5,"stop",1),d()),i&2&&(y("id",r.name),Me("cx",r.cx)("cy",r.cy)("r",r.r),g(),y("ngForOf",r.stops))},dependencies:[rn],encapsulation:2,changeDetection:0})}}return n})();var Gw;typeof window<"u"?Gw=window:typeof global<"u"&&(Gw=global);var jbe=Gw.MouseEvent;var ki=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=Xe({type:n})}static{this.\u0275inj=Qe({imports:[Xt,m2,g2,Xt,m2,g2]})}}return n})();function k2({width:n,height:e,margins:t,showXAxis:i=!1,showYAxis:r=!1,xAxisHeight:s=0,yAxisWidth:o=0,showXLabel:a=!1,showYLabel:l=!1,showLegend:c=!1,legendType:u=lt.Ordinal,legendPosition:p=jr.Right,columns:m=12}){let f=t[3],_=n,w=e-t[0]-t[2];return c&&p===jr.Right&&(u===lt.Ordinal?m-=2:m-=1),_=_*m/12,_=_-t[1]-t[3],i&&(w-=5,w-=s,a&&(w-=30)),r&&(_-=5,_-=o,f+=o,f+=10,l&&(_-=30,f+=30)),_=Math.max(0,_),w=Math.max(0,w),{width:Math.floor(_),height:Math.floor(w),xOffset:Math.floor(f)}}var y2=[{name:"vivid",selectable:!0,group:lt.Ordinal,domain:["#647c8a","#3f51b5","#2196f3","#00b862","#afdf0a","#a7b61a","#f3e562","#ff9800","#ff5722","#ff4514"]},{name:"natural",selectable:!0,group:lt.Ordinal,domain:["#bf9d76","#e99450","#d89f59","#f2dfa7","#a5d7c6","#7794b1","#afafaf","#707160","#ba9383","#d9d5c3"]},{name:"cool",selectable:!0,group:lt.Ordinal,domain:["#a8385d","#7aa3e5","#a27ea8","#aae3f5","#adcded","#a95963","#8796c0","#7ed3ed","#50abcc","#ad6886"]},{name:"fire",selectable:!0,group:lt.Ordinal,domain:["#ff3d00","#bf360c","#ff8f00","#ff6f00","#ff5722","#e65100","#ffca28","#ffab00"]},{name:"solar",selectable:!0,group:lt.Linear,domain:["#fff8e1","#ffecb3","#ffe082","#ffd54f","#ffca28","#ffc107","#ffb300","#ffa000","#ff8f00","#ff6f00"]},{name:"air",selectable:!0,group:lt.Linear,domain:["#e1f5fe","#b3e5fc","#81d4fa","#4fc3f7","#29b6f6","#03a9f4","#039be5","#0288d1","#0277bd","#01579b"]},{name:"aqua",selectable:!0,group:lt.Linear,domain:["#e0f7fa","#b2ebf2","#80deea","#4dd0e1","#26c6da","#00bcd4","#00acc1","#0097a7","#00838f","#006064"]},{name:"flame",selectable:!1,group:lt.Ordinal,domain:["#A10A28","#D3342D","#EF6D49","#FAAD67","#FDDE90","#DBED91","#A9D770","#6CBA67","#2C9653","#146738"]},{name:"ocean",selectable:!1,group:lt.Ordinal,domain:["#1D68FB","#33C0FC","#4AFFFE","#AFFFFF","#FFFC63","#FDBD2D","#FC8A25","#FA4F1E","#FA141B","#BA38D1"]},{name:"forest",selectable:!1,group:lt.Ordinal,domain:["#55C22D","#C1F33D","#3CC099","#AFFFFF","#8CFC9D","#76CFFA","#BA60FB","#EE6490","#C42A1C","#FC9F32"]},{name:"horizon",selectable:!1,group:lt.Ordinal,domain:["#2597FB","#65EBFD","#99FDD0","#FCEE4B","#FEFCFA","#FDD6E3","#FCB1A8","#EF6F7B","#CB96E8","#EFDEE0"]},{name:"neons",selectable:!1,group:lt.Ordinal,domain:["#FF3333","#FF33FF","#CC33FF","#0000FF","#33CCFF","#33FFFF","#33FF66","#CCFF33","#FFCC00","#FF6600"]},{name:"picnic",selectable:!1,group:lt.Ordinal,domain:["#FAC51D","#66BD6D","#FAA026","#29BB9C","#E96B56","#55ACD2","#B7332F","#2C83C9","#9166B8","#92E7E8"]},{name:"night",selectable:!1,group:lt.Ordinal,domain:["#2B1B5A","#501356","#183356","#28203F","#391B3C","#1E2B3C","#120634","#2D0432","#051932","#453080","#75267D","#2C507D","#4B3880","#752F7D","#35547D"]},{name:"nightLights",selectable:!1,group:lt.Ordinal,domain:["#4e31a5","#9c25a7","#3065ab","#57468b","#904497","#46648b","#32118d","#a00fb3","#1052a2","#6e51bd","#b63cc3","#6c97cb","#8671c1","#b455be","#7496c3"]}],Og=class{constructor(e,t,i,r){typeof e=="string"&&(e=y2.find(s=>s.name===e)),this.colorDomain=e.domain,this.scaleType=t,this.domain=i,this.customColors=r,this.scale=this.generateColorScheme(e,t,this.domain)}generateColorScheme(e,t,i){typeof e=="string"&&(e=y2.find(s=>s.name===e));let r;switch(t){case lt.Quantile:r=Ud().range(e.domain).domain(i);break;case lt.Ordinal:r=Sa().range(e.domain).domain(i);break;case lt.Linear:{let s=[...e.domain];s.length===1&&(s.push(s[0]),this.colorDomain=s);let o=lc(0,1,1/s.length);r=Co().range(s).domain(o)}break;default:break}return r}getColor(e){if(e==null)throw new Error("Value can not be null");if(this.scaleType===lt.Linear){let t=Co().domain(this.domain).range([0,1]);return this.scale(t(e))}else{if(typeof this.customColors=="function")return this.customColors(e);let t=e.toString(),i;return this.customColors&&this.customColors.length>0&&(i=this.customColors.find(r=>r.name.toLowerCase()===t.toLowerCase())),i?i.value:this.scale(e)}}getLinearGradientStops(e,t){t===void 0&&(t=this.domain[0]);let i=Co().domain(this.domain).range([0,1]),r=Ea().domain(this.colorDomain).range([0,1]),s=this.getColor(e),o=i(t),a=this.getColor(t),l=i(e),c=1,u=o,p=[];for(p.push({color:a,offset:o,originalOffset:o,opacity:1});u<l&&c<this.colorDomain.length;){let m=this.colorDomain[c],f=r(m);if(f<=o){c++;continue}if(f.toFixed(4)>=(l-r.bandwidth()).toFixed(4))break;p.push({color:m,offset:f,opacity:1}),u=f,c++}if(p[p.length-1].offset<100&&p.push({color:s,offset:l,opacity:1}),l===o)p[0].offset=0,p[1].offset=100;else if(p[p.length-1].offset!==100)for(let m of p)m.offset=(m.offset-o)/(l-o)*100;return p}};var a7=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=Xe({type:n})}static{this.\u0275inj=Qe({imports:[ki]})}}return n})(),l7=(()=>{class n{constructor(t){this.roundEdges=!0,this.gradient=!1,this.offset=0,this.isActive=!1,this.animations=!0,this.noBarWhenZero=!0,this.select=new oe,this.activate=new oe,this.deactivate=new oe,this.hasGradient=!1,this.hideBar=!1,this.element=t.nativeElement}ngOnChanges(t){t.roundEdges&&this.loadAnimation(),this.update()}update(){this.gradientId="grad"+Yw().toString(),this.gradientFill=`url(#${this.gradientId})`,this.gradient||this.stops?(this.gradientStops=this.getGradient(),this.hasGradient=!0):this.hasGradient=!1,this.updatePathEl(),this.checkToHideBar()}loadAnimation(){this.path=this.getStartingPath(),setTimeout(this.update.bind(this),100)}updatePathEl(){let t=Td(this.element).select(".bar"),i=this.getPath();this.animations?t.transition().duration(500).attr("d",i):t.attr("d",i)}getGradient(){return this.stops?this.stops:[{offset:0,color:this.fill,opacity:this.getStartOpacity()},{offset:100,color:this.fill,opacity:1}]}getStartingPath(){if(!this.animations)return this.getPath();let t=this.getRadius(),i;return this.roundEdges?this.orientation===hn.Vertical?(t=Math.min(this.height,t),i=So(this.x,this.y+this.height,this.width,1,0,this.edges)):this.orientation===hn.Horizontal&&(t=Math.min(this.width,t),i=So(this.x,this.y,1,this.height,0,this.edges)):this.orientation===hn.Vertical?i=So(this.x,this.y+this.height,this.width,1,0,this.edges):this.orientation===hn.Horizontal&&(i=So(this.x,this.y,1,this.height,0,this.edges)),i}getPath(){let t=this.getRadius(),i;return this.roundEdges?this.orientation===hn.Vertical?(t=Math.min(this.height,t),i=So(this.x,this.y,this.width,this.height,t,this.edges)):this.orientation===hn.Horizontal&&(t=Math.min(this.width,t),i=So(this.x,this.y,this.width,this.height,t,this.edges)):i=So(this.x,this.y,this.width,this.height,t,this.edges),i}getRadius(){let t=0;return this.roundEdges&&this.height>5&&this.width>5&&(t=Math.floor(Math.min(5,this.height/2,this.width/2))),t}getStartOpacity(){return this.roundEdges?.2:.5}get edges(){let t=[!1,!1,!1,!1];return this.roundEdges&&(this.orientation===hn.Vertical?this.data.value>0?t=[!0,!0,!1,!1]:t=[!1,!1,!0,!0]:this.orientation===hn.Horizontal&&(this.data.value>0?t=[!1,!0,!1,!0]:t=[!0,!1,!0,!1])),t}onMouseEnter(){this.activate.emit(this.data)}onMouseLeave(){this.deactivate.emit(this.data)}checkToHideBar(){this.hideBar=this.noBarWhenZero&&(this.orientation===hn.Vertical&&this.height===0||this.orientation===hn.Horizontal&&this.width===0)}static{this.\u0275fac=function(i){return new(i||n)(C(rt))}}static{this.\u0275cmp=A({type:n,selectors:[["g","ngx-charts-bar",""]],hostBindings:function(i,r){i&1&&E("mouseenter",function(){return r.onMouseEnter()})("mouseleave",function(){return r.onMouseLeave()})},inputs:{fill:"fill",data:"data",width:"width",height:"height",x:"x",y:"y",orientation:"orientation",roundEdges:"roundEdges",gradient:"gradient",offset:"offset",isActive:"isActive",stops:"stops",animations:"animations",ariaLabel:"ariaLabel",noBarWhenZero:"noBarWhenZero"},outputs:{select:"select",activate:"activate",deactivate:"deactivate"},features:[Ge],attrs:SW,decls:2,vars:8,consts:[[4,"ngIf"],["stroke","none","role","img","tabIndex","-1",1,"bar",3,"click"],["ngx-charts-svg-linear-gradient","",3,"orientation","name","stops"]],template:function(i,r){i&1&&(T(0,EW,2,3,"defs",0),ee(),h(1,"path",1),E("click",function(){return r.select.emit(r.data)}),d()),i&2&&(y("ngIf",r.hasGradient),g(),Xn("active",r.isActive)("hidden",r.hideBar),Me("d",r.path)("aria-label",r.ariaLabel)("fill",r.hasGradient?r.gradientFill:r.fill))},dependencies:[Ce,i7],encapsulation:2,changeDetection:0})}}return n})(),Eo=function(n){return n.Standard="standard",n.Normalized="normalized",n.Stacked="stacked",n}(Eo||{}),pc=function(n){return n.positive="positive",n.negative="negative",n}(pc||{}),c7=(()=>{class n{constructor(t){this.dimensionsChanged=new oe,this.horizontalPadding=2,this.verticalPadding=5,this.element=t.nativeElement}ngOnChanges(t){this.update()}getSize(){let t=this.element.getBoundingClientRect().height,i=this.element.getBoundingClientRect().width;return{height:t,width:i,negative:this.value<0}}ngAfterViewInit(){this.dimensionsChanged.emit(this.getSize())}update(){this.valueFormatting?this.formatedValue=this.valueFormatting(this.value):this.formatedValue=Qd(this.value),this.orientation==="horizontal"?(this.x=this.barX+this.barWidth,this.value<0?(this.x=this.x-this.horizontalPadding,this.textAnchor="end"):(this.x=this.x+this.horizontalPadding,this.textAnchor="start"),this.y=this.barY+this.barHeight/2):(this.x=this.barX+this.barWidth/2,this.y=this.barY+this.barHeight,this.value<0?(this.y=this.y+this.verticalPadding,this.textAnchor="end"):(this.y=this.y-this.verticalPadding,this.textAnchor="start"),this.transform=`rotate(-45, ${this.x} , ${this.y})`)}static{this.\u0275fac=function(i){return new(i||n)(C(rt))}}static{this.\u0275cmp=A({type:n,selectors:[["g","ngx-charts-bar-label",""]],inputs:{value:"value",valueFormatting:"valueFormatting",barX:"barX",barY:"barY",barWidth:"barWidth",barHeight:"barHeight",orientation:"orientation"},outputs:{dimensionsChanged:"dimensionsChanged"},features:[Ge],attrs:DW,decls:2,vars:5,consts:[["alignment-baseline","middle",1,"textDataLabel"]],template:function(i,r){i&1&&(ee(),h(0,"text",0),v(1),d()),i&2&&(Me("text-anchor",r.textAnchor)("transform",r.transform)("x",r.x)("y",r.y),g(),j(" ",r.formatedValue," "))},styles:[".textDataLabel[_ngcontent-%COMP%]{font-size:11px}"],changeDetection:0})}}return n})();var u7=(()=>{class n{constructor(t){this.platformId=t,this.type=Eo.Standard,this.tooltipDisabled=!1,this.animations=!0,this.showDataLabel=!1,this.noBarWhenZero=!0,this.select=new oe,this.activate=new oe,this.deactivate=new oe,this.dataLabelHeightChanged=new oe,this.barsForDataLabels=[],this.barOrientation=hn,this.isSSR=!1}ngOnInit(){fs(this.platformId)&&(this.isSSR=!0)}ngOnChanges(t){this.update()}update(){this.updateTooltipSettings();let t;this.series.length&&(t=this.xScale.bandwidth()),t=Math.round(t);let i=Math.max(this.yScale.domain()[0],0),r={[pc.positive]:0,[pc.negative]:0},s=pc.positive,o;this.type===Eo.Normalized&&(o=this.series.map(a=>a.value).reduce((a,l)=>a+l,0)),this.bars=this.series.map((a,l)=>{let c=a.value,u=this.getLabel(a),p=Qd(u),m=this.roundEdges;s=c>0?pc.positive:pc.negative;let f={value:c,label:u,roundEdges:m,data:a,width:t,formattedLabel:p,height:0,x:0,y:0};if(this.type===Eo.Standard)f.height=Math.abs(this.yScale(c)-this.yScale(i)),f.x=this.xScale(u),c<0?f.y=this.yScale(0):f.y=this.yScale(c);else if(this.type===Eo.Stacked){let w=r[s],S=w+c;r[s]+=c,f.height=this.yScale(w)-this.yScale(S),f.x=0,f.y=this.yScale(S),f.offset0=w,f.offset1=S}else if(this.type===Eo.Normalized){let w=r[s],S=w+c;r[s]+=c,o>0?(w=w*100/o,S=S*100/o):(w=0,S=0),f.height=this.yScale(w)-this.yScale(S),f.x=0,f.y=this.yScale(S),f.offset0=w,f.offset1=S,c=(S-w).toFixed(2)+"%"}this.colors.scaleType===lt.Ordinal?f.color=this.colors.getColor(u):this.type===Eo.Standard?(f.color=this.colors.getColor(c),f.gradientStops=this.colors.getLinearGradientStops(c)):(f.color=this.colors.getColor(f.offset1),f.gradientStops=this.colors.getLinearGradientStops(f.offset1,f.offset0));let _=p;return f.ariaLabel=p+" "+c.toLocaleString(),this.seriesName!==null&&this.seriesName!==void 0&&(_=`${this.seriesName} \u2022 ${p}`,f.data.series=this.seriesName,f.ariaLabel=this.seriesName+" "+f.ariaLabel),f.tooltipText=this.tooltipDisabled?void 0:`
        <span class="tooltip-label">${S2(_)}</span>
        <span class="tooltip-val">${this.dataLabelFormatting?this.dataLabelFormatting(c):c.toLocaleString()}</span>
      `,f}),this.updateDataLabels()}updateDataLabels(){if(this.type===Eo.Stacked){this.barsForDataLabels=[];let t={};t.series=this.seriesName;let i=this.series.map(s=>s.value).reduce((s,o)=>o>0?s+o:s,0),r=this.series.map(s=>s.value).reduce((s,o)=>o<0?s+o:s,0);t.total=i+r,t.x=0,t.y=0,t.total>0?t.height=this.yScale(i):t.height=this.yScale(r),t.width=this.xScale.bandwidth(),this.barsForDataLabels.push(t)}else this.barsForDataLabels=this.series.map(t=>{let i={};return i.series=this.seriesName??t.label,i.total=t.value,i.x=this.xScale(t.label),i.y=this.yScale(0),i.height=this.yScale(i.total)-this.yScale(0),i.width=this.xScale.bandwidth(),i})}updateTooltipSettings(){this.tooltipPlacement=this.tooltipDisabled?void 0:$e.Top,this.tooltipType=this.tooltipDisabled?void 0:Lg.tooltip}isActive(t){return this.activeEntries?this.activeEntries.find(r=>t.name===r.name&&t.value===r.value)!==void 0:!1}onClick(t){this.select.emit(t)}getLabel(t){return t.label?t.label:t.name}trackBy(t,i){return i.label}trackDataLabelBy(t,i){return t+"#"+i.series+"#"+i.total}static{this.\u0275fac=function(i){return new(i||n)(C(xn))}}static{this.\u0275cmp=A({type:n,selectors:[["g","ngx-charts-series-vertical",""]],inputs:{dims:"dims",type:"type",series:"series",xScale:"xScale",yScale:"yScale",colors:"colors",gradient:"gradient",activeEntries:"activeEntries",seriesName:"seriesName",tooltipDisabled:"tooltipDisabled",tooltipTemplate:"tooltipTemplate",roundEdges:"roundEdges",animations:"animations",showDataLabel:"showDataLabel",dataLabelFormatting:"dataLabelFormatting",noBarWhenZero:"noBarWhenZero"},outputs:{select:"select",activate:"activate",deactivate:"deactivate",dataLabelHeightChanged:"dataLabelHeightChanged"},features:[Ge],attrs:TW,decls:3,vars:3,consts:[[4,"ngIf"],["ngx-charts-bar","","ngx-tooltip","",3,"width","height","x","y","fill","stops","data","orientation","roundEdges","gradient","ariaLabel","isActive","tooltipDisabled","tooltipPlacement","tooltipType","tooltipTitle","tooltipTemplate","tooltipContext","noBarWhenZero","animations","select","activate","deactivate",4,"ngFor","ngForOf","ngForTrackBy"],["ngx-charts-bar","","ngx-tooltip","",3,"select","activate","deactivate","width","height","x","y","fill","stops","data","orientation","roundEdges","gradient","ariaLabel","isActive","tooltipDisabled","tooltipPlacement","tooltipType","tooltipTitle","tooltipTemplate","tooltipContext","noBarWhenZero","animations"],["ngx-charts-bar-label","",3,"barX","barY","barWidth","barHeight","value","valueFormatting","orientation","dimensionsChanged",4,"ngFor","ngForOf","ngForTrackBy"],["ngx-charts-bar-label","",3,"dimensionsChanged","barX","barY","barWidth","barHeight","value","valueFormatting","orientation"]],template:function(i,r){i&1&&T(0,IW,2,2,"g",0)(1,kW,2,2,"g",0)(2,OW,2,2,"g",0),i&2&&(y("ngIf",!r.isSSR),g(),y("ngIf",r.isSSR),g(),y("ngIf",r.showDataLabel))},dependencies:[rn,Ce,M2,l7,c7],encapsulation:2,data:{animation:[nw("animationState",[rw(":leave",[vo({opacity:1}),iw(500,vo({opacity:0}))])])]},changeDetection:0})}}return n})();var R2=(()=>{class n extends D2{constructor(){super(...arguments),this.legend=!1,this.legendTitle="Legend",this.legendPosition=jr.Right,this.tooltipDisabled=!1,this.scaleType=lt.Ordinal,this.showGridLines=!0,this.activeEntries=[],this.schemeType=lt.Ordinal,this.trimXAxisTicks=!0,this.trimYAxisTicks=!0,this.rotateXAxisTicks=!0,this.maxXAxisTickLength=16,this.maxYAxisTickLength=16,this.groupPadding=16,this.barPadding=8,this.roundDomains=!1,this.roundEdges=!0,this.showDataLabel=!1,this.noBarWhenZero=!0,this.wrapTicks=!1,this.activate=new oe,this.deactivate=new oe,this.margin=[10,20,10,20],this.xAxisHeight=0,this.yAxisWidth=0,this.dataLabelMaxHeight={negative:0,positive:0},this.isSSR=!1,this.barOrientation=hn,this.trackBy=(t,i)=>i.name}ngOnInit(){fs(this.platformId)&&(this.isSSR=!0)}update(){super.update(),this.showDataLabel||(this.dataLabelMaxHeight={negative:0,positive:0}),this.margin=[10+this.dataLabelMaxHeight.positive,20,10+this.dataLabelMaxHeight.negative,20],this.dims=k2({width:this.width,height:this.height,margins:this.margin,showXAxis:this.xAxis,showYAxis:this.yAxis,xAxisHeight:this.xAxisHeight,yAxisWidth:this.yAxisWidth,showXLabel:this.showXAxisLabel,showYLabel:this.showYAxisLabel,showLegend:this.legend,legendType:this.schemeType,legendPosition:this.legendPosition}),this.showDataLabel&&(this.dims.height-=this.dataLabelMaxHeight.negative),this.formatDates(),this.groupDomain=this.getGroupDomain(),this.innerDomain=this.getInnerDomain(),this.valueDomain=this.getValueDomain(),this.groupScale=this.getGroupScale(),this.innerScale=this.getInnerScale(),this.valueScale=this.getValueScale(),this.setColors(),this.legendOptions=this.getLegendOptions(),this.transform=`translate(${this.dims.xOffset} , ${this.margin[0]+this.dataLabelMaxHeight.negative})`}onDataLabelMaxHeightChanged(t,i){t.size.negative?this.dataLabelMaxHeight.negative=Math.max(this.dataLabelMaxHeight.negative,t.size.height):this.dataLabelMaxHeight.positive=Math.max(this.dataLabelMaxHeight.positive,t.size.height),i===this.results.length-1&&setTimeout(()=>this.update())}getGroupScale(){let t=this.groupDomain.length/(this.dims.height/this.groupPadding+1);return Ea().rangeRound([0,this.dims.width]).paddingInner(t).paddingOuter(t/2).domain(this.groupDomain)}getInnerScale(){let t=this.groupScale.bandwidth(),i=this.innerDomain.length/(t/this.barPadding+1);return Ea().rangeRound([0,t]).paddingInner(i).domain(this.innerDomain)}getValueScale(){let t=Co().range([this.dims.height,0]).domain(this.valueDomain);return this.roundDomains?t.nice():t}getGroupDomain(){let t=[];for(let i of this.results)t.includes(i.label)||t.push(i.label);return t}getInnerDomain(){let t=[];for(let i of this.results)for(let r of i.series)t.includes(r.label)||t.push(r.label);return t}getValueDomain(){let t=[];for(let s of this.results)for(let o of s.series)t.includes(o.value)||t.push(o.value);let i=Math.min(0,...t),r=this.yScaleMax?Math.max(this.yScaleMax,...t):Math.max(0,...t);return[i,r]}groupTransform(t){return`translate(${this.groupScale(t.label)}, 0)`}onClick(t,i){i&&(t.series=i.name),this.select.emit(t)}setColors(){let t;this.schemeType===lt.Ordinal?t=this.innerDomain:t=this.valueDomain,this.colors=new Og(this.scheme,this.schemeType,t,this.customColors)}getLegendOptions(){let t={scaleType:this.schemeType,colors:void 0,domain:[],title:void 0,position:this.legendPosition};return t.scaleType===lt.Ordinal?(t.domain=this.innerDomain,t.colors=this.colors,t.title=this.legendTitle):(t.domain=this.valueDomain,t.colors=this.colors.scale),t}updateYAxisWidth({width:t}){this.yAxisWidth=t,this.update()}updateXAxisHeight({height:t}){this.xAxisHeight=t,this.update()}onActivate(t,i,r=!1){let s=Object.assign({},t);i&&(s.series=i.name);let o=this.results.map(a=>a.series).flat().filter(a=>r?a.label===s.name:a.name===s.name&&a.series===s.series);this.activeEntries=[...o],this.activate.emit({value:s,entries:this.activeEntries})}onDeactivate(t,i,r=!1){let s=Object.assign({},t);i&&(s.series=i.name),this.activeEntries=this.activeEntries.filter(o=>r?o.label!==s.name:!(o.name===s.name&&o.series===s.series)),this.deactivate.emit({value:s,entries:this.activeEntries})}static{this.\u0275fac=(()=>{let t;return function(r){return(t||(t=Di(n)))(r||n)}})()}static{this.\u0275cmp=A({type:n,selectors:[["ngx-charts-bar-vertical-2d"]],contentQueries:function(i,r,s){if(i&1&&zt(s,b2,5),i&2){let o;Te(o=Ae())&&(r.tooltipTemplate=o.first)}},inputs:{legend:"legend",legendTitle:"legendTitle",legendPosition:"legendPosition",xAxis:"xAxis",yAxis:"yAxis",showXAxisLabel:"showXAxisLabel",showYAxisLabel:"showYAxisLabel",xAxisLabel:"xAxisLabel",yAxisLabel:"yAxisLabel",tooltipDisabled:"tooltipDisabled",scaleType:"scaleType",gradient:"gradient",showGridLines:"showGridLines",activeEntries:"activeEntries",schemeType:"schemeType",trimXAxisTicks:"trimXAxisTicks",trimYAxisTicks:"trimYAxisTicks",rotateXAxisTicks:"rotateXAxisTicks",maxXAxisTickLength:"maxXAxisTickLength",maxYAxisTickLength:"maxYAxisTickLength",xAxisTickFormatting:"xAxisTickFormatting",yAxisTickFormatting:"yAxisTickFormatting",xAxisTicks:"xAxisTicks",yAxisTicks:"yAxisTicks",groupPadding:"groupPadding",barPadding:"barPadding",roundDomains:"roundDomains",roundEdges:"roundEdges",yScaleMax:"yScaleMax",showDataLabel:"showDataLabel",dataLabelFormatting:"dataLabelFormatting",noBarWhenZero:"noBarWhenZero",wrapTicks:"wrapTicks"},outputs:{activate:"activate",deactivate:"deactivate"},features:[tn],decls:7,vars:18,consts:[[3,"legendLabelActivate","legendLabelDeactivate","legendLabelClick","view","showLegend","legendOptions","activeEntries","animations"],[1,"bar-chart","chart"],["ngx-charts-grid-panel-series","",3,"xScale","yScale","data","dims","orient"],["ngx-charts-x-axis","",3,"xScale","dims","showLabel","labelText","trimTicks","rotateTicks","maxTickLength","tickFormatting","ticks","xAxisOffset","wrapTicks","dimensionsChanged",4,"ngIf"],["ngx-charts-y-axis","",3,"yScale","dims","showGridLines","showLabel","labelText","trimTicks","maxTickLength","tickFormatting","ticks","wrapTicks","dimensionsChanged",4,"ngIf"],[4,"ngIf"],["ngx-charts-x-axis","",3,"dimensionsChanged","xScale","dims","showLabel","labelText","trimTicks","rotateTicks","maxTickLength","tickFormatting","ticks","xAxisOffset","wrapTicks"],["ngx-charts-y-axis","",3,"dimensionsChanged","yScale","dims","showGridLines","showLabel","labelText","trimTicks","maxTickLength","tickFormatting","ticks","wrapTicks"],["ngx-charts-series-vertical","",3,"activeEntries","xScale","yScale","colors","series","dims","gradient","tooltipDisabled","tooltipTemplate","showDataLabel","dataLabelFormatting","seriesName","roundEdges","animations","noBarWhenZero","select","activate","deactivate","dataLabelHeightChanged",4,"ngFor","ngForOf","ngForTrackBy"],["ngx-charts-series-vertical","",3,"select","activate","deactivate","dataLabelHeightChanged","activeEntries","xScale","yScale","colors","series","dims","gradient","tooltipDisabled","tooltipTemplate","showDataLabel","dataLabelFormatting","seriesName","roundEdges","animations","noBarWhenZero"]],template:function(i,r){i&1&&(h(0,"ngx-charts-chart",0),E("legendLabelActivate",function(o){return r.onActivate(o,void 0,!0)})("legendLabelDeactivate",function(o){return r.onDeactivate(o,void 0,!0)})("legendLabelClick",function(o){return r.onClick(o)}),ee(),h(1,"g",1),x(2,"g",2),T(3,LW,1,11,"g",3)(4,NW,1,10,"g",4)(5,PW,2,2,"g",5)(6,BW,2,2,"g",5),d()()),i&2&&(y("view",ht(15,x2,r.width,r.height))("showLegend",r.legend)("legendOptions",r.legendOptions)("activeEntries",r.activeEntries)("animations",r.animations),g(),Me("transform",r.transform),g(),y("xScale",r.groupScale)("yScale",r.valueScale)("data",r.results)("dims",r.dims)("orient",r.barOrientation.Vertical),g(),y("ngIf",r.xAxis),g(),y("ngIf",r.yAxis),g(),y("ngIf",!r.isSSR),g(),y("ngIf",r.isSSR))},dependencies:[rn,Ce,t7,n7,E2,s7,u7],styles:[C2],encapsulation:2,data:{animation:[nw("animationState",[rw(":leave",[vo({opacity:1,transform:"*"}),iw(500,vo({opacity:0,transform:"scale(0)"}))])])]},changeDetection:0})}}return n})();var O2=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=Xe({type:n})}static{this.\u0275inj=Qe({imports:[ki]})}}return n})();var d7=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=Xe({type:n})}static{this.\u0275inj=Qe({imports:[ki]})}}return n})();var h7=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=Xe({type:n})}static{this.\u0275inj=Qe({imports:[ki]})}}return n})();var p7=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=Xe({type:n})}static{this.\u0275inj=Qe({imports:[ki]})}}return n})();var L2=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=Xe({type:n})}static{this.\u0275inj=Qe({imports:[ki]})}}return n})(),f7=(()=>{class n{constructor(t){this.platformId=t,this.animations=!0,this.labelTrim=!0,this.labelTrimSize=10,this.trimLabel=Ww}ngOnChanges(t){this.setTransforms(),this.update()}setTransforms(){if(fs(this.platformId))this.styleTransform=`translate3d(${this.textX}px,${this.textY}px, 0)`,this.attrTransform=`translate(${this.textX},${this.textY})`,this.textTransition=this.animations?"transform 0.75s":null;else{let t=/(edge|msie|trident)/i.test(navigator.userAgent);this.styleTransform=t?null:`translate3d(${this.textX}px,${this.textY}px, 0)`,this.attrTransform=t?`translate(${this.textX},${this.textY})`:null,this.textTransition=t||!this.animations?null:"transform 0.75s"}}update(){let t=this.radius;this.explodeSlices&&(t=this.radius*this.value/this.max);let r=qd().innerRadius(t).outerRadius(t).centroid(this.data),s=this.data.pos[1]/r[1];(this.data.pos[1]===0||r[1]===0)&&(s=1);let o=[s*r[0],s*r[1]];this.line=`M${r}L${o}L${this.data.pos}`}get textX(){return this.data.pos[0]}get textY(){return this.data.pos[1]}textAnchor(){return this.midAngle(this.data)<Math.PI?hr.Start:hr.End}midAngle(t){return t.startAngle+(t.endAngle-t.startAngle)/2}static{this.\u0275fac=function(i){return new(i||n)(C(xn))}}static{this.\u0275cmp=A({type:n,selectors:[["g","ngx-charts-pie-label",""]],inputs:{data:"data",radius:"radius",label:"label",color:"color",max:"max",value:"value",explodeSlices:"explodeSlices",animations:"animations",labelTrim:"labelTrim",labelTrimSize:"labelTrimSize"},features:[Ge],attrs:jW,decls:6,vars:17,consts:[["dy",".35em",1,"pie-label"],["fill","none",1,"pie-label-line","line"]],template:function(i,r){i&1&&(h(0,"title"),v(1),d(),ee(),h(2,"g")(3,"text",0),v(4),d()(),x(5,"path",1)),i&2&&(g(),ae(r.label),g(),Qn("transform",r.styleTransform)("transition",r.textTransition),Me("transform",r.attrTransform),g(),Qn("text-anchor",r.textAnchor())("shape-rendering","crispEdges"),Xn("animation",r.animations),g(),j(" ",r.labelTrim?r.trimLabel(r.label,r.labelTrimSize):r.label," "),g(),Xn("animation",r.animations),Me("d",r.line)("stroke",r.color))},encapsulation:2,changeDetection:0})}}return n})();var Hbe=2*Math.PI;var m7=(()=>{class n{constructor(t){this.startAngle=0,this.endAngle=Math.PI*2,this.cornerRadius=0,this.explodeSlices=!1,this.gradient=!1,this.animate=!0,this.pointerEvents=!0,this.isActive=!1,this.select=new oe,this.activate=new oe,this.deactivate=new oe,this.dblclick=new oe,this.barOrientation=hn,this.initialized=!1,this.element=t.nativeElement}ngOnChanges(t){this.update()}getGradient(){return this.gradient?this.gradientFill:this.fill}getPointerEvents(){return this.pointerEvents?"auto":"none"}update(){let t=this.calculateArc();this.startOpacity=.5,this.radialGradientId="linearGrad"+Yw().toString(),this.gradientFill=`url(#${this.radialGradientId})`,this.animate?this.initialized?this.updateAnimation():(this.loadAnimation(),this.initialized=!0):this.path=t.startAngle(this.startAngle).endAngle(this.endAngle)()}calculateArc(){let t=this.outerRadius;return this.explodeSlices&&this.innerRadius===0&&(t=this.outerRadius*this.value/this.max),qd().innerRadius(this.innerRadius).outerRadius(t).cornerRadius(this.cornerRadius)}loadAnimation(){let t=Td(this.element).selectAll(".arc").data([{startAngle:this.startAngle,endAngle:this.endAngle}]),i=this.calculateArc();t.transition().attrTween("d",function(r){this._current=this._current||r;let s=Object.assign({},r);s.endAngle=s.startAngle;let o=ur(s,s);return this._current=o(0),function(a){return i(o(a))}}).transition().duration(750).attrTween("d",function(r){this._current=this._current||r;let s=ur(this._current,r);return this._current=s(0),function(o){return i(s(o))}})}updateAnimation(){let t=Td(this.element).selectAll(".arc").data([{startAngle:this.startAngle,endAngle:this.endAngle}]),i=this.calculateArc();t.transition().duration(750).attrTween("d",function(r){this._current=this._current||r;let s=ur(this._current,r);return this._current=s(0),function(o){return i(s(o))}})}onClick(){clearTimeout(this._timeout),this._timeout=setTimeout(()=>this.select.emit(this.data),200)}onDblClick(t){t.preventDefault(),t.stopPropagation(),clearTimeout(this._timeout),this.dblclick.emit({data:this.data,nativeEvent:t})}static{this.\u0275fac=function(i){return new(i||n)(C(rt))}}static{this.\u0275cmp=A({type:n,selectors:[["g","ngx-charts-pie-arc",""]],inputs:{fill:"fill",startAngle:"startAngle",endAngle:"endAngle",innerRadius:"innerRadius",outerRadius:"outerRadius",cornerRadius:"cornerRadius",value:"value",max:"max",data:"data",explodeSlices:"explodeSlices",gradient:"gradient",animate:"animate",pointerEvents:"pointerEvents",isActive:"isActive"},outputs:{select:"select",activate:"activate",deactivate:"deactivate",dblclick:"dblclick"},features:[Ge],attrs:HW,decls:3,vars:7,consts:[[1,"arc-group"],[4,"ngIf"],[1,"arc",3,"click","dblclick","mouseenter","mouseleave"],["ngx-charts-svg-radial-gradient","",3,"color","name","startOpacity"]],template:function(i,r){i&1&&(ee(),h(0,"g",0),T(1,zW,2,3,"defs",1),h(2,"path",2),E("click",function(){return r.onClick()})("dblclick",function(o){return r.onDblClick(o)})("mouseenter",function(){return r.activate.emit(r.data)})("mouseleave",function(){return r.deactivate.emit(r.data)}),d()()),i&2&&(g(),y("ngIf",r.gradient),g(),Qn("pointer-events",r.getPointerEvents()),Xn("active",r.isActive),Me("d",r.path)("fill",r.getGradient()))},dependencies:[Ce,o7],encapsulation:2,changeDetection:0})}}return n})(),g7=(()=>{class n{constructor(){this.series=[],this.innerRadius=60,this.outerRadius=80,this.trimLabels=!0,this.maxLabelLength=10,this.tooltipDisabled=!1,this.animations=!0,this.select=new oe,this.activate=new oe,this.deactivate=new oe,this.dblclick=new oe,this.placementTypes=$e,this.styleTypes=Lg}ngOnChanges(t){this.update()}update(){let i=$w().value(r=>r.value).sort(null)(this.series);this.max=Eg(i,r=>r.value),this.data=this.calculateLabelPositions(i),this.tooltipText=this.tooltipText||this.defaultTooltipText}midAngle(t){return t.startAngle+(t.endAngle-t.startAngle)/2}outerArc(){return qd().innerRadius(this.outerRadius*1.5).outerRadius(this.outerRadius*1.5)}calculateLabelPositions(t){let s=t;s.forEach(o=>{o.pos=this.outerArc().centroid(o),o.pos[0]=1.5*this.outerRadius*(this.midAngle(o)<Math.PI?1:-1)});for(let o=0;o<s.length-1;o++){let a=s[o];if(this.labelVisible(a))for(let l=o+1;l<s.length;l++){let c=s[l];if(this.labelVisible(c)&&c.pos[0]*a.pos[0]>0){let u=10-Math.abs(c.pos[1]-a.pos[1]);u>0&&(c.pos[1]+=Math.sign(c.pos[0])*u)}}}return s}labelVisible(t){return this.showLabels&&t.endAngle-t.startAngle>Math.PI/30}getTooltipTitle(t){return this.tooltipTemplate?void 0:this.tooltipText(t)}labelText(t){return this.labelFormatting?this.labelFormatting(t.data.name):this.label(t)}label(t){return Qd(t.data.name)}defaultTooltipText(t){let i=this.label(t),r=Qd(t.data.value);return`
      <span class="tooltip-label">${S2(i)}</span>
      <span class="tooltip-val">${r}</span>
    `}color(t){return this.colors.getColor(this.label(t))}trackBy(t,i){return i.data.name}onClick(t){this.select.emit(t)}isActive(t){return this.activeEntries?this.activeEntries.find(r=>t.name===r.name&&t.series===r.series)!==void 0:!1}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275cmp=A({type:n,selectors:[["g","ngx-charts-pie-series",""]],inputs:{colors:"colors",series:"series",dims:"dims",innerRadius:"innerRadius",outerRadius:"outerRadius",explodeSlices:"explodeSlices",showLabels:"showLabels",gradient:"gradient",activeEntries:"activeEntries",labelFormatting:"labelFormatting",trimLabels:"trimLabels",maxLabelLength:"maxLabelLength",tooltipText:"tooltipText",tooltipDisabled:"tooltipDisabled",tooltipTemplate:"tooltipTemplate",animations:"animations"},outputs:{select:"select",activate:"activate",deactivate:"deactivate",dblclick:"dblclick"},features:[Ge],attrs:$W,decls:1,vars:2,consts:[[4,"ngFor","ngForOf","ngForTrackBy"],["ngx-charts-pie-label","",3,"data","radius","color","label","labelTrim","labelTrimSize","max","value","explodeSlices","animations",4,"ngIf"],["ngx-charts-pie-arc","","ngx-tooltip","",3,"select","activate","deactivate","dblclick","startAngle","endAngle","innerRadius","outerRadius","fill","value","gradient","data","max","explodeSlices","isActive","animate","tooltipDisabled","tooltipPlacement","tooltipType","tooltipTitle","tooltipTemplate","tooltipContext"],["ngx-charts-pie-label","",3,"data","radius","color","label","labelTrim","labelTrimSize","max","value","explodeSlices","animations"]],template:function(i,r){i&1&&T(0,GW,3,19,"g",0),i&2&&y("ngForOf",r.data)("ngForTrackBy",r.trackBy)},dependencies:[rn,Ce,M2,f7,m7],encapsulation:2,changeDetection:0})}}return n})();var N2=(()=>{class n extends D2{constructor(){super(...arguments),this.labels=!1,this.legend=!1,this.legendTitle="Legend",this.legendPosition=jr.Right,this.explodeSlices=!1,this.doughnut=!1,this.arcWidth=.25,this.activeEntries=[],this.tooltipDisabled=!1,this.trimLabels=!0,this.maxLabelLength=10,this.dblclick=new oe,this.select=new oe,this.activate=new oe,this.deactivate=new oe}update(){super.update(),this.labels&&this.hasNoOptionalMarginsSet()?this.margins=[30,80,30,80]:!this.labels&&this.hasNoOptionalMarginsSet()&&(this.margins=[20,20,20,20]),this.dims=k2({width:this.width,height:this.height,margins:this.margins,showLegend:this.legend,legendPosition:this.legendPosition}),this.formatDates();let t=this.margins[3]+this.dims.width/2,i=this.margins[0]+this.dims.height/2;this.translation=`translate(${t}, ${i})`,this.outerRadius=Math.min(this.dims.width,this.dims.height),this.labels?this.outerRadius/=3:this.outerRadius/=2,this.innerRadius=0,this.doughnut&&(this.innerRadius=this.outerRadius*(1-this.arcWidth)),this.domain=this.getDomain(),this.data=this.results.sort((r,s)=>this.domain.indexOf(r.name)-this.domain.indexOf(s.name)),this.setColors(),this.legendOptions=this.getLegendOptions()}getDomain(){return this.results.map(t=>t.label)}onClick(t){this.select.emit(t)}setColors(){this.colors=new Og(this.scheme,lt.Ordinal,this.domain,this.customColors)}getLegendOptions(){return{scaleType:lt.Ordinal,domain:this.domain,colors:this.colors,title:this.legendTitle,position:this.legendPosition}}onActivate(t,i=!1){t=this.results.find(s=>i?s.label===t.name:s.name===t.name),!(this.activeEntries.findIndex(s=>s.name===t.name&&s.value===t.value&&s.series===t.series)>-1)&&(this.activeEntries=[t,...this.activeEntries],this.activate.emit({value:t,entries:this.activeEntries}))}onDeactivate(t,i=!1){t=this.results.find(s=>i?s.label===t.name:s.name===t.name);let r=this.activeEntries.findIndex(s=>s.name===t.name&&s.value===t.value&&s.series===t.series);this.activeEntries.splice(r,1),this.activeEntries=[...this.activeEntries],this.deactivate.emit({value:t,entries:this.activeEntries})}hasNoOptionalMarginsSet(){return!this.margins||this.margins.length<=0}static{this.\u0275fac=(()=>{let t;return function(r){return(t||(t=Di(n)))(r||n)}})()}static{this.\u0275cmp=A({type:n,selectors:[["ngx-charts-pie-chart"]],contentQueries:function(i,r,s){if(i&1&&zt(s,b2,5),i&2){let o;Te(o=Ae())&&(r.tooltipTemplate=o.first)}},inputs:{labels:"labels",legend:"legend",legendTitle:"legendTitle",legendPosition:"legendPosition",explodeSlices:"explodeSlices",doughnut:"doughnut",arcWidth:"arcWidth",gradient:"gradient",activeEntries:"activeEntries",tooltipDisabled:"tooltipDisabled",labelFormatting:"labelFormatting",trimLabels:"trimLabels",maxLabelLength:"maxLabelLength",tooltipText:"tooltipText",margins:"margins"},outputs:{dblclick:"dblclick",select:"select",activate:"activate",deactivate:"deactivate"},features:[tn],decls:3,vars:24,consts:[[3,"legendLabelActivate","legendLabelDeactivate","legendLabelClick","view","showLegend","legendOptions","activeEntries","animations"],[1,"pie-chart","chart"],["ngx-charts-pie-series","",3,"dblclick","select","activate","deactivate","colors","series","showLabels","labelFormatting","trimLabels","maxLabelLength","activeEntries","innerRadius","outerRadius","explodeSlices","gradient","animations","tooltipDisabled","tooltipTemplate","tooltipText"]],template:function(i,r){i&1&&(h(0,"ngx-charts-chart",0),E("legendLabelActivate",function(o){return r.onActivate(o,!0)})("legendLabelDeactivate",function(o){return r.onDeactivate(o,!0)})("legendLabelClick",function(o){return r.onClick(o)}),ee(),h(1,"g",1)(2,"g",2),E("dblclick",function(o){return r.dblclick.emit(o)})("select",function(o){return r.onClick(o)})("activate",function(o){return r.onActivate(o)})("deactivate",function(o){return r.onDeactivate(o)}),d()()()),i&2&&(y("view",ht(21,x2,r.width,r.height))("showLegend",r.legend)("legendOptions",r.legendOptions)("activeEntries",r.activeEntries)("animations",r.animations),g(),Me("transform",r.translation),g(),y("colors",r.colors)("series",r.data)("showLabels",r.labels)("labelFormatting",r.labelFormatting)("trimLabels",r.trimLabels)("maxLabelLength",r.maxLabelLength)("activeEntries",r.activeEntries)("innerRadius",r.innerRadius)("outerRadius",r.outerRadius)("explodeSlices",r.explodeSlices)("gradient",r.gradient)("animations",r.animations)("tooltipDisabled",r.tooltipDisabled)("tooltipTemplate",r.tooltipTemplate)("tooltipText",r.tooltipText))},dependencies:[E2,g7],styles:[C2,qW],encapsulation:2,changeDetection:0})}}return n})();var Qw=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=Xe({type:n})}static{this.\u0275inj=Qe({imports:[ki]})}}return n})(),v7=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=Xe({type:n})}static{this.\u0275inj=Qe({imports:[ki,Qw,L2]})}}return n})();var y7=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=Xe({type:n})}static{this.\u0275inj=Qe({imports:[ki]})}}return n})();var _7=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=Xe({type:n})}static{this.\u0275inj=Qe({imports:[ki]})}}return n})();var b7=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=Xe({type:n})}static{this.\u0275inj=Qe({imports:[ki,Qw,O2]})}}return n})();function x7(){typeof SVGElement<"u"&&typeof SVGElement.prototype.contains>"u"&&(SVGElement.prototype.contains=HTMLDivElement.prototype.contains)}var C7=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=Xe({type:n})}static{this.\u0275inj=Qe({imports:[ki]})}}return n})(),Ng=(()=>{class n{constructor(){x7()}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=Xe({type:n})}static{this.\u0275inj=Qe({imports:[ki,a7,O2,d7,h7,p7,C7,L2,v7,y7,Qw,_7,b7]})}}return n})();var S7=["modal"],E7=(n,e)=>e.value;function D7(n,e){if(n&1&&(h(0,"option",9),v(1),d()),n&2){let t=e.$implicit;y("value",t.value),g(),ae(t.label)}}function T7(n,e){n&1&&(h(0,"option",10),v(1,"Sem op\xE7\xF5es dispon\xEDveis"),d())}var Xd=class n{confirm=new oe;modal;meses=[{value:"1",label:"Janeiro"},{value:"2",label:"Fevereiro"},{value:"3",label:"Mar\xE7o"},{value:"4",label:"Abril"},{value:"5",label:"Maio"},{value:"6",label:"Junho"},{value:"7",label:"Julho"},{value:"8",label:"Agosto"},{value:"9",label:"Setembro"},{value:"10",label:"Outubro"},{value:"11",label:"Novembro"},{value:"12",label:"Dezembro"}];selectedMes="";selectedAno=null;show(){this.modal.nativeElement.showModal()}close(){this.modal.nativeElement.close()}onConfirm(){this.selectedMes&&this.selectedAno&&(this.confirm.emit({mes:this.selectedMes,ano:this.selectedAno}),this.close())}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=A({type:n,selectors:[["app-export-modal"]],viewQuery:function(t,i){if(t&1&&Ct(S7,5),t&2){let r;Te(r=Ae())&&(i.modal=r.first)}},outputs:{confirm:"confirm"},standalone:!0,features:[I],decls:28,vars:4,consts:[["modal",""],[1,"modal","modal-bottom","sm:modal-middle"],[1,"modal-box"],[1,"absolute","top-3","right-3","text-gray-400","hover:text-gray-600",3,"click"],[1,"font-bold","text-lg","mb-4"],[1,"space-y-4"],[1,"block","text-sm","font-medium","mb-1"],["name","mes",1,"w-full","border","border-gray-300","rounded-md","p-2","focus:outline-none","focus:ring-2","focus:ring-blue-500",3,"ngModelChange","ngModel"],["value","","disabled","","selected",""],[3,"value"],["value","","disabled",""],["type","number","name","ano","placeholder","Digite o ano","min","2000",1,"w-full","border","border-gray-300","rounded-md","p-2","focus:outline-none","focus:ring-2","focus:ring-blue-500",3,"ngModelChange","ngModel"],[1,"text-gray-500","text-sm","mt-1"],[1,"modal-action"],[1,"btn","btn-success",3,"click","disabled"],[1,"btn","btn-primary",3,"click"]],template:function(t,i){if(t&1){let r=Q();h(0,"dialog",1,0)(2,"div",2)(3,"button",3),E("click",function(){return O(r),L(i.close())}),v(4," \u2715 "),d(),h(5,"h3",4),v(6,"Exportar para Excel"),d(),h(7,"form",5)(8,"div")(9,"label",6),v(10,"M\xEAs *"),d(),h(11,"select",7),Rl("ngModelChange",function(o){return O(r),bu(i.selectedMes,o)||(i.selectedMes=o),L(o)}),h(12,"option",8),v(13,"Selecionar m\xEAs"),d(),Zn(14,D7,2,2,"option",9,E7,!1,T7,2,0,"option",10),d()(),h(17,"div")(18,"label",6),v(19,"Ano *"),d(),h(20,"input",11),Rl("ngModelChange",function(o){return O(r),bu(i.selectedAno,o)||(i.selectedAno=o),L(o)}),d(),h(21,"p",12),v(22,"O ano m\xEDnimo \xE9 2000."),d()()(),h(23,"div",13)(24,"button",14),E("click",function(){return O(r),L(i.onConfirm())}),v(25,"Confirmar"),d(),h(26,"button",15),E("click",function(){return O(r),L(i.close())}),v(27,"Cancelar"),d()()()()}t&2&&(g(11),kl("ngModel",i.selectedMes),g(3),Kn(i.meses),g(6),kl("ngModel",i.selectedAno),g(4),y("disabled",!i.selectedMes||!i.selectedAno||i.selectedAno<2e3))},dependencies:[Xl,Nt,ho,po,Bn,LC,Lr,on,Lt,PC,ld,ad]})};var To=class n{constructor(e){this.http=e}url=N.apiUrl+"dashboards";getManagerDashboard(){return this.http.get(`${this.url}/manager`)}getCaretakerDashboard(){return this.http.get(`${this.url}/caretaker`)}getRelativeDashboard(){return this.http.get(`${this.url}/relative`)}static \u0275fac=function(t){return new(t||n)($(ze))};static \u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"})};var Fg=class n{constructor(e){this.http=e}urlApi=N.apiUrl;exportToExcel(e,t){let i=`${this.urlApi}reports?month=${e}&year=${t}`;return this.http.get(i,{responseType:"blob"})}static \u0275fac=function(t){return new(t||n)($(ze))};static \u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"})};var it=class n{toast=st(null);nextId=0;constructor(){}info(e,t=2e3){this.show(e,"info",t)}success(e,t=2e3){this.show(e,"success",t)}error(e,t=2e3){this.show(e,"error",t)}warning(e,t=2e3){this.show(e,"warning",t)}clear(){this.toast.update(()=>null)}show(e,t,i=2e3){let r={id:this.nextId++,message:e,type:t,duration:i};this.toast.update(()=>r),setTimeout(()=>{this.clear()},i)}static \u0275fac=function(t){return new(t||n)};static \u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"})};var F2=(n,e)=>[n,e];function M7(n,e){n&1&&(h(0,"div",3)(1,"p",4),v(2,"Loading data..."),d()())}function k7(n,e){if(n&1){let t=Q();h(0,"div",5)(1,"div",6)(2,"div",7)(3,"h2",8),v(4,"N\xFAmero de Funcion\xE1rios"),d(),h(5,"div",9)(6,"p",10),v(7),d()(),x(8,"img",11),d(),h(9,"div",7)(10,"h2",8),v(11,"N\xFAmero de Residentes"),d(),h(12,"div",9)(13,"p",12),v(14),d()(),x(15,"img",13),d(),h(16,"div",7)(17,"h2",8),v(18,"N\xFAmero de Utilizadores"),d(),h(19,"div",9)(20,"p",14),v(21),d()(),x(22,"img",15),d()(),h(23,"div",16)(24,"div",17)(25,"h3",18),v(26,"Total de Utilizadores"),d(),h(27,"div",19)(28,"div",20),x(29,"ngx-charts-pie-chart",21),d()()(),h(30,"div",22)(31,"h3",18),v(32,"Pagamentos e Sal\xE1rios"),d(),h(33,"div",19)(34,"div",23),x(35,"ngx-charts-bar-vertical-2d",24),d()()()(),h(36,"div",25)(37,"button",26),E("click",function(){O(t);let r=b();return L(r.openExportModal())}),x(38,"img",27),v(39," Exportar Relat\xF3rio "),d(),h(40,"app-export-modal",28),E("confirm",function(r){O(t);let s=b();return L(s.onExportConfirm(r))}),d()()()}if(n&2){let t=b();g(7),ae(t.dashboardData.employees),g(7),ae(t.dashboardData.residents),g(7),ae(t.dashboardData.users),g(8),y("view",ht(18,F2,t.cardWidth,t.cardHeight))("customColors",t.customColors)("results",t.pieChartData)("gradient",!0)("doughnut",!1),g(6),y("view",ht(21,F2,t.cardWidth,t.cardHeight))("customColors",t.customColorsBars)("results",t.groupedBarChartData)("gradient",!0)("xAxis",!0)("yAxis",!0)("showXAxisLabel",!0)("xAxisLabel","Meses")("showYAxisLabel",!0)("yAxisLabel","Total Gasto (\u20AC)")}}function R7(n,e){if(n&1&&(h(0,"p",29),v(1),d()),n&2){let t=b();g(),ae(t.error)}}var Pg=class n{constructor(e,t,i){this.managerDashboardService=e;this.exportService=t;this.toastService=i}error=null;dashboardData;isLoading=!0;legendPosition=jr.Below;cardWidth=400;cardHeight=200;pieChartData=[];groupedBarChartData=[];customColors=[{name:"Residentes",value:"#9bb6ff"},{name:"Funcion\xE1rios",value:"#92ffb3"},{name:"Utilizadores",value:"#fc8e8e"}];customColorsBars=[{name:"Sal\xE1rios",value:"#9bb6ff"},{name:"Pagamentos",value:"#fc8e8e"}];exportModal;ngOnInit(){this.loadDashboardData(),this.updateChartSize()}loadDashboardData(){this.managerDashboardService.getManagerDashboard().pipe(q(e=>{this.dashboardData=e,this.prepareChartData(),this.prepareGroupedBarChartData(),this.isLoading=!1}),ie(e=>(console.error(e),this.isLoading=!1,z(null)))).subscribe()}prepareChartData(){this.pieChartData=[{name:"Residentes",value:this.dashboardData.residents},{name:"Funcion\xE1rios",value:this.dashboardData.employees},{name:"Utilizadores",value:this.dashboardData.users}]}prepareGroupedBarChartData(){this.groupedBarChartData=this.dashboardData.payments.map((e,t)=>({name:new Date(e.date).toLocaleString("default",{month:"short",year:"numeric"}),series:[{name:"Pagamentos",value:parseFloat(e.total)||0},{name:"Sal\xE1rios",value:this.dashboardData.salaries[t]?.total||0}]})),this.groupedBarChartData.sort((e,t)=>new Date(e.name)>new Date(t.name)?1:-1)}onResize(){this.updateChartSize()}updateChartSize(){let e=window.innerWidth;e<640?(this.cardWidth=Math.min(300,e*.9),this.cardHeight=240):e<1024?(this.cardWidth=320,this.cardHeight=260):(this.cardWidth=380,this.cardHeight=280)}openExportModal(){this.exportModal.show()}onExportConfirm(e){this.exportService.exportToExcel(e.mes,e.ano).subscribe(t=>{let i=new Blob([t],{type:"application/vnd.ms-excel"}),r=window.URL.createObjectURL(i),s=document.createElement("a");s.href=r,s.download=`relatorio_${e.mes}_${e.ano}.xlsx`,s.click(),window.URL.revokeObjectURL(r),this.toastService.success("Relat\xF3rio financeiro exportado com successo!")},t=>{this.toastService.error("Falha ao exportar")})}static \u0275fac=function(t){return new(t||n)(C(To),C(Fg),C(it))};static \u0275cmp=A({type:n,selectors:[["app-dashboard-manager"]],viewQuery:function(t,i){if(t&1&&Ct(Xd,5),t&2){let r;Te(r=Ae())&&(i.exportModal=r.first)}},hostBindings:function(t,i){t&1&&E("resize",function(s){return i.onResize(s)},!1,Xs)},standalone:!0,features:[I],decls:4,vars:2,consts:[["errorTpl",""],["class","flex items-center justify-center h-screen",4,"ngIf"],["class","p-4 md:p-6",4,"ngIf"],[1,"flex","items-center","justify-center","h-screen"],[1,"text-lg","font-medium","text-gray-500"],[1,"p-4","md:p-6"],[1,"grid","grid-cols-1","md:grid-cols-3","gap-4","md:gap-6","mb-6"],[1,"bg-white","shadow-lg","p-4","md:p-6","rounded-lg","flex","flex-col","relative","overflow-hidden"],[1,"text-lg","font-semibold","text-center","absolute","top-4","left-0","right-0"],[1,"flex-grow","flex","items-center","justify-center","relative","mt-16","pb-24","md:pb-20"],[1,"text-4xl","font-bold","text-info","text-center"],["src","workers.svg","alt","Workers Icon",1,"h-14","w-14","md:h-20","md:w-20","absolute","bottom-4","right-4"],[1,"text-4xl","font-bold","text-secondary","text-center"],["src","couple.svg","alt","Couple Icon",1,"h-14","w-14","md:h-20","md:w-20","absolute","bottom-4","right-4"],[1,"text-4xl","font-bold","text-primary","text-center"],["src","team (3).svg","alt","Team Icon",1,"h-14","w-14","md:h-20","md:w-20","absolute","bottom-4","right-4"],[1,"grid","grid-cols-1","md:grid-cols-2","gap-4","md:gap-6"],[1,"bg-white","shadow-lg","p-4","md:p-6","rounded-lg","flex","flex-col","min-h-[300px]"],[1,"text-lg","md:text-xl","font-bold","text-gray-700","mb-4"],[1,"flex-grow","flex","items-center","justify-center"],[1,"w-full","h-full","flex","items-center","justify-center"],[3,"view","customColors","results","gradient","doughnut"],[1,"bg-white","shadow-lg","p-4","md:p-6","rounded-lg","flex","flex-col","min-h-[350px]"],[1,"w-full","h-full","flex","flex-wrap","justify-center","overflow-hidden"],[3,"view","customColors","results","gradient","xAxis","yAxis","showXAxisLabel","xAxisLabel","showYAxisLabel","yAxisLabel"],[1,"flex","justify-center","mt-8"],[1,"flex","items-center","gap-2","bg-green-500","text-white","font-semibold","py-3","px-6","rounded-lg","shadow-md","hover:bg-green-600","transition","duration-300",3,"click"],["src","export.svg","alt","\xCDcone de Exporta\xE7\xE3o",1,"h-5","w-5"],[3,"confirm"],[1,"text-error","p-4"]],template:function(t,i){t&1&&T(0,M7,3,0,"div",1)(1,k7,41,24,"div",2)(2,R7,2,1,"ng-template",null,0,Ut),t&2&&(y("ngIf",i.isLoading),g(),y("ngIf",!i.isLoading&&i.dashboardData))},dependencies:[Ce,Ng,R2,N2,Xd]})};function O7(n,e){n&1&&(h(0,"div",2)(1,"p",3),v(2,"Loading data..."),d()())}function L7(n,e){if(n&1&&(h(0,"div",4)(1,"div",5)(2,"div",6)(3,"h2",7),v(4,"N\xFAmero de Residentes"),d(),h(5,"div",8)(6,"p",9),v(7),d()(),x(8,"img",10),d(),h(9,"div",11)(10,"h2",7),v(11,"Consultas Este M\xEAs"),d(),h(12,"div",8)(13,"p",12),v(14),d()(),x(15,"img",13),d(),h(16,"div",11)(17,"h2",7),v(18,"Consultas Hoje"),d(),h(19,"div",8)(20,"p",14),v(21),d()(),x(22,"img",15),d(),h(23,"div",11)(24,"h2",7),v(25,"Consultas Amanh\xE3"),d(),h(26,"div",8)(27,"p",9),v(28),d()(),x(29,"img",16),d(),h(30,"div",11)(31,"h2",7),v(32,"N\xFAmero de Medicamentos"),d(),h(33,"div",8)(34,"p",12),v(35),d()(),x(36,"img",17),d(),h(37,"div",11)(38,"h2",7),v(39,"Relat\xF3rios de Sa\xFAde Hoje"),d(),h(40,"div",8)(41,"p",14),v(42),d()(),x(43,"img",18),d(),h(44,"div",11)(45,"h2",7),v(46,"Relat\xF3rios de Sa\xFAde Esta Semana"),d(),h(47,"div",8)(48,"p",12),v(49),d()(),x(50,"img",19),d()()()),n&2){let t=b();g(7),ae(t.dashboardData.numberOfResidents),g(7),ae(t.dashboardData.appointmentsThisMonth),g(7),ae(t.dashboardData.appointmentsToday),g(7),ae(t.dashboardData.appointmentsTomorrow),g(7),ae(t.dashboardData.numberOfMedicaments),g(7),ae(t.dashboardData.healthReportsToday),g(7),ae(t.dashboardData.healthReportsThisWeek)}}var Vg=class n{constructor(e){this.managerDashboardService=e}dashboardData;isLoading=!0;ngOnInit(){this.loadDashboardData()}loadDashboardData(){this.managerDashboardService.getCaretakerDashboard().pipe(q(e=>{this.dashboardData=e,this.isLoading=!1}),ie(e=>(console.error(e),this.isLoading=!1,z(null)))).subscribe()}static \u0275fac=function(t){return new(t||n)(C(To))};static \u0275cmp=A({type:n,selectors:[["app-dashboard-caretaker"]],standalone:!0,features:[I],decls:2,vars:2,consts:[["class","flex items-center justify-center h-screen",4,"ngIf"],["class","p-4 md:p-6",4,"ngIf"],[1,"flex","items-center","justify-center","h-screen"],[1,"text-lg","font-medium","text-gray-500"],[1,"p-4","md:p-6"],[1,"grid","grid-cols-1","md:grid-cols-3","gap-4","md:gap-6","mb-6"],[1,"bg-white","shadow-lg","p-4","md:p-6","rounded-lg","flex","flex-col","relative","overflow-hidden","md:col-span-3"],[1,"text-lg","font-semibold","text-center","absolute","top-4","left-0","right-0"],[1,"flex-grow","flex","items-center","justify-center","relative","mt-16","pb-24","md:pb-20"],[1,"text-4xl","font-bold","text-info","text-center"],["src","couple.svg","alt","Residents Icon",1,"h-14","w-14","md:h-20","md:w-20","absolute","bottom-4","right-4"],[1,"bg-white","shadow-lg","p-4","md:p-6","rounded-lg","flex","flex-col","relative","overflow-hidden"],[1,"text-4xl","font-bold","text-secondary","text-center"],["src","calendar (1).svg","alt","Appointments This Month Icon",1,"h-14","w-14","md:h-20","md:w-20","absolute","bottom-4","right-4"],[1,"text-4xl","font-bold","text-primary","text-center"],["src","appointment.svg","alt","Appointments Today Icon",1,"h-14","w-14","md:h-20","md:w-20","absolute","bottom-4","right-4"],["src","medical-check.svg","alt","Appointments Tomorrow Icon",1,"h-14","w-14","md:h-20","md:w-20","absolute","bottom-4","right-4"],["src","medicine.svg","alt","Medicaments Icon",1,"h-14","w-14","md:h-20","md:w-20","absolute","bottom-4","right-4"],["src","medical-report (1).svg","alt","Health Reports Today Icon",1,"h-14","w-14","md:h-20","md:w-20","absolute","bottom-4","right-4"],["src","health-report.svg","alt","Health Reports This Week Icon",1,"h-14","w-14","md:h-20","md:w-20","absolute","bottom-4","right-4"]],template:function(t,i){t&1&&T(0,O7,3,0,"div",0)(1,L7,51,7,"div",1),t&2&&(y("ngIf",i.isLoading),g(),y("ngIf",!i.isLoading&&i.dashboardData))},dependencies:[Ce]})};var N7=n=>({"[transform:rotateY(180deg)]":n}),F7=(n,e)=>({"text-green-500":n,"text-red-500":e});function P7(n,e){n&1&&(h(0,"div",3)(1,"p",4),v(2,"Loading data..."),d()())}function V7(n,e){if(n&1&&x(0,"img",28),n&2){let t=b().$implicit,i=b(2);y("src",i.photoResidentUrl+t.profilePicture,hi)}}function B7(n,e){n&1&&x(0,"img",29)}function j7(n,e){if(n&1){let t=Q();h(0,"div",8)(1,"div",9)(2,"div",10)(3,"div",11)(4,"button",12),E("click",function(){let r=O(t).$implicit,s=b(2);return L(s.viewResidentProfile(r.id))}),x(5,"img",13),d(),h(6,"button",14),E("click",function(){let r=O(t).$implicit,s=b(2);return L(s.viewMessages(r.id))}),x(7,"img",15),d()(),h(8,"div"),T(9,V7,1,1,"img",16)(10,B7,1,0,"ng-template",null,0,Ut),d(),h(12,"h2",17),v(13),d(),h(14,"p",18)(15,"strong"),v(16,"Identifica\xE7\xE3o Fiscal:"),d(),v(17),d(),h(18,"p",18)(19,"strong"),v(20,"Quarto n\xBA:"),d(),v(21),d(),h(22,"p")(23,"strong"),v(24,"Mensalidade:"),d(),h(25,"span",19),v(26),d()(),h(27,"div",20)(28,"button",21),E("click",function(){let r=O(t).index,s=b(2);return L(s.toggleFlip(r))}),x(29,"img",22),h(30,"span"),v(31,"Info"),d()()()(),h(32,"div",23)(33,"div",20),x(34,"img",24),d(),h(35,"div",25)(36,"p")(37,"strong"),v(38,"Mobilidade:"),d(),v(39),d(),h(40,"p")(41,"strong"),v(42,"Alergias:"),d(),v(43),d(),h(44,"p")(45,"strong"),v(46,"Medicamentos:"),d(),v(47),d(),h(48,"p")(49,"strong"),v(50,"Consultas:"),d(),v(51),d(),h(52,"p")(53,"strong"),v(54,"Cuidados Espec\xEDficos:"),d(),v(55),d()(),h(56,"div",26)(57,"button",27),E("click",function(){let r=O(t).index,s=b(2);return L(s.toggleFlip(r))}),v(58," Voltar "),d()()()()()}if(n&2){let t=e.$implicit,i=e.index,r=$t(11),s=b(2);g(),y("ngClass",he(13,N7,s.flippedIndex===i)),g(8),y("ngIf",t.profilePicture)("ngIfElse",r),g(4),ae(t.name),g(4),j(" ",t.fiscalId,""),g(4),j(" ",t.bedNumber,""),g(4),y("ngClass",ht(15,F7,t.paid,!t.paid)),g(),j(" ",t.paid?"Pago":"Em Falta"," "),g(13),j(" ",t.mobility,""),g(4),j(" ",t.allergies,""),g(4),j(" ",t.medicaments,""),g(4),j(" ",t.appointments,""),g(4),j(" ",t.specificCare||"None","")}}function H7(n,e){if(n&1&&(h(0,"div",5)(1,"div",6),T(2,j7,59,18,"div",7),d()()),n&2){let t=b();g(2),y("ngForOf",t.residents)}}var Bg=class n{constructor(e,t){this.managerDashboardService=e;this.router=t}isLoading=!0;residents=[];flippedIndex=null;photoResidentUrl=N.photoResident;loadDashboardData(){this.managerDashboardService.getRelativeDashboard().pipe(q(e=>{this.residents=e,this.isLoading=!1}),ie(e=>(console.error("Error fetching data:",e),this.isLoading=!1,z([])))).subscribe()}ngOnInit(){this.loadDashboardData()}toggleFlip(e){this.flippedIndex=this.flippedIndex===e?null:e}viewMessages=e=>{this.router.navigate(["/residents",e,"messages"])};viewResidentProfile=e=>{this.router.navigate(["/residents/detail",e])};static \u0275fac=function(t){return new(t||n)(C(To),C(Z))};static \u0275cmp=A({type:n,selectors:[["app-dashboard-relative"]],standalone:!0,features:[I],decls:2,vars:2,consts:[["defaultPicture",""],["class","flex items-center justify-center h-screen",4,"ngIf"],["class","p-4 md:p-6",4,"ngIf"],[1,"flex","items-center","justify-center","h-screen"],[1,"text-lg","font-medium","text-gray-500"],[1,"p-4","md:p-6"],[1,"grid","grid-cols-1","md:grid-cols-2","lg:grid-cols-3","gap-4"],["class","[perspective:1000px]",4,"ngFor","ngForOf"],[1,"[perspective:1000px]"],[1,"relative","h-72","w-full","text-center","transition-transform","duration-500","ease-in-out","[transform-style:preserve-3d]",3,"ngClass"],[1,"absolute","inset-0","bg-white","shadow-lg","rounded-lg","[backface-visibility:hidden]","flex","flex-col","items-center","justify-between","p-4","relative"],[1,"absolute","top-2","right-2","flex","space-x-2"],["title","Perfil do Residente",1,"bg-gray-200","hover:bg-gray-300","focus:outline-none","rounded-full","p-2","shadow-md",3,"click"],["src","profile.svg","alt","Perfil do Residente",1,"w-6","h-6"],["title","Mensagens",1,"bg-gray-200","hover:bg-gray-300","focus:outline-none","rounded-full","p-2","shadow-md",3,"click"],["src","comments.svg","alt","Mensagens",1,"w-6","h-6"],["alt","Profile Picture","class","h-20 w-20 rounded-full object-cover border border-gray-300 mb-4",3,"src",4,"ngIf","ngIfElse"],[1,"text-xl","font-bold","text-gray-800"],[1,"text-gray-500","text-sm"],[3,"ngClass"],[1,"mt-4"],[1,"px-4","py-2","bg-primary","rounded","flex","items-center","gap-2","focus:outline-none",3,"click"],["src","medical-symbol.svg","alt","icon",1,"w-4","h-4"],[1,"absolute","inset-0","bg-gray-100","shadow-lg","rounded-lg","[backface-visibility:hidden]","[transform:rotateY(180deg)]","flex","flex-col","items-center","justify-between","pb-2","text-gray-700","text-center"],["src","better-health.svg","alt","Better Health Logo",1,"h-20","w-auto","mx-auto"],[1,"flex-grow","flex","flex-col"],[1,"mt-6"],[1,"px-4","py-2","bg-primary","text-black","rounded",3,"click"],["alt","Profile Picture",1,"h-20","w-20","rounded-full","object-cover","border","border-gray-300","mb-4",3,"src"],["src","user.svg","alt","Default Profile Picture",1,"h-20","w-20","rounded-full","border","border-gray-300","mb-4"]],template:function(t,i){t&1&&T(0,P7,3,0,"div",1)(1,H7,3,1,"div",2),t&2&&(y("ngIf",i.isLoading),g(),y("ngIf",!i.isLoading&&(i.residents==null?null:i.residents.length)))},dependencies:[Ce,rn,Gt]})};function z7(n,e){n&1&&Pn(0)}var jg=class n{constructor(e){this.authService=e}get dashboard(){return this.authService.getUser().pipe(V(e=>{switch(e?.role){case"manager":return Pg;case"caretaker":return Vg;default:return Bg}}))}static \u0275fac=function(t){return new(t||n)(C(be))};static \u0275cmp=A({type:n,selectors:[["app-dashboard"]],standalone:!0,features:[I],decls:2,vars:3,consts:[[4,"ngComponentOutlet"]],template:function(t,i){t&1&&(T(0,z7,1,0,"ng-container",0),Y(1,"async")),t&2&&y("ngComponentOutlet",X(1,1,i.dashboard))},dependencies:[tm,qe]})};var Hg=class n{constructor(e,t){this.authService=e;this.router=t}user=null;ngOnInit(){this.authService.getUser().subscribe(e=>{this.user=e})}getNavigationRoute(){return this.user?"/dashboard":"/"}static \u0275fac=function(t){return new(t||n)(C(be),C(Z))};static \u0275cmp=A({type:n,selectors:[["app-not-found"]],standalone:!0,features:[I],decls:11,vars:1,consts:[[1,"flex","flex-col","items-center","justify","start","text-center","px-4","h-screen","pt-12"],[1,"text-6xl","font-bold","text-primary"],[1,"text-lg","mt-4"],[1,"my-8"],["src","oldLady2.gif","alt","Ilustra\xE7\xE3o de idosa",1,"w-72","h-auto","mx-auto","rounded-full","shadow-md"],[1,"text-2xl","font-semibold","mb-6"],[1,"mt-6","px-6","py-2","bg-primary","rounded",3,"routerLink"]],template:function(t,i){t&1&&(h(0,"div",0)(1,"h1",1),v(2,"Onde \xE9 que pensas que vais?"),d(),h(3,"p",2),v(4,"A p\xE1gina que tentas aceder n\xE3o foi encontrada..."),d(),h(5,"div",3),x(6,"img",4),d(),h(7,"h3",5),v(8,"Vamos voltar ao lar?"),d(),h(9,"button",6),v(10," P\xE1gina Inicial "),d()()),t&2&&(g(9),y("routerLink",i.getNavigationRoute()))},dependencies:[Fe]})};var zg=class n{constructor(e,t){this.authService=e;this.router=t}user=null;ngOnInit(){this.authService.getUser().subscribe(e=>{this.user=e})}getNavigationRoute(){return this.user?"/dashboard":"/"}static \u0275fac=function(t){return new(t||n)(C(be),C(Z))};static \u0275cmp=A({type:n,selectors:[["app-not-allowed"]],standalone:!0,features:[I],decls:11,vars:1,consts:[[1,"flex","flex-col","items-center","justify-start","text-center","px-4","h-screen","pt-12"],[1,"text-6xl","font-bold","text-primary"],[1,"text-lg","mt-4"],[1,"mt-8"],["src","oldLady.gif","alt","Ilustra\xE7\xE3o de idosa",1,"w-72","h-auto","mx-auto","rounded-full","shadow-md"],[1,"text-2xl","font-semibold","mt-6"],[1,"mt-6","px-6","py-2","bg-primary","rounded",3,"routerLink"]],template:function(t,i){t&1&&(h(0,"div",0)(1,"h1",1),v(2,"N\xE3o fa\xE7as disparates!"),d(),h(3,"p",2),v(4,"N\xE3o tens permiss\xE3o para aceder a este conte\xFAdo..."),d(),h(5,"div",3),x(6,"img",4),d(),h(7,"h3",5),v(8,"Vamos voltar ao lar?"),d(),h(9,"button",6),v(10," P\xE1gina Inicial "),d()()),t&2&&(g(9),y("routerLink",i.getNavigationRoute()))},dependencies:[Fe]})};var $g=class n{scriptLoaded=!1;load(){return this.scriptLoaded?Promise.resolve():new Promise((e,t)=>{let i=document.createElement("script");i.src=`https://maps.googleapis.com/maps/api/js?key=${N.googleMapsApiKey}`,i.async=!0,i.defer=!0,i.onload=()=>{this.scriptLoaded=!0,e()},i.onerror=r=>t(new Error("Google Maps API failed to load.")),document.head.appendChild(i)})}static \u0275fac=function(t){return new(t||n)};static \u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"})};var Ug=class n{constructor(e,t,i){this.googleMapsLoader=e;this.viewportScroller=t;this.renderer=i}ngOnInit(){let e=document.querySelector("main");e&&(this.renderer.removeClass(e,"container"),this.renderer.removeClass(e,"px-2"),this.renderer.removeClass(e,"sm:px-0"),this.renderer.removeClass(e,"mx-auto"),this.renderer.removeClass(e,"pt-10"))}ngOnDestroy(){let e=document.querySelector("main");e&&(this.renderer.addClass(e,"container"),this.renderer.addClass(e,"px-2"),this.renderer.addClass(e,"sm:px-0"),this.renderer.addClass(e,"mx-auto"),this.renderer.addClass(e,"pt-10"))}ngAfterViewInit(){return vr(this,null,function*(){try{yield this.googleMapsLoader.load();let e=new google.maps.Map(document.getElementById("map"),{center:{lat:41.22071760529942,lng:-8.686719625675341},zoom:15});new google.maps.Marker({position:{lat:41.22071760529942,lng:-8.686719625675341},map:e,title:"Aconchego - Lar de Idosos"})}catch(e){console.error("Error loading Google Maps:",e)}})}scrollToFragment(e){let t=document.getElementById(e);if(t){let i=t.offsetTop;this.smoothScroll(i,800)}}smoothScroll(e,t){let i=window.scrollY||document.documentElement.scrollTop,r=e-i,s=null,o=a=>{s||(s=a);let l=a-s,c=Math.min(l/t,1),u=c<.5?2*c*c:1-Math.pow(-2*c+2,2)/2,p=i+r*u;window.scrollTo(0,p),l<t&&requestAnimationFrame(o)};requestAnimationFrame(o)}static \u0275fac=function(t){return new(t||n)(C($g),C(no),C(It))};static \u0275cmp=A({type:n,selectors:[["app-homepage"]],standalone:!0,features:[I],decls:63,vars:0,consts:[["id","home",1,"h-screen","flex","items-center","justify-center","bg-cover","bg-center","relative"],["src","landingPage.jpg","alt","Background",1,"absolute","inset-0","w-full","h-full","object-cover","-z-10"],[1,"text-center","bg-white","bg-opacity-80","p-8","rounded-lg","shadow-lg","max-w-xl","mx-auto"],[1,"text-4xl","font-bold","text-gray-800"],[1,"text-lg","text-gray-600","mt-4"],[1,"mt-6","inline-block","px-6","py-3","bg-primary","text-white","font-medium","rounded","cursor-pointer","hover:bg-primary-dark","transition","duration-300",3,"click"],["id","services",1,"h-screen","flex","flex-col","justify-center","bg-cover","bg-center","relative"],["src","services.jpg","alt","Servi\xE7os Background",1,"absolute","inset-0","w-full","h-full","object-cover","-z-10"],[1,"container","mx-auto","text-center","max-w-5xl"],[1,"text-3xl","font-bold","text-white","mb-8"],[1,"grid","grid-cols-1","md:grid-cols-3","gap-12"],[1,"bg-white","bg-opacity-90","p-8","rounded-lg","shadow-xl"],[1,"text-xl","font-bold","text-gray-800","mb-4"],[1,"text-gray-600"],["id","about",1,"h-screen","flex","items-center","bg-cover","bg-center","relative"],["src","about.jpg","alt","Sobre N\xF3s Background",1,"absolute","inset-0","w-full","h-full","object-cover","-z-10"],[1,"container","mx-auto","flex","flex-col","md:flex-row","items-center","gap-8","max-w-5xl"],["src","ourTeam.jpg","alt","Sobre N\xF3s",1,"w-full","md:w-1/2","rounded-lg","shadow-lg"],[1,"text-center","md:text-left"],[1,"text-3xl","font-bold","text-gray-800","mb-4"],["id","contact",1,"h-screen","flex","flex-col","justify-center","bg-cover","bg-center","relative"],["src","location.jpg","alt","Background",1,"absolute","inset-0","w-full","h-full","object-cover","-z-10"],[1,"container","mx-auto","text-center","max-w-5xl","bg-white","bg-opacity-80","p-6","rounded-lg","shadow-lg"],[1,"flex","flex-col","md:flex-row","md:items-start","gap-8"],[1,"flex-1","text-center"],[1,"text-2xl","font-bold","text-gray-800","mb-4"],[1,"text-gray-600","text-center","space-y-4"],[1,"flex-1","mt-8","md:mt-0"],["id","map",1,"w-full","h-64","sm:h-80","lg:h-96","border","border-gray-300"]],template:function(t,i){t&1&&(h(0,"section",0),x(1,"img",1),h(2,"div",2)(3,"h1",3),v(4,"Bem-vindo"),d(),h(5,"p",4),v(6,"Venha conhecer um lugar onde o cuidado e o conforto s\xE3o a prioridade"),d(),h(7,"button",5),E("click",function(){return i.scrollToFragment("services")}),v(8," Conhe\xE7a nossos servi\xE7os "),d()()(),h(9,"section",6),x(10,"img",7),h(11,"div",8)(12,"h2",9),v(13,"Os Nossos Servi\xE7os"),d(),h(14,"div",10)(15,"div",11)(16,"h3",12),v(17,"Acomoda\xE7\xF5es Confort\xE1veis"),d(),h(18,"p",13),v(19," Quartos privados e/ou partilhados, preparados para garantir conforto e seguran\xE7a. "),d()(),h(20,"div",11)(21,"h3",12),v(22,"Atividades Di\xE1rias"),d(),h(23,"p",13),v(24," Promovemos e proporcionamos o bem-estar atrav\xE9s de atividades recreativas e f\xEDsicas. "),d()(),h(25,"div",11)(26,"h3",12),v(27,"Cuidados M\xE9dicos"),d(),h(28,"p",13),v(29," Dispomos de todos os cuidados m\xE9dicos necess\xE1rios e incluindo, acompanhamento a consultas. "),d()()()()(),h(30,"section",14),x(31,"img",15),h(32,"div",16),x(33,"img",17),h(34,"div",18)(35,"h2",19),v(36,"Sobre N\xF3s"),d(),h(37,"p",13),v(38," No nosso lar, acreditamos que cada idoso merece ser tratado com respeito, dignidade e amor. A nossa miss\xE3o \xE9 proporcionar um ambiente acolhedor e seguro para que os todos idosos possam viver com qualidade de vida e conforto. "),d()()()(),h(39,"section",20),x(40,"img",21),h(41,"div",22)(42,"div",23)(43,"div",24)(44,"h3",25),v(45,"Contactos"),d(),h(46,"div",26)(47,"p")(48,"strong"),v(49,"Email:"),d(),v(50," atendimento@aconchego.com"),d(),h(51,"p")(52,"strong"),v(53,"Telefone:"),d(),v(54," +351 123 456 789"),d(),h(55,"p")(56,"strong"),v(57,"Endere\xE7o:"),d(),v(58," Avenida M\xE1rio Brito (EN107), n\xBA 3570 - Freixieiro, 4455-491 Perafita"),d()()(),h(59,"div",27)(60,"h3",25),v(61,"Localiza\xE7\xE3o"),d(),x(62,"div",28),d()()()())}})};var ct=(n,e)=>{let t=B(be),i=B(Z);return t.getUser().pipe(V(r=>{if(!r)return!1;let s=n.data.roles;return!s||s.length===0?!0:s.some(o=>r.role===o)}),q(r=>{r||i.navigate(["/forbidden"])}))};var vi=class n{onSearch=At();subscription=null;searchInputControl=new te({value:"",disabled:!1});ngOnInit(){this.subscription=this.searchInputControl.valueChanges.pipe(ln(500)).subscribe(e=>{this.onSearch.emit(e||"")})}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=A({type:n,selectors:[["app-search-box"]],outputs:{onSearch:"onSearch"},standalone:!0,features:[I],decls:1,vars:1,consts:[["placeholder","Pesquisa",1,"w-full","input","input-bordered",3,"formControl"]],template:function(t,i){t&1&&x(0,"input",0),t&2&&y("formControl",i.searchInputControl)},dependencies:[Je,Bn,on,or]})};var yi=class n{pageNumber=_e.required();totalPages=_e.required();nextPage=At();previousPage=At();arrowLeft(){return(this.pageNumber()||1)>1}arrowRight(){return this.totalPages()>0&&this.pageNumber()<this.totalPages()}handleArrowLeftClick(){this.previousPage.emit()}handleArrowRightClick(){this.nextPage.emit()}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=A({type:n,selectors:[["app-paginator"]],inputs:{pageNumber:[1,"pageNumber"],totalPages:[1,"totalPages"]},outputs:{nextPage:"nextPage",previousPage:"previousPage"},standalone:!0,features:[I],decls:7,vars:3,consts:[[1,"join"],[1,"join-item","btn",3,"click","disabled"],[1,"join-item","btn"]],template:function(t,i){t&1&&(h(0,"div",0)(1,"button",1),E("click",function(){return i.handleArrowLeftClick()}),v(2,"\xAB"),d(),h(3,"button",2),v(4),d(),h(5,"button",1),E("click",function(){return i.handleArrowRightClick()}),v(6,"\xBB"),d()()),t&2&&(g(),y("disabled",!i.arrowLeft()),g(3),j("Page ",i.pageNumber()||1,""),g(),y("disabled",!i.arrowRight()))}})};var Ao=(i=>(i.TEXT="text",i.PROFILE="profile",i.DATE="date",i))(Ao||{});function U7(n,e){if(n&1&&x(0,"img",3),n&2){let t=b();y("src",t.imgUrl(),hi)}}function G7(n,e){n&1&&x(0,"img",4)}var Gg=class n{imgUrl=_e();mainText=_e.required();subText=_e();static \u0275fac=function(t){return new(t||n)};static \u0275cmp=A({type:n,selectors:[["app-table-cell-profile"]],inputs:{imgUrl:[1,"imgUrl"],mainText:[1,"mainText"],subText:[1,"subText"]},standalone:!0,features:[I],decls:10,vars:3,consts:[[1,"flex","items-center","gap-3"],[1,"avatar"],[1,"mask","mask-squircle","h-12","w-12"],["alt","Profile Picture",3,"src"],["alt","Profile Picture","src","user.svg"],[1,"font-bold"],[1,"text-sm","opacity-50"]],template:function(t,i){t&1&&(h(0,"div",0)(1,"div",1)(2,"div",2),T(3,U7,1,1,"img",3)(4,G7,1,0,"img",4),d()(),h(5,"div")(6,"div",5),v(7),d(),h(8,"div",6),v(9),d()()()),t&2&&(g(3),J(i.imgUrl()?3:4),g(4),ae(i.mainText()),g(2),ae(i.subText()))}})};function q7(n,e){n&1&&(h(0,"span",0),v(1,"Desktop Support Technician"),d())}var qg=class n{mainText=_e.required();subText=_e();static \u0275fac=function(t){return new(t||n)};static \u0275cmp=A({type:n,selectors:[["app-table-cell-text"]],inputs:{mainText:[1,"mainText"],subText:[1,"subText"]},standalone:!0,features:[I],decls:3,vars:2,consts:[[1,"badge","badge-ghost","badge-sm"]],template:function(t,i){t&1&&(v(0),x(1,"br"),T(2,q7,2,0,"span",0)),t&2&&(j("",i.mainText(),`
`),g(2),J(i.subText()?2:-1))}})};var jn=(t=>(t.ASC="ASC",t.DESC="DESC",t))(jn||{});var W7=(n,e)=>e.colKey,Y7=(n,e)=>e.id;function Q7(n,e){n&1&&(ee(),h(0,"svg",5),x(1,"path",6),d())}function X7(n,e){n&1&&(ee(),h(0,"svg",5),x(1,"path",7),d())}function Z7(n,e){if(n&1&&T(0,Q7,2,0,":svg:svg",5)(1,X7,2,0,":svg:svg",5),n&2){let t=b(2);J(t.orderDirection()==t.Order.ASC?0:1)}}function K7(n,e){n&1&&(ee(),h(0,"svg",5),x(1,"path",8),d())}function J7(n,e){if(n&1){let t=Q();h(0,"th",3),E("click",function(){let r=O(t).$implicit,s=b();return L(s.handleHeaderClicked(r.colKey))}),h(1,"div",4),v(2),T(3,Z7,2,1)(4,K7,2,0,":svg:svg",5),d()()}if(n&2){let t=e.$implicit,i=b();y("ngClass",t.classList),g(2),j(" ",t.label," "),g(),J(t.colKey===i.orderKey()?3:4)}}function e9(n,e){if(n&1&&(h(0,"th",10),x(1,"app-table-cell-profile",12),d()),n&2){let t=b().$implicit,i=b().$implicit,r=b();g(),y("mainText",r.getValue(i,t.colKey))("subText",t.subKey?r.getValue(i,t.subKey):"")("imgUrl",t.imageKey?r.getValue(i,t.imageKey):"")}}function t9(n,e){if(n&1&&(v(0),Y(1,"date")),n&2){let t=b(2).$implicit,i=b().$implicit,r=b();j(" ",Vn(1,1,r.getValue(i,t.colKey),t.dateFormat)," ")}}function n9(n,e){if(n&1&&x(0,"app-table-cell-text",13),n&2){let t=b(2).$implicit,i=b().$implicit,r=b();y("mainText",r.getValue(i,t.colKey))("subText",t.subKey?r.getValue(i,t.subKey):"")}}function i9(n,e){if(n&1&&(h(0,"td",11),T(1,t9,2,4)(2,n9,1,2,"app-table-cell-text",13),d()),n&2){let t=b().$implicit,i=b(2);g(),J(t.type===i.ColumnType.DATE?1:2)}}function r9(n,e){if(n&1&&T(0,e9,2,3,"th",10)(1,i9,3,1,"td",11),n&2){let t=e.$index;J(t==0?0:1)}}function s9(n,e){if(n&1){let t=Q();h(0,"tr",9),E("click",function(){let r=O(t).$implicit,s=b();return L(s.handleRowClicked(r.id))}),Zn(1,r9,2,1,null,null,Ff),d()}if(n&2){let t=b();g(),Kn(t.tableConfig().columns)}}var _i=class n{constructor(e){this.location=e}tableConfig=_e.required();data=_e.required();orderKey=_e();orderDirection=_e();headerClicked=At();rowClicked=At();handleHeaderClicked(e){this.headerClicked.emit(e)}handleRowClicked(e){this.rowClicked.emit(e)}getValue(e,t){return e[t]}goBack(){this.location.back()}Order=jn;ColumnType=Ao;static \u0275fac=function(t){return new(t||n)(C(Rt))};static \u0275cmp=A({type:n,selectors:[["app-table"]],inputs:{tableConfig:[1,"tableConfig"],data:[1,"data"],orderKey:[1,"orderKey"],orderDirection:[1,"orderDirection"]},outputs:{headerClicked:"headerClicked",rowClicked:"rowClicked"},standalone:!0,features:[I],decls:8,vars:0,consts:[[1,"table"],[1,"cursor-pointer","hover:bg-gray-100","hidden","sm:table-cell",3,"ngClass"],[1,"cursor-pointer","hover:bg-info"],[1,"cursor-pointer","hover:bg-gray-100","hidden","sm:table-cell",3,"click","ngClass"],[1,"flex","justify-between"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke-width","1.5","stroke","currentColor",1,"size-6"],["stroke-linecap","round","stroke-linejoin","round","d","m15 11.25-3-3m0 0-3 3m3-3v7.5M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"],["stroke-linecap","round","stroke-linejoin","round","d","m9 12.75 3 3m0 0 3-3m-3 3v-7.5M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"],["stroke-linecap","round","stroke-linejoin","round","d","M8.625 12a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Zm0 0H8.25m4.125 0a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Zm0 0H12m4.125 0a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Zm0 0h-.375M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"],[1,"cursor-pointer","hover:bg-info",3,"click"],["scope","row"],[1,"hidden","sm:table-cell"],[3,"mainText","subText","imgUrl"],[3,"mainText","subText"]],template:function(t,i){t&1&&(h(0,"table",0)(1,"thead")(2,"tr"),Zn(3,J7,5,3,"th",1,W7),d()(),h(5,"tbody"),Zn(6,s9,3,0,"tr",2,Y7),d()()),t&2&&(g(3),Kn(i.tableConfig().columns),g(3),Kn(i.data()))},dependencies:[Gt,Gg,qg,qt]})};var bi=class n{selectFormControl=new te(10);subscription;valueSelected=At();ngOnInit(){this.subscription=this.selectFormControl.valueChanges.pipe(ln(10),_r()).subscribe(e=>{e&&this.valueSelected.emit(e)})}ngOnDestroy(){this.subscription?.unsubscribe()}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=A({type:n,selectors:[["app-select-limit"]],outputs:{valueSelected:"valueSelected"},standalone:!0,features:[I],decls:9,vars:5,consts:[[1,"select","select-bordered","w-full",3,"formControl"],["selected","",3,"value"]],template:function(t,i){t&1&&(h(0,"select",0)(1,"option",1),v(2,"5"),d(),h(3,"option",1),v(4,"10"),d(),h(5,"option",1),v(6,"25"),d(),h(7,"option",1),v(8,"50"),d()()),t&2&&(y("formControl",i.selectFormControl),g(),y("value",5),g(2),y("value",10),g(2),y("value",25),g(2),y("value",50))},dependencies:[Je,ho,po,Lr,on,or]})};var fc=class n{static \u0275fac=function(t){return new(t||n)};static \u0275cmp=A({type:n,selectors:[["app-back-button-dashboard"]],standalone:!0,features:[I],decls:4,vars:0,consts:[["routerLink","/dashboard/",1,"btn","grow","flex","items-center","gap-2"],["src","left.svg","alt","Back Icon",1,"w-6","h-6"],[1,"hidden","md:inline"]],template:function(t,i){t&1&&(h(0,"a",0),x(1,"img",1),h(2,"span",2),v(3,"Voltar"),d()())},dependencies:[Fe]})};var Hn=class{pageSubject=new Be(1);page$=this.pageSubject.asObservable().pipe(ln(50),_r());orderBySubject=new Be("id");orderBy$=this.orderBySubject.asObservable().pipe(ln(50),_r());orderSubject=new Be("ASC");order$=this.orderSubject.asObservable().pipe(ln(50),_r());limitSubject=new Be(10);limit$=this.limitSubject.asObservable().pipe(ln(50),_r(),q(console.log));searchSubject=new Be("");search$=this.searchSubject.asObservable().pipe(ln(100),_r());query$=Xo([this.page$,this.orderBy$,this.order$,this.limit$,this.search$]).pipe(ln(50),V(([e,t,i,r,s])=>({page:e,order:i,orderBy:t,limit:r,search:s})));totalPagesSubject=new Be(0);totalPages$=this.totalPagesSubject.asObservable().pipe(_r());get queryString(){return`?page=${this.pageSubject.value}&orderBy=${this.orderBySubject.value}&order=${this.orderSubject.value}&limit=${this.limitSubject.value}&search=${this.searchSubject.value}`}setOrderBy(e){let t=this.orderBySubject.value;if(e===t)return this.toggleOrderDirection();this.orderBySubject.next(e),this.resetOrderDirection()}setSearch(e){this.searchSubject.next(e),this.setPage(1)}nextPage(){let e=this.pageSubject.getValue();this.totalPagesSubject.value!==0&&this.totalPagesSubject.value!==this.pageSubject.value&&this.pageSubject.next(e+1)}prevPage(){let e=this.pageSubject.getValue();e>1&&this.pageSubject.next(e-1)}setTotalPages(e){this.totalPagesSubject.next(e)}setPageSize(e){e>0&&(this.limitSubject.next(e),this.pageSubject.next(1))}clearAll(){this.pageSubject.next(1),this.orderSubject.next("ASC"),this.orderBySubject.next("id"),this.limitSubject.next(10),this.searchSubject.next("")}setPage(e){this.pageSubject.next(e)}toggleOrderDirection(){this.orderSubject.value==="DESC"?this.orderSubject.next("ASC"):this.orderSubject.next("DESC")}resetOrderDirection(){this.orderSubject.next("ASC")}};var Hr=class n extends Hn{constructor(t,i){super();this.httpClient=t;this.toastService=i}url=N.apiUrl+"users";roleSubject=new Be("");role$=this.roleSubject.asObservable().pipe(ln(100));fetchList(){return this.httpClient.get(this.url+this.queryString+(this.roleSubject.value?"&role="+this.roleSubject.value:"")).pipe(q(t=>{this.setTotalPages(t.totalPages)}),V(t=>t.data),V(t=>t.map(i=>(i.profilePicture&&(i.profilePicture=N.photoUser+i.profilePicture),i))),ie(t=>(N.production||console.error(t),z([]))))}fetchItem(t){return this.httpClient.get(`${this.url}/${t}`).pipe(q(i=>{i.employee?.contractStart&&(i.employee.contractStart=new Date(i.employee?.contractStart)),N.production||console.log("Fetched user:",i)}),ie(i=>{throw N.production||console.error("Error fetching user:",i),i}))}create(t){return N.production||console.log("Creating user:",t),this.httpClient.post(this.url,t).pipe(V(i=>(N.production||console.log("User created:",i),this.toastService.success("Utilizador criado com sucesso"),i)),ie(i=>{throw N.production||console.error("Error creating user:",i),i}))}update(t){return N.production||console.log("Updating user:",t),this.httpClient.patch(`${this.url}/${t.id}`,t).pipe(V(i=>(N.production||console.log("User updated:",i),this.toastService.success("Utilizador atualizado com sucesso"),i)),ie(i=>{throw N.production||console.error("Error updating user:",i),i}))}delete(t){return this.httpClient.delete(`${this.url}/${t}`).pipe(V(()=>{this.toastService.success("Utilizador eliminado com sucesso")}),ie(i=>{throw N.production||console.error("Error deleting user:",i),i}))}changeRole(t){this.roleSubject.next(t)}static \u0275fac=function(i){return new(i||n)($(ze),$(it))};static \u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"})};var Yg=class n{constructor(e,t){this.usersService=e;this.router=t}roleControl=new te("");tableConfig={columns:[{colKey:"name",label:"Nome",type:"profile",classList:["w-40"],imageKey:"profilePicture"},{colKey:"email",label:"Email",classList:["w-32"]},{colKey:"phoneNumber",label:"Contacto",classList:["w-32"]},{colKey:"role",label:"Fun\xE7\xE3o",classList:["w-32"]}]};userListSignal=st([]);userList=vt(()=>this.userListSignal());subscription;ngOnDestroy(){this.usersService.clearAll(),this.subscription?.unsubscribe()}get page(){return this.usersService.page$}get totalPages(){return this.usersService.totalPages$}get orderBy(){return this.usersService.orderBy$}get orderDirection(){return this.usersService.order$}get limit(){return this.usersService.limit$}ngOnInit(){this.roleControl.valueChanges.subscribe(e=>{e!==null&&this.handleRoleChange(e)}),this.usersService.query$.pipe(eu(this.usersService.role$),Ye(()=>this.usersService.fetchList()),V(e=>e.map(t=>ye(P({},t),{role:this.translateRole(t.role)}))),V(e=>this.userListSignal.set(e))).subscribe()}handleSearch(e){this.usersService.setSearch(e)}handleNextPage(){this.usersService.nextPage()}handlePreviousPage(){this.usersService.prevPage()}handleHeaderClick(e){this.usersService.setOrderBy(e)}handleRowCliked(e){this.router.navigate(["/users/detail",e])}handleLimitChange(e){this.usersService.setPageSize(e)}translateRole(e){switch(e){case"manager":return"Manager";case"caretaker":return"Cuidador";case"relative":return"Familiar";default:return"Desconhecido"}}Order=jn;get Role(){return ti}handleRoleChange=e=>{this.usersService.changeRole(e)};static \u0275fac=function(t){return new(t||n)(C(Hr),C(Z))};static \u0275cmp=A({type:n,selectors:[["app-users"]],standalone:!0,features:[I],decls:28,vars:19,consts:[[1,"container","px-2","sm:px-0","mx-auto"],[1,"flex","flex-col","sm:flex-row","gap-3","my-2.5"],[1,"flex","gap-2","grow"],[1,"grow","w-24","sm:w-auto",3,"onSearch"],[1,"select","select-bordered","w-32","sm:w-auto",3,"formControl"],[3,"value"],[1,"flex","gap-2","w-full","sm:w-auto"],[1,"w-20","sm:w-auto",3,"valueSelected"],["routerLink","/users/create",1,"btn","flex-1","sm:flex-none"],["fill","none","stroke","currentColor","stroke-width","1.5","viewBox","0 0 24 24","xmlns","http://www.w3.org/2000/svg",1,"size-6"],["d","M12 4.5v15m7.5-7.5h-15","stroke-linecap","round","stroke-linejoin","round"],[3,"headerClicked","rowClicked","data","tableConfig","orderDirection","orderKey"],[1,"flex","justify-center","mt-2.5"],[3,"nextPage","previousPage","pageNumber","totalPages"]],template:function(t,i){t&1&&(h(0,"div",0)(1,"section",1)(2,"div",2)(3,"app-search-box",3),E("onSearch",function(s){return i.handleSearch(s)}),d(),h(4,"select",4)(5,"option",5),v(6,"Todos"),d(),h(7,"option",5),v(8,"Gestor"),d(),h(9,"option",5),v(10,"Cuidador"),d(),h(11,"option",5),v(12,"Familiar"),d()()(),h(13,"div",6)(14,"app-select-limit",7),E("valueSelected",function(s){return i.handleLimitChange(s)}),d(),h(15,"a",8),ee(),h(16,"svg",9),x(17,"path",10),d(),v(18," Adicionar "),d(),zi(),x(19,"app-back-button-dashboard"),d()(),h(20,"section")(21,"app-table",11),Y(22,"async"),Y(23,"async"),E("headerClicked",function(s){return i.handleHeaderClick(s)})("rowClicked",function(s){return i.handleRowCliked(s)}),d()(),h(24,"section",12)(25,"app-paginator",13),Y(26,"async"),Y(27,"async"),E("nextPage",function(){return i.handleNextPage()})("previousPage",function(){return i.handlePreviousPage()}),d()()()),t&2&&(g(4),y("formControl",i.roleControl),g(),y("value",""),g(2),y("value",i.Role.Manager),g(2),y("value",i.Role.Caretaker),g(2),y("value",i.Role.Relative),g(10),y("data",i.userList())("tableConfig",i.tableConfig)("orderDirection",X(22,11,i.orderDirection)||i.Order.ASC)("orderKey",X(23,13,i.orderBy)||"id"),g(4),y("pageNumber",X(26,15,i.page)||1)("totalPages",X(27,17,i.totalPages)||1))},dependencies:[vi,yi,_i,qe,bi,Fe,Je,ho,po,Lr,on,or,fc]})};var o9=["*",[["","error",""]]],a9=["*","[error]"];function l9(n,e){if(n&1&&v(0),n&2){let t=b(2);j(" ",t.message," ")}}function c9(n,e){n&1&&pi(0,1)}function u9(n,e){if(n&1&&T(0,l9,1,1)(1,c9,1,0),n&2){let t=b();J(t.message?0:1)}}var zn=class n{label=_e.required();placeholder=_e.required();type=_e();required=_e(!1);control=_e.required();showErrorSignal=st(!1);showError=vt(()=>this.showErrorSignal());errorMessageSignal=st("");errorMessage=vt(()=>this.errorMessageSignal());subscription;get displayLabel(){return`${this.label()}${this.required()?" *":""}`}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}ngOnInit(){this.subscription=this.control().valueChanges.subscribe({next:e=>{this.updateValidation()},error:e=>{N.production||console.error("Input validation error",e)}})}updateValidation=()=>{let e=this.control();this.showErrorSignal.set(e.invalid&&e.touched),e.errors?.required?this.errorMessageSignal.set("Este campo \xE9 obrigat\xF3rio"):e.errors?.email?this.errorMessageSignal.set("Por favor, introduza um email v\xE1lido"):e.errors?.minlength?this.errorMessageSignal.set(`O comprimento m\xEDnimo \xE9 ${e.errors?.minlength.requiredLength}`):e.errors?.maxlength?this.errorMessageSignal.set(`O comprimento m\xE1ximo \xE9 ${e.errors?.maxlength.requiredLength}`):e.errors?.pattern?this.errorMessageSignal.set("Formato inv\xE1lido"):e.errors?.min?this.errorMessageSignal.set(`O valor m\xEDnimo \xE9 ${e.errors?.min.min}`):e.errors?.max?this.errorMessageSignal.set(`O valor m\xE1ximo \xE9 ${e.errors?.max.max}`):this.errorMessageSignal.set("")};get message(){return this.control().invalid?this.control().errors?.required?"Este campo \xE9 obrigat\xF3rio":this.control().errors?.email?"Por favor, introduza um email v\xE1lido":this.control().errors?.minlength?`O comprimento m\xEDnimo \xE9 ${this.control().errors?.minlength.requiredLength}`:this.control().errors?.maxlength?`O comprimento m\xE1ximo \xE9 ${this.control().errors?.maxlength.requiredLength}`:this.control().errors?.pattern?"Formato inv\xE1lido":this.control().errors?.min?`O valor m\xEDnimo \xE9 ${this.control().errors?.min.min}`:this.control().errors?.max?`O valor m\xE1ximo \xE9 ${this.control().errors?.max.max}`:this.control().errors?.passwordMismatch?"As palavras-passe n\xE3o coincidem":this.control().errors?.salaryTooLow?"O sal\xE1rio n\xE3o pode ser inferior a 820\u20AC (sal\xE1rio m\xEDnimo)":this.control().errors?.contractEndsBeforeStart?"A data de fim do contrato n\xE3o pode ser anterior \xE0 data de in\xEDcio":this.control().errors?.futureDate?"A data tem de ser no futuro":this.control().errors?.pastDate?"A data tem de ser no passado":"Por favor, introduza um valor v\xE1lido":""}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=A({type:n,selectors:[["app-input"]],inputs:{label:[1,"label"],placeholder:[1,"placeholder"],type:[1,"type"],required:[1,"required"],control:[1,"control"]},standalone:!0,features:[I],ngContentSelectors:a9,decls:10,vars:7,consts:[[1,"flex-nowrap","text-nowrap"],[1,"form-control","w-full"],[1,"input","input-bordered","flex","items-center","gap-2","text-nowrap","flex-nowrap"],[1,"text-nowrap"],[1,"grow","border-0","focus:ring-0","active:ring-0",3,"formControl","placeholder","type"],[1,"label"],[1,"label-text-alt","text-error"]],template:function(t,i){t&1&&(nr(o9),h(0,"div",0)(1,"div",1)(2,"label",2)(3,"span",3),v(4),d(),x(5,"input",4),pi(6),d(),h(7,"div",5)(8,"span",6),T(9,u9,2,1),d()()()()),t&2&&(g(2),Xn("input-error",i.control().invalid&&i.control().touched),g(2),j(" ",i.displayLabel," "),g(),y("formControl",i.control())("placeholder",i.placeholder())("type",i.type()),g(4),J(i.control().invalid&&i.control().touched?9:-1))},dependencies:[Je,Bn,on,or],encapsulation:2})};var d9=(n,e)=>e.value;function h9(n,e){if(n&1&&(h(0,"option",4),v(1),d()),n&2){let t=e.$implicit;y("value",t.value),g(),ae(t.label)}}function p9(n,e){n&1&&(h(0,"div",5)(1,"span",6),v(2,"Este campo \xE9 obrigat\xF3rio"),d()())}var zr=class n{data=_e.required();control=_e.required();label=_e("");showErrorSignal=st(!1);showError=vt(()=>this.showErrorSignal());required=_e(!1);subject;ngOnDestroy(){this.subject?.unsubscribe()}ngOnInit(){this.validate(),this.subject=this.control().valueChanges.subscribe(()=>{this.control().markAsTouched(),this.validate()})}validate=()=>{let e=this.control(),t=e.value;!t||t===""?e.setErrors({required:!0}):e.setErrors(null),this.showErrorSignal.set(e.errors?.required&&e.touched)};static \u0275fac=function(t){return new(t||n)};static \u0275cmp=A({type:n,selectors:[["app-select-box"]],inputs:{data:[1,"data"],control:[1,"control"],label:[1,"label"],required:[1,"required"]},standalone:!0,features:[I],decls:8,vars:3,consts:[[1,"mb-3","form-control","w-full"],[1,"w-full","flex","items-center"],[1,"select","select-bordered","grow",3,"formControl"],["selected","","value",""],[3,"value"],[1,"label"],[1,"label-text-alt","text-error"]],template:function(t,i){t&1&&(h(0,"label",0)(1,"label",1)(2,"select",2)(3,"option",3),v(4),d(),Zn(5,h9,2,2,"option",4,d9),d()(),T(7,p9,3,0,"div",5),d()),t&2&&(g(2),y("formControl",i.control()),g(2),ae(i.label()),g(),Kn(i.data()),g(2),J(i.control().invalid&&i.control().touched?7:-1))},dependencies:[Je,ho,po,Lr,on,or],styles:['select[_ngcontent-%COMP%]   option[value=""][_ngcontent-%COMP%]{color:#999;font-style:italic}']})};var Qg=[{label:"Afeg\xE3",value:"Afeg\xE3"},{label:"Albanesa",value:"Albanesa"},{label:"Alem\xE3",value:"Alem\xE3"},{label:"Andorrana",value:"Andorrana"},{label:"Angolana",value:"Angolana"},{label:"Argentina",value:"Argentina"},{label:"Arm\xE9nia",value:"Arm\xE9nia"},{label:"Australiana",value:"Australiana"},{label:"Austr\xEDaca",value:"Austr\xEDaca"},{label:"Belga",value:"Belga"},{label:"Boliviana",value:"Boliviana"},{label:"Brasileira",value:"Brasileira"},{label:"Brit\xE2nica",value:"Brit\xE2nica"},{label:"B\xFAlgara",value:"B\xFAlgara"},{label:"Camaronesa",value:"Camaronesa"},{label:"Canadiana",value:"Canadiana"},{label:"Chilena",value:"Chilena"},{label:"Chinesa",value:"Chinesa"},{label:"Colombiana",value:"Colombiana"},{label:"Costarriquenha",value:"Costarriquenha"},{label:"Cubana",value:"Cubana"},{label:"Dinamarquesa",value:"Dinamarquesa"},{label:"Eg\xEDpcia",value:"Eg\xEDpcia"},{label:"Espanhola",value:"Espanhola"},{label:"Est\xF3nia",value:"Est\xF3nia"},{label:"Finlandesa",value:"Finlandesa"},{label:"Francesa",value:"Francesa"},{label:"Grega",value:"Grega"},{label:"Holandesa",value:"Holandesa"},{label:"H\xFAngara",value:"H\xFAngara"},{label:"Indiana",value:"Indiana"},{label:"Irlandesa",value:"Irlandesa"},{label:"Italiana",value:"Italiana"},{label:"Japonesa",value:"Japonesa"},{label:"Libanesa",value:"Libanesa"},{label:"Mo\xE7ambicana",value:"Mo\xE7ambicana"},{label:"Nepalesa",value:"Nepalesa"},{label:"Norueguesa",value:"Norueguesa"},{label:"Polaca",value:"Polaca"},{label:"Portuguesa",value:"Portuguesa"},{label:"Romena",value:"Romena"},{label:"Russa",value:"Russa"},{label:"Sueca",value:"Sueca"},{label:"Su\xED\xE7a",value:"Su\xED\xE7a"},{label:"Turca",value:"Turca"},{label:"Ucraniana",value:"Ucraniana"},{label:"Uruguaia",value:"Uruguaia"},{label:"Venezuelana",value:"Venezuelana"}];var f9=["*"],xi=class n{handleOnClick(){this.onClick.emit()}onClick=At();type=_e.required();label=_e.required();static \u0275fac=function(t){return new(t||n)};static \u0275cmp=A({type:n,selectors:[["app-button"]],inputs:{type:[1,"type"],label:[1,"label"]},outputs:{onClick:"onClick"},standalone:!0,features:[I],ngContentSelectors:f9,decls:5,vars:2,consts:[[1,"btn","btn-success",3,"click","type"],["src","check.svg","alt","Check Icon",1,"w-6","h-6"]],template:function(t,i){t&1&&(nr(),h(0,"button",0),E("click",function(){return i.handleOnClick()}),x(1,"img",1),h(2,"span"),v(3),d(),pi(4),d()),t&2&&(y("type",i.type()),g(3),ae(i.label()))}})};function m9(n,e){if(n&1&&(h(0,"h2",10),v(1,"Dados de Acesso"),d(),h(2,"div",4),x(3,"app-input",21)(4,"app-input",22),d()),n&2){let t=b();g(3),y("control",t.password)("required",!0),g(),y("control",t.repeatPassword)("required",!0)}}function g9(n,e){if(n&1&&(h(0,"h2",10),v(1,"Dados de Contrato"),d(),h(2,"div",23),x(3,"app-input",24)(4,"app-input",25),d(),x(5,"app-input",26)),n&2){let t=b();g(3),y("control",t.contractStart)("required",!0),g(),y("control",t.contractEnds)("required",!0),g(),y("control",t.salary)("required",!0)}}var mc=class n{constructor(e){this.location=e}initialData=_e();createRequested=At();name=new te("",[K.required]);email=new te("",[K.required,K.email]);phoneNumber=new te("",[K.required,K.minLength(7),K.maxLength(15),K.pattern(/^[0-9\s+]*$/)]);password=new te("",[K.required,K.minLength(8)]);repeatPassword=new te("",[K.required,K.minLength(8)]);address=new te("",[K.required]);city=new te("",[K.required]);postcode=new te("",[K.required]);nationality=new te("",[K.required]);fiscalCode=new te("",[K.required]);role=new te("",[K.required]);contractStart=new te(new Date().toISOString().substring(0,10),[K.required]);contractEnds=new te(new Date(new Date().getTime()+24*60*60*1e3).toISOString().substring(0,10),[K.required]);salary=new te(820,[K.required,K.min(820)]);passwordMatchValidator=e=>{let t=e.get("password")?.value,i=e.get("repeatPassword")?.value;return t===i?null:{passwordMismatch:!0}};salaryValidator=e=>{let t=e.get("role")?.value,i=e.get("salary")?.value;return t!=="relative"&&i<820?{salaryTooLow:!0}:null};contractEndsValidator=e=>{let t=e.get("contractStart")?.value,i=e.get("contractEnds")?.value;return new Date(t)>new Date(i)?{contractEndsBeforeStart:!0}:null};form=new Ot({name:this.name,email:this.email,phoneNumber:this.phoneNumber,fiscalCode:this.fiscalCode,password:this.password,repeatPassword:this.repeatPassword,address:this.address,city:this.city,postcode:this.postcode,nationality:this.nationality,role:this.role,contractStart:this.contractStart,contractEnds:this.contractEnds,salary:this.salary},{validators:[this.passwordMatchValidator,this.salaryValidator,this.contractEndsValidator]});roles=Object.values(ti).map(e=>({value:e,label:this.translateRole(e)}));translateRole(e){switch(e){case"manager":return"Manager";case"caretaker":return"Cuidador";case"relative":return"Familiar";default:return"Desconhecido"}}ngOnInit(){if(this.initialData()){let e=this.initialData();this.name.setValue(e.name),this.email.setValue(e.email),this.phoneNumber.setValue(e.phoneNumber),this.address.setValue(e.address),this.city.setValue(e.city),this.postcode.setValue(e.postcode),this.fiscalCode.setValue(e.fiscalId),this.role.setValue(e.role),e.role!=="relative"&&(this.contractStart.setValue(new Date(e.employee?.contractStart||0).toISOString().substring(0,10)),this.contractEnds.setValue(new Date(e.employee?.contractEnds||0).toISOString().substring(0,10)),this.salary.setValue(e.employee?.salary||null));let t=this.nationalities.find(i=>i.value===e.nationality);t||(t=this.nationalities.find(i=>i.value.toLowerCase()===e.nationality.toLowerCase()||i.label.toLowerCase()===e.nationality.toLowerCase())),t?this.nationality.setValue(t.value):(this.nationalities.push({value:e.nationality,label:e.nationality}),this.nationality.setValue(e.nationality)),this.password.setValue("ExamplePassword"),this.repeatPassword.setValue("ExamplePassword")}}onSubmit(){if(this.form.invalid){this.markAllAsTouched(),N.production||console.log("Form invalid:",this.form.value,this.form.errors),this.form.errors&&this.form.errors.passwordMismatch&&this.repeatPassword.setErrors({passwordMismatch:!0}),this.form.errors&&this.form.errors.salaryTooLow&&this.salary.setErrors({salaryTooLow:!0}),this.form.errors&&this.form.errors.contractEndsBeforeStart&&this.contractEnds.setErrors({contractEndsBeforeStart:!0});return}console.log("Form submitted:",this.form.value,this.form.valid),console.log("this.salary.value",this.salary.value,typeof this.salary.value),this.createRequested.emit({name:this.name.value,email:this.email.value,phoneNumber:this.phoneNumber.value,password:this.password.value,address:this.address.value,city:this.city.value,postcode:this.postcode.value,fiscalId:this.fiscalCode.value,nationality:this.nationality.value,role:this.role.value,salary:parseFloat(`${this.salary.value}`),contractStart:new Date(this.contractStart.value),contractEnds:new Date(this.contractEnds.value)})}markAllAsTouched(){Object.values(this.form.controls).forEach(e=>{e.markAsTouched()})}environment=N;nationalities=Qg;onRoleChange(){}FormControl=te;goBack(){this.location.back()}static \u0275fac=function(t){return new(t||n)(C(Rt))};static \u0275cmp=A({type:n,selectors:[["app-form-users"]],inputs:{initialData:[1,"initialData"]},outputs:{createRequested:"createRequested"},standalone:!0,features:[I],decls:34,vars:21,consts:[[1,"px-4","sm:px-6","lg:px-36","max-w-full",3,"ngSubmit","formGroup"],[1,"card-title","text-2xl","mb-5"],[1,"mb-3","card-title"],["label","Nome","placeholder","Jo\xE3o Silva","type","text",1,"border-0","w-full","p-1",3,"control","required"],[1,"grid","grid-cols-1","sm:grid-cols-2","gap-5"],["label","Email","placeholder","example@ex.com","type","email",1,"border-0","w-full","p-1","truncate",3,"control","required"],["fill","none","stroke","currentColor","stroke-width","1.5","viewBox","0 0 24 24","xmlns","http://www.w3.org/2000/svg",1,"size-6","max-w-full"],["d","M21.75 6.75v10.5a2.25 2.25 0 0 1-2.25 2.25h-15a2.25 2.25 0 0 1-2.25-2.25V6.75m19.5 0A2.25 2.25 0 0 0 19.5 4.5h-15a2.25 2.25 0 0 0-2.25 2.25m19.5 0v.243a2.25 2.25 0 0 1-1.07 1.916l-7.5 4.615a2.25 2.25 0 0 1-2.36 0L3.32 8.91a2.25 2.25 0 0 1-1.07-1.916V6.75","stroke-linecap","round","stroke-linejoin","round"],["label","Contacto","placeholder","+351229954455","type","text",1,"border-0","w-full","p-1","truncate",3,"control","required"],["d","M2.25 6.75c0 8.284 6.716 15 15 15h2.25a2.25 2.25 0 0 0 2.25-2.25v-1.372c0-.516-.351-.966-.852-1.091l-4.423-1.106c-.44-.11-.902.055-1.173.417l-.97 1.293c-.282.376-.769.542-1.21.38a12.035 12.035 0 0 1-7.143-7.143c-.162-.441.004-.928.38-1.21l1.293-.97c.363-.271.527-.734.417-1.173L6.963 3.102a1.125 1.125 0 0 0-1.091-.852H4.5A2.25 2.25 0 0 0 2.25 4.5v2.25Z","stroke-linecap","round","stroke-linejoin","round"],[1,"card-title","mb-3","mt-4"],["label","Endere\xE7o","placeholder","Rua da Cruz","type","text",1,"border-0","w-full","p-1","truncate",3,"control","required"],["label","Codigo Postal","placeholder","7778-234","type","text",1,"border-0","w-full","p-1","truncate",3,"control","required"],["label","Cidade","placeholder","Lisboa","type","text",1,"border-0","w-full","p-1","truncate",3,"control","required"],["label","NIF","placeholder","200000000","type","text",1,"border-0","w-full","p-1","truncate",3,"control","required"],["label","Nacionalidade",3,"control","data"],["label","Fun\xE7\xE3o",3,"change","control","data"],[1,"flex","flex-row","items-center","justify-center","gap-4","mt-6"],[1,"btn","btn-secondary","flex","items-center","gap-2","sm:w-auto",3,"click"],["src","left-arrow.svg","alt","Left Arrow Icon",1,"w-6","h-6","max-w-full"],["label","Guardar","type","submit",3,"click"],["label","Password","placeholder","","type","password",1,"border-0","w-full","p-1","truncate",3,"control","required"],["label","Repetir","placeholder","","type","password",1,"border-0","w-full","p-1","truncate",3,"control","required"],[1,"grid","grid-cols-2","gap-5"],["label","In\xEDcio do Contrato","placeholder","YYYY-MM-DD","type","date",1,"border-0","w-full","p-1",3,"control","required"],["label","Fim do Contrato","placeholder","YYYY-MM-DD","type","date",1,"border-0","w-full","p-1",3,"control","required"],["label","Sal\xE1rio","placeholder","50000.00","type","number",1,"border-0","w-full","p-1",3,"control","required"]],template:function(t,i){t&1&&(h(0,"form",0),E("ngSubmit",function(){return i.onSubmit()}),h(1,"h1",1),v(2,"Criar Utilizador"),d(),h(3,"h2",2),v(4,"Dados de Contacto"),d(),x(5,"app-input",3),h(6,"div",4)(7,"app-input",5),ee(),h(8,"svg",6),x(9,"path",7),d()(),zi(),h(10,"app-input",8),ee(),h(11,"svg",6),x(12,"path",9),d()()(),T(13,m9,5,4),zi(),h(14,"h2",10),v(15,"Morada"),d(),x(16,"app-input",11),h(17,"div",4),x(18,"app-input",12)(19,"app-input",13),d(),h(20,"h2",10),v(21,"Dados Pessoais"),d(),h(22,"div",4),x(23,"app-input",14)(24,"app-select-box",15),d(),h(25,"h2",10),v(26,"Permiss\xF5es"),d(),h(27,"app-select-box",16),E("change",function(){return i.onRoleChange()}),d(),T(28,g9,6,6),h(29,"div",17)(30,"button",18),E("click",function(){return i.goBack()}),x(31,"img",19),v(32," Voltar "),d(),h(33,"app-button",20),E("click",function(){return i.onSubmit()}),d()()()),t&2&&(y("formGroup",i.form),g(5),y("control",i.name)("required",!0),g(2),y("control",i.email)("required",!0),g(3),y("control",i.phoneNumber)("required",!0),g(3),J(i.initialData()?-1:13),g(3),y("control",i.address)("required",!0),g(2),y("control",i.postcode)("required",!0),g(),y("control",i.city)("required",!0),g(4),y("control",i.fiscalCode)("required",!0),g(),y("control",i.nationality)("data",i.nationalities),g(3),y("control",i.role)("data",i.roles),g(),J(i.form.controls.role.getRawValue()==="manager"||i.form.controls.role.getRawValue()==="caretaker"?28:-1))},dependencies:[zn,zr,xi,Je,Nt,Lt,un]})};var gc=class n{constructor(e,t){this.httpClient=e;this.toastService=t}url=N.apiUrl+"employees";fetchItem(e){return this.httpClient.get(`${this.url}/${e}`).pipe(q(t=>{N.production||console.log("Fetched employee:",t)}),ie(t=>{throw N.production||console.error("Error fetching user:",t),t}))}create(e){return N.production||console.log("Creating employee:",e),this.httpClient.post(this.url,e).pipe(V(t=>(N.production||console.log("Employee created:",t),this.toastService.success("Funcion\xE1rio criado com sucesso"),t)),ie(t=>{throw N.production||console.log("Error creating employee:",t),t}))}update(e){return N.production||console.log("Updating employee:",e),this.httpClient.patch(`${this.url}/${e.id}`,e).pipe(V(t=>(N.production||console.log("Funcion\xE1rio atualizado com sucesso:",t),this.toastService.success("Employee updated successfully"),t)),ie(t=>{throw N.production||console.error("Error updating employee:",t),t}))}static \u0275fac=function(t){return new(t||n)($(ze),$(it))};static \u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"})};var Xg=class n{constructor(e,t,i){this.usersService=e;this.employeeService=t;this.router=i;this.submitSub=this.submitQueue.pipe(en(r=>this.usersService.create(r))).subscribe({next:r=>{this.router.navigate(["/users"])},error:r=>console.error(r)})}userCreateSub;isSubmitting=!1;submitQueue=new ut;submitSub;ngOnDestroy(){this.submitQueue.complete(),this.submitSub.unsubscribe()}onFormSubmit(e){this.isSubmitting||(this.isSubmitting=!0,this.userCreateSub=this.usersService.create(e).pipe(Qt(1),nt(t=>Kc(()=>t.role!=="relative",this.employeeService.create({salary:e.salary,contractStart:e.contractStart,contractEnds:e.contractEnds,userId:t.id}),z(t)))).subscribe({next:()=>{this.isSubmitting=!1,this.router.navigate(["/users"])},error:t=>{this.isSubmitting=!1,console.error(t)}}))}static \u0275fac=function(t){return new(t||n)(C(Hr),C(gc),C(Z))};static \u0275cmp=A({type:n,selectors:[["app-users-create"]],standalone:!0,features:[I],decls:1,vars:0,consts:[[3,"createRequested"]],template:function(t,i){t&1&&(h(0,"app-form-users",0),E("createRequested",function(s){return i.onFormSubmit(s)}),d())},dependencies:[mc,mi]})};var v9=["modal"],An=class n{title=_e("title",{alias:"title"});message=_e.required();confirmLabel=_e("Confirmar",{alias:"confirmLabel"});cancelLabel=_e("Cancelar",{alias:"cancelLabel"});confirmClass=_e("confirmClass",{alias:"confirmClass"});confirm=At();modal;show(){this.modal.nativeElement.showModal()}close(){this.modal.nativeElement.close()}onConfirm(){this.confirm.emit(),this.close()}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=A({type:n,selectors:[["app-modal-confirm"]],viewQuery:function(t,i){if(t&1&&Ct(v9,5),t&2){let r;Te(r=Ae())&&(i.modal=r.first)}},inputs:{title:[1,"title"],message:[1,"message"],confirmLabel:[1,"confirmLabel"],cancelLabel:[1,"cancelLabel"],confirmClass:[1,"confirmClass"]},outputs:{confirm:"confirm"},standalone:!0,features:[I],decls:15,vars:6,consts:[["modal",""],[1,"modal","modal-bottom","sm:modal-middle"],[1,"modal-box"],[1,"font-bold","text-lg"],[1,"py-4"],[1,"modal-action"],["method","dialog",1,"space-x-2"],[1,"inline-flex","items-center",3,"click"],["src","no.svg","alt","No Icon",1,"w-6","h-6"],[1,"btn","btn-warning","inline-flex","items-center","gap-2",3,"click"],["src","warning.svg","alt","Warning Icon",1,"w-6","h-6"]],template:function(t,i){if(t&1){let r=Q();h(0,"dialog",1,0)(2,"div",2)(3,"h3",3),v(4),d(),h(5,"p",4),v(6),d(),h(7,"div",5)(8,"form",6)(9,"button",7),E("click",function(){return O(r),L(i.onConfirm())}),x(10,"img",8),v(11),d(),h(12,"button",9),E("click",function(){return O(r),L(i.close())}),x(13,"img",10),v(14),d()()()()()}t&2&&(g(4),ae(i.title()),g(2),ae(i.message()),g(3),Nf("btn btn-primary "+i.confirmClass),g(2),j(" ",i.confirmLabel()," "),g(3),j(" ",i.cancelLabel()," "))},dependencies:[Xt]})};var Yt=class n{static \u0275fac=function(t){return new(t||n)};static \u0275cmp=A({type:n,selectors:[["app-loading"]],standalone:!0,features:[I],decls:1,vars:0,consts:[[1,"loading","loading-spinner","loading-lg"]],template:function(t,i){t&1&&x(0,"span",0)}})};var y9=n=>["/users",n,"edit"],_9=n=>["/employees",n,"shifts"];function b9(n,e){if(n&1&&(Mt(0),h(1,"a",31),x(2,"img",32),v(3," Turnos "),d(),kt()),n&2){let t=b(3);g(),y("routerLink",he(1,_9,t.user.employee==null?null:t.user.employee.id))}}function x9(n,e){if(n&1&&x(0,"img",33),n&2){let t=b(3);y("src",t.profilePicture,hi)}}function C9(n,e){n&1&&x(0,"img",34)}function w9(n,e){if(n&1){let t=Q();h(0,"button",35),E("click",function(){O(t);let r=b(3);return L(r.removeProfilePicture())}),v(1," Remover Foto "),d()}}function S9(n,e){if(n&1&&(Mt(0),h(1,"p")(2,"span",29),v(3,"Sal\xE1rio:"),d(),v(4),d(),h(5,"p")(6,"span",29),v(7,"In\xEDcio do Contrato:"),d(),v(8),d(),h(9,"p")(10,"span",29),v(11,"Fim do Contrato:"),d(),v(12),d(),kt()),n&2){let t=b(3);g(4),j(" ",t.user.employee==null?null:t.user.employee.salary,""),g(4),j(" ",t.formatDateToPortuguese(t.user.employee==null?null:t.user.employee.contractStart)," "),g(4),j(" ",t.formatDateToPortuguese(t.user.employee==null?null:t.user.employee.contractEnds)," ")}}function E9(n,e){if(n&1){let t=Q();h(0,"div",6)(1,"div",7)(2,"div",8)(3,"div",9)(4,"h2",10),v(5," Perfil do Utilizador "),d(),h(6,"div",11),T(7,b9,4,3,"ng-container",5),Y(8,"async"),h(9,"a",12),x(10,"img",13),v(11," Editar "),d(),h(12,"button",14),E("click",function(){O(t);let r=b(2);return L(r.showDeleteModal())}),x(13,"img",15),v(14," Eliminar "),d()()(),h(15,"div",16)(16,"div",17)(17,"div",18)(18,"div",19),T(19,x9,1,1,"img",20)(20,C9,1,0,"ng-template",null,1,Ut),h(22,"div",21)(23,"div",22)(24,"button",23),E("click",function(){O(t);let r=$t(28);return L(r.click())}),v(25," Alterar Foto "),d(),T(26,w9,2,0,"button",24),d()(),h(27,"input",25,2),E("change",function(r){O(t);let s=b(2);return L(s.onProfilePictureSelected(r))}),d()()()(),h(29,"div",26)(30,"div",27)(31,"h3",28),v(32,"Dados Pessoais"),d(),h(33,"p")(34,"span",29),v(35,"Nome:"),d(),v(36),d(),h(37,"p")(38,"span",29),v(39,"Email:"),d(),v(40),d(),h(41,"p")(42,"span",29),v(43,"N\xFAmero de Telefone:"),d(),v(44),d(),h(45,"p")(46,"span",29),v(47,"ID Fiscal:"),d(),v(48),d(),h(49,"p")(50,"span",29),v(51,"Nacionalidade:"),d(),v(52),d(),h(53,"p")(54,"span",29),v(55,"Fun\xE7\xE3o:"),d(),v(56),d()(),h(57,"div",27)(58,"p")(59,"span",29),v(60,"Morada:"),d(),v(61),d(),h(62,"p")(63,"span",29),v(64,"Cidade:"),d(),v(65),d(),h(66,"p")(67,"span",29),v(68,"C\xF3digo Postal:"),d(),v(69),d(),T(70,S9,13,3,"ng-container",5),d()()()()(),h(71,"app-modal-confirm",30),E("confirm",function(){O(t);let r=b(2);return L(r.onDelete())}),d()()}if(n&2){let t,i=$t(21),r=b(2);g(7),y("ngIf",((t=X(8,15,r.loggedUser))==null?null:t.role)===r.Role.Manager&&r.user.role!==r.RolePt.Familiar),g(2),y("routerLink",he(17,y9,r.user.id)),g(10),y("ngIf",r.profilePicture)("ngIfElse",i),g(7),y("ngIf",r.profilePicture),g(10),j(" ",r.user.name,""),g(4),j(" ",r.user.email,""),g(4),j(" ",r.user.phoneNumber,""),g(4),j(" ",r.user.fiscalId,""),g(4),j(" ",r.user.nationality,""),g(4),j(" ",r.user.role,""),g(5),j(" ",r.user.address,""),g(4),j(" ",r.user.city,""),g(4),j(" ",r.user.postcode,""),g(),y("ngIf",r.user.role!==r.Role.Relative)}}function D9(n,e){n&1&&(Mt(0),x(1,"app-loading"),kt())}function T9(n,e){if(n&1&&(Mt(0),T(1,E9,72,19,"div",4)(2,D9,2,0,"ng-container",5),kt()),n&2){let t=b();g(),y("ngIf",t.user),g(),y("ngIf",!t.user)}}function A9(n,e){if(n&1&&(h(0,"p",36),v(1),d()),n&2){let t=b();g(),ae(t.error)}}var Zg=class n{constructor(e,t,i,r,s,o,a){this.usersService=e;this.route=t;this.router=i;this.authService=r;this.datePipe=s;this.http=o;this.toastService=a}user=null;error=null;subs=[];deleteModal;employeeId=null;profilePicture;photoResidentUrl=N.photoResident;apiUrl=N.apiUrl;ngOnInit(){let e=Number(this.route.snapshot.paramMap.get("id"));e&&this.subs.push(this.usersService.fetchItem(e).pipe(q(console.log),V(t=>ye(P({},t),{role:this.translateRole(t.role)}))).subscribe({next:t=>{this.user=t,this.user?.profilePicture&&(this.profilePicture=`${this.photoResidentUrl}${this.user?.profilePicture}`)},error:t=>{console.error(t),this.error="User not found"}}))}get loggedUser(){return this.authService.getUser()}ngOnDestroy(){this.subs.forEach(e=>e.unsubscribe())}onDelete(){this.user?.id&&this.subs.push(this.usersService.delete(this.user.id).subscribe({next:()=>this.router.navigate(["/users"]),error:e=>{console.error(e),this.error="Failed to delete user"}}))}showDeleteModal(){this.deleteModal.show()}Role=ti;formatDateToPortuguese(e){return e?new Intl.DateTimeFormat("pt-PT",{day:"2-digit",month:"long",year:"numeric"}).format(new Date(e)):"N/A"}translateRole(e){switch(e){case"manager":return"Manager";case"caretaker":return"Cuidador";case"relative":return"Familiar";default:return"Desconhecido"}}RolePt=ud;onProfilePictureSelected(e){let t=e.target;if(t.files&&t.files[0]){let i=t.files[0],r=new FormData;r.append("file",i),this.http.post(`${this.apiUrl}users/${this.user?.id}/upload`,r).subscribe({next:()=>{this.profilePicture=URL.createObjectURL(i)},error:s=>{console.error(s),this.toastService.error("Falha ao enviar imagem")}})}}removeProfilePicture(){this.http.delete(`${this.apiUrl}users/${this.user.id}/upload`).subscribe({next:()=>{this.profilePicture=null},error:e=>{console.error(e),this.toastService.error("Falha ao remover imagem")}})}static \u0275fac=function(t){return new(t||n)(C(Hr),C(ge),C(Z),C(be),C(qt),C(ze),C(it))};static \u0275cmp=A({type:n,selectors:[["app-users-detail"]],viewQuery:function(t,i){if(t&1&&Ct(An,5),t&2){let r;Te(r=Ae())&&(i.deleteModal=r.first)}},standalone:!0,features:[cn([qt]),I],decls:3,vars:2,consts:[["errorTpl",""],["defaultPicture",""],["fileUpload",""],[4,"ngIf","ngIfElse"],["class","container mx-auto p-4 md:p-6",4,"ngIf"],[4,"ngIf"],[1,"container","mx-auto","p-4","md:p-6"],[1,"card","bg-base-100","shadow-xl","relative"],[1,"card-body","pt-6"],[1,"flex","flex-col","md:flex-row","items-center","md:justify-between","gap-4","mb-4"],[1,"card-title","text-2xl","font-semibold","text-center","md:text-left"],[1,"flex","flex-wrap","justify-center","md:justify-end","gap-2"],[1,"btn","btn-info","inline-flex","items-center","gap-1","text-xs","md:text-base",3,"routerLink"],["src","pencil.svg","alt","Edit Icon",1,"w-6","h-6"],[1,"btn","btn-primary","inline-flex","items-center","gap-1","text-xs","md:text-base",3,"click"],["src","delete.svg","alt","Delete Icon",1,"w-6","h-6"],[1,"flex","flex-col","md:flex-row","items-center","md:items-start","gap-4","md:gap-6"],[1,"avatar","flex-shrink-0"],[1,"w-32","h-32","md:w-72","md:h-72","rounded-lg","ring","ring-neutral","ring-offset-base-100","ring-offset-2","overflow-hidden"],[1,"relative","group"],["alt","Foto de Perfil","class","object-cover w-full h-full max-w-full",3,"src",4,"ngIf","ngIfElse"],[1,"absolute","inset-0","bg-black","bg-opacity-50","flex","items-center","justify-center","rounded-full","opacity-0","group-hover:opacity-100","transition"],[1,"flex","flex-col","space-y-2"],[1,"w-full","bg-white","text-gray-800","text-sm","font-medium","px-4","py-2","rounded-lg","shadow","hover:bg-gray-200",3,"click"],["class","w-full bg-red-500 text-white text-sm font-medium px-4 py-2 rounded-lg shadow hover:bg-red-600",3,"click",4,"ngIf"],["type","file","accept","image/*",1,"hidden",3,"change"],[1,"grid","grid-cols-1","md:grid-cols-2","gap-4","p-4","bg-neutral","rounded-lg","w-full","md:min-h-auto"],[1,"space-y-2"],[1,"text-xl","font-semibold","mb-2","text-center","md:text-left"],[1,"font-bold"],["title","Apagar Utilizador","message","Tem certeza de que deseja excluir este utilizador?","confirmLabel","Eliminar",3,"confirm"],[1,"btn","btn-secondary","inline-flex","items-center","gap-1","text-xs","md:text-base",3,"routerLink"],["src","shift.svg","alt","Shift Icon",1,"w-6","h-6"],["alt","Foto de Perfil",1,"object-cover","w-full","h-full","max-w-full",3,"src"],["src","user.svg","alt","Foto de Perfil",1,"object-cover","w-full","h-full","max-w-full"],[1,"w-full","bg-red-500","text-white","text-sm","font-medium","px-4","py-2","rounded-lg","shadow","hover:bg-red-600",3,"click"],[1,"text-error","p-4"]],template:function(t,i){if(t&1&&T(0,T9,3,2,"ng-container",3)(1,A9,2,1,"ng-template",null,0,Ut),t&2){let r=$t(2);y("ngIf",!i.error)("ngIfElse",r)}},dependencies:[Xt,Ce,qe,Fe,An,Yt]})};function I9(n,e){if(n&1){let t=Q();h(0,"app-form-users",2),E("createRequested",function(r){O(t);let s=b();return L(s.onFormSubmit(r))}),d()}if(n&2){let t=b();y("initialData",t.user||void 0)}}function M9(n,e){n&1&&x(0,"app-loading")}function k9(n,e){if(n&1&&(h(0,"p",1),v(1),d()),n&2){let t=b();g(),ae(t.error)}}var Kg=class n{constructor(e,t,i,r){this.usersService=e;this.employeeService=t;this.route=i;this.router=r}subs=[];user=null;employee=null;error=null;isSubmitting=!1;ngOnInit(){let e=Number(this.route.snapshot.paramMap.get("id"));e&&this.subs.push(this.usersService.fetchItem(e).subscribe({next:t=>this.user=t,error:t=>{console.error(t),this.error="User not found"}}))}ngOnDestroy(){this.subs.forEach(e=>e.unsubscribe())}onFormSubmit(e){if(!this.user?.id||this.isSubmitting)return;this.isSubmitting=!0,this.error=null;let o=e,{repeatPassword:t,password:i}=o,r=Gc(o,["repeatPassword","password"]),s=ye(P(P({},r),i?{password:i}:{}),{id:this.user.id});this.subs.push(this.usersService.update(s).pipe(Qt(1),nt(a=>{let l=this.user?.employee;return Kc(()=>a.role!=="relative",this.employeeService.update({id:l.id,salary:e.salary,contractStart:e.contractStart,contractEnds:e.contractEnds}),z(a))})).subscribe({next:()=>this.router.navigate(["/users"]),error:a=>{this.isSubmitting=!1,this.error=a.error?.message||"Failed to update user"}}))}static \u0275fac=function(t){return new(t||n)(C(Hr),C(gc),C(ge),C(Z))};static \u0275cmp=A({type:n,selectors:[["app-users-edit"]],standalone:!0,features:[I],decls:3,vars:2,consts:[[3,"initialData"],[1,"error"],[3,"createRequested","initialData"]],template:function(t,i){t&1&&T(0,I9,1,1,"app-form-users",0)(1,M9,1,0,"app-loading")(2,k9,2,1,"p",1),t&2&&(J(i.user?0:1),g(2),J(i.error?2:-1))},dependencies:[mc,Yt]})};var $r=class n extends Hn{constructor(t,i){super();this.httpClient=t;this.toastService=i}url=N.apiUrl+"residents";residentSubject=new Be(null);resident$=this.residentSubject.asObservable();fetchList(){return this.httpClient.get(this.url+this.queryString).pipe(q(t=>{this.setTotalPages(t.totalPages)}),V(t=>t.data.map(i=>(i.profilePicture&&(i.profilePicture=N.photoResident+i.profilePicture),i))),ie(t=>(console.log(t),z([]))))}fetchItem(t){return this.httpClient.get(`${this.url}/${t}`).pipe(q(i=>{i.birthDate&&(i.birthDate=new Date(i.birthDate)),console.log(typeof i.birthDate),N.production||console.log("Residente encontrado:",i)}),ie(i=>(N.production||console.error("Erro ao buscar residente:",i),this.toastService.error("Erro ao buscar residente"),z({}))))}create(t){return N.production||console.log("Creating resident:",t),this.httpClient.post(this.url,t).pipe(V(i=>(N.production||console.log("Resident created:",i),this.toastService.success("Residente criado com sucesso"),i)),ie(i=>{throw N.production||console.error("Error creating user:",i),i}))}update(t){return N.production||console.log("A atualizar resdente:",t),this.httpClient.patch(`${this.url}/${t.id}`,t).pipe(V(i=>(N.production||console.log("Residente atualizado:",i),this.toastService.success("Residente atualizado com sucesso"),i)),ie(i=>{throw N.production||console.error("Erro ao atualizar residente:",i),i}))}isDeleting=!1;delete(t){return this.isDeleting?z():(this.isDeleting=!0,this.httpClient.delete(`${this.url}/${t}`).pipe(V(()=>{this.isDeleting=!1,this.toastService.success("Residente eliminado com sucesso")}),ie(i=>{throw N.production||console.error("Erro ao eliminar residente:",i),this.isDeleting=!1,i})))}static \u0275fac=function(i){return new(i||n)($(ze),$(it))};static \u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"})};var e0=class n{constructor(e,t){this.residentsService=e;this.router=t}tableConfig={columns:[{colKey:"name",label:"Nome",type:"profile",classList:["w-40"],imageKey:"profilePicture"},{colKey:"birthDate",label:"Data de Nascimento",type:"date",dateFormat:"dd/MM/yyyy",classList:["w-32"]},{colKey:"fiscalId",label:"N\xBA Identifica\xE7\xE3o Fiscal",classList:["w-32"]},{colKey:"bedNumber",label:"Cama",classList:["w-20"]}]};residentListSignal=st([]);residentList=vt(()=>this.residentListSignal());subscription;ngOnDestroy(){this.residentsService.clearAll(),this.subscription?.unsubscribe()}get page(){return this.residentsService.page$}get totalPages(){return this.residentsService.totalPages$}get orderBy(){return this.residentsService.orderBy$}get orderDirection(){return this.residentsService.order$}get limit(){return this.residentsService.limit$}ngOnInit(){let e=0;this.residentsService.query$.pipe(q(t=>console.log("Query: ",t)),Ye(()=>this.residentsService.fetchList()),V(t=>this.residentListSignal.set(t))).subscribe()}handleSearch(e){this.residentsService.setSearch(e)}handleNextPage(){this.residentsService.nextPage()}handlePreviousPage(){this.residentsService.prevPage()}handleHeaderClick(e){this.residentsService.setOrderBy(e)}handleRowCliked(e){this.router.navigate(["/residents/detail",e])}handleLimitChange(e){this.residentsService.setPageSize(e)}Order=jn;static \u0275fac=function(t){return new(t||n)(C($r),C(Z))};static \u0275cmp=A({type:n,selectors:[["app-residents"]],standalone:!0,features:[I],decls:18,vars:14,consts:[[1,"container","px-2","sm:px-0","mx-auto"],[1,"flex","flex-col","gap-3","my-2.5","sm:flex-row"],[1,"grow",3,"onSearch"],[1,"flex","gap-2"],[1,"grow",3,"valueSelected"],["routerLink","/residents/create",1,"btn"],["fill","none","stroke","currentColor","stroke-width","1.5","viewBox","0 0 24 24","xmlns","http://www.w3.org/2000/svg",1,"size-6"],["d","M12 4.5v15m7.5-7.5h-15","stroke-linecap","round","stroke-linejoin","round"],[3,"headerClicked","rowClicked","data","tableConfig","orderDirection","orderKey"],[1,"flex","justify-center","mt-2.5"],[3,"nextPage","previousPage","pageNumber","totalPages"]],template:function(t,i){t&1&&(h(0,"div",0)(1,"section",1)(2,"app-search-box",2),E("onSearch",function(s){return i.handleSearch(s)}),d(),h(3,"div",3)(4,"app-select-limit",4),E("valueSelected",function(s){return i.handleLimitChange(s)}),d(),h(5,"a",5),ee(),h(6,"svg",6),x(7,"path",7),d(),v(8," Adicionar "),d(),zi(),x(9,"app-back-button-dashboard"),d()(),h(10,"section")(11,"app-table",8),Y(12,"async"),Y(13,"async"),E("headerClicked",function(s){return i.handleHeaderClick(s)})("rowClicked",function(s){return i.handleRowCliked(s)}),d()(),h(14,"section",9)(15,"app-paginator",10),Y(16,"async"),Y(17,"async"),E("nextPage",function(){return i.handleNextPage()})("previousPage",function(){return i.handlePreviousPage()}),d()()()),t&2&&(g(11),y("data",i.residentList())("tableConfig",i.tableConfig)("orderDirection",X(12,6,i.orderDirection)||i.Order.ASC)("orderKey",X(13,8,i.orderBy)||"id"),g(4),y("pageNumber",X(16,10,i.page)||1)("totalPages",X(17,12,i.totalPages)||1))},dependencies:[vi,yi,_i,qe,bi,Fe,fc]})};var R9=n=>["/residents",n,"messages"],O9=n=>["/residents",n,"health-reports"],L9=n=>["/residents",n,"medicaments"],N9=n=>["/residents",n,"appointments"],F9=n=>["/residents",n,"edit"],P9=n=>["/residents",n,"payments"];function V9(n,e){if(n&1){let t=Q();h(0,"div",11)(1,"label",34),x(2,"img",35),v(3," Perfil "),d(),h(4,"ul",16)(5,"li")(6,"a",17),x(7,"img",36),v(8," Editar "),d()(),h(9,"li")(10,"button",37),E("click",function(){O(t);let r=b(3);return L(r.showDeleteModal())}),x(11,"img",38),v(12," Eliminar "),d()()()()}if(n&2){let t=b(3);g(6),y("routerLink",he(1,F9,t.resident.id))}}function B9(n,e){if(n&1&&(h(0,"a",21),x(1,"img",39),v(2," Pagamentos "),d()),n&2){let t=b(3);y("routerLink",he(1,P9,t.resident.id))}}function j9(n,e){if(n&1&&x(0,"img",40),n&2){let t=b(3);y("src",t.profilePicture,hi)}}function H9(n,e){n&1&&x(0,"img",41)}function z9(n,e){if(n&1){let t=Q();h(0,"button",45),E("click",function(){O(t);let r=b(4);return L(r.removeProfilePicture())}),v(1," Remover Foto "),d()}}function $9(n,e){if(n&1){let t=Q();h(0,"div",27)(1,"div",42)(2,"button",43),E("click",function(){O(t),b();let r=$t(41);return L(r.click())}),v(3," Alterar Foto "),d(),T(4,z9,2,0,"button",44),d()()}if(n&2){let t=b(3);g(4),y("ngIf",t.profilePicture)}}function U9(n,e){if(n&1){let t=Q();h(0,"div",5)(1,"div",6)(2,"div",7)(3,"div",8)(4,"h2",9),v(5," Perfil do Residente "),d(),h(6,"div",10),T(7,V9,13,3,"div",11),Y(8,"async"),h(9,"a",12),x(10,"img",13),v(11," Mensagens "),d(),h(12,"div",11)(13,"label",14),x(14,"img",15),v(15," Sa\xFAde "),d(),h(16,"ul",16)(17,"li")(18,"a",17),x(19,"img",18),v(20," Relat\xF3rios "),d()(),h(21,"li")(22,"a",17),x(23,"img",19),v(24," Medica\xE7\xE3o "),d()(),h(25,"li")(26,"a",17),x(27,"img",20),v(28," Consultas "),d()()()(),T(29,B9,3,3,"a",21),Y(30,"async"),d()(),h(31,"div",22)(32,"div",23)(33,"div",24)(34,"div",25),T(35,j9,1,1,"img",26)(36,H9,1,0,"ng-template",null,1,Ut)(38,$9,5,1,"div",27),Y(39,"async"),h(40,"input",28,2),E("change",function(r){O(t);let s=b(2);return L(s.onProfilePictureSelected(r))}),d()()()(),h(42,"div",29)(43,"div",30)(44,"h3",31),v(45," Dados Pessoais "),d(),h(46,"p")(47,"span",32),v(48,"Nome:"),d(),v(49),d(),h(50,"p")(51,"span",32),v(52,"Identifica\xE7\xE3o Fiscal:"),d(),v(53),d(),h(54,"p")(55,"span",32),v(56,"Data de Nascimento:"),d(),v(57),Y(58,"date"),d()(),h(59,"div",30)(60,"p")(61,"span",32),v(62,"Nacionalidade:"),d(),v(63),d(),h(64,"p")(65,"span",32),v(66,"Estado Civil:"),d(),v(67),d(),h(68,"p")(69,"span",32),v(70,"N\xFAmero da Cama:"),d(),v(71),d(),h(72,"p")(73,"span",32),v(74,"Parentes:"),d(),v(75),d()(),h(76,"div",30)(77,"h3",31),v(78," Informa\xE7\xF5es de Sa\xFAde "),d(),h(79,"p")(80,"span",32),v(81,"Problemas de Mobilidade:"),d(),v(82),d(),h(83,"p")(84,"span",32),v(85,"Cuidados Especiais:"),d(),v(86),d(),h(87,"p")(88,"span",32),v(89,"Alergias:"),d(),v(90),d()(),h(91,"div",30)(92,"h3",31),v(93,"Informa\xE7\xF5es Alimentares"),d(),h(94,"p")(95,"span",32),v(96,"Dieta:"),d(),v(97),d(),h(98,"p")(99,"span",32),v(100,"Restri\xE7\xF5es Alimentares:"),d(),v(101),d()()()()()(),h(102,"app-modal-confirm",33),E("confirm",function(){O(t);let r=b(2);return L(r.onDelete())}),d()()}if(n&2){let t=$t(37),i=b(2);g(7),J(X(8,21,i.isManager)?7:-1),g(2),y("routerLink",he(30,R9,i.resident.id)),g(9),y("routerLink",he(32,O9,i.resident.id)),g(4),y("routerLink",he(34,L9,i.resident.id)),g(4),y("routerLink",he(36,N9,i.resident.id)),g(3),J(X(30,23,i.isManager)?29:-1),g(6),y("ngIf",i.profilePicture)("ngIfElse",t),g(3),J(X(39,25,i.isManager)?38:-1),g(11),j(" ",i.resident.name,""),g(4),j(" ",i.resident.fiscalId," "),g(4),j(" ",Vn(58,27,i.resident.birthDate,"dd MMMM yyyy")," "),g(6),j(" ",i.resident.nationality," "),g(4),j(" ",i.resident.civilStatus," "),g(4),j(" ",i.resident.bedNumber," "),g(4),j(" ",i.resident.relatives.length," registado(s) "),g(7),j(" ",i.resident.mobility||"Nenhum cuidado espec\xEDfico registrado"," "),g(4),j(" ",i.resident.specificCare||"Nenhum cuidado espec\xEDfico registrado"," "),g(4),j(" ",i.resident.allergies||"Nenhum cuidado espec\xEDfico registrado"," "),g(7),j(" ",i.resident.diet,""),g(4),j(" ",i.resident.dietRestrictions||"Nenhuma restri\xE7\xE3o","")}}function G9(n,e){n&1&&x(0,"app-loading")}function q9(n,e){if(n&1&&(Mt(0),T(1,U9,103,38,"div",4)(2,G9,1,0,"app-loading"),kt()),n&2){let t=b();g(),y("ngIf",t.resident),g(),J(t.resident?-1:2)}}function W9(n,e){if(n&1&&(h(0,"p",46),v(1),d()),n&2){let t=b();g(),ae(t.error)}}function Y9(n,e){if(n&1&&(h(0,"p",46),v(1),d()),n&2){let t=b();g(),ae(t.error)}}var t0=class n{constructor(e,t,i,r,s,o){this.residentsService=e;this.route=t;this.router=i;this.http=r;this.toastService=s;this.auth=o}resident;error=null;subs=[];deleteModal;profilePicture;photoResidentUrl=N.photoResident;apiUrl=N.apiUrl;ngOnInit(){let e=Number(this.route.snapshot.paramMap.get("id"));e&&this.subs.push(this.residentsService.fetchItem(e).subscribe({next:t=>{this.resident=t,this.resident?.profilePicture&&(this.profilePicture=`${this.photoResidentUrl}${this.resident.profilePicture}`)},error:t=>{console.error(t),this.error="Residente n\xE3o encontrado"}}))}get isManager(){return this.auth.isManager()}get isRelative(){return this.auth.isRelative()}ngOnDestroy(){this.subs.forEach(e=>e.unsubscribe())}onDelete(){this.resident?.id&&this.subs.push(this.residentsService.delete(this.resident.id).subscribe({next:()=>this.router.navigate(["/residents"]),error:e=>{console.error(e),this.error="Falha ao eliminar residente"}}))}onProfilePictureSelected(e){let t=e.target;if(t.files&&t.files[0]){let i=t.files[0],r=new FormData;r.append("file",i),this.http.post(`${this.apiUrl}residents/${this.resident?.id}/upload`,r).subscribe({next:()=>{this.profilePicture=URL.createObjectURL(i)},error:s=>{console.error(s),this.toastService.error("Falha ao enviar imagem")}})}}showDeleteModal(){this.deleteModal.show()}removeProfilePicture(){this.http.delete(`${this.apiUrl}residents/${this.resident.id}/upload`).subscribe({next:()=>{this.profilePicture=null},error:e=>{console.error(e),this.toastService.error("Falha ao remover imagem")}})}static \u0275fac=function(t){return new(t||n)(C($r),C(ge),C(Z),C(ze),C(it),C(be))};static \u0275cmp=A({type:n,selectors:[["app-residents-detail"]],viewQuery:function(t,i){if(t&1&&Ct(An,5),t&2){let r;Te(r=Ae())&&(i.deleteModal=r.first)}},standalone:!0,features:[I],decls:5,vars:2,consts:[["errorTpl",""],["defaultPicture",""],["fileUpload",""],[4,"ngIf","ngIfElse"],["class","container mx-auto p-4 md:p-6 max-w-full overflow-hidden",4,"ngIf"],[1,"container","mx-auto","p-4","md:p-6","max-w-full","overflow-hidden"],[1,"card","bg-base-100","shadow-xl","relative"],[1,"card-body","pt-6"],[1,"flex","flex-col","md:flex-row","justify-between","items-center","mb-4"],[1,"card-title","text-2xl","font-semibold","text-center","md:text-left"],[1,"flex","flex-wrap","justify-center","md:justify-end","gap-2"],[1,"dropdown"],[1,"btn","btn-secondary","inline-flex","items-center","gap-1","text-xs","md:text-base",3,"routerLink"],["src","comments.svg","alt","Comments Icon",1,"w-6","h-6"],["tabindex","0",1,"btn","btn-primary","inline-flex","items-center","gap-1","text-xs","md:text-base"],["src","healthcare.svg","alt","Healthcare Icon",1,"w-6","h-6","z-45"],["tabindex","0",1,"dropdown-content","menu","p-2","shadow","bg-base-100","rounded-box","w-52","z-10"],[1,"inline-flex","items-center","gap-1","text-xs","md:text-base",3,"routerLink"],["src","medical-report.svg","alt","Medical Report Icon",1,"w-6","h-6"],["src","medicine.svg","alt","Medicine Icon",1,"w-6","h-6"],["src","medical-check.svg","alt","Medical Check Icon",1,"w-6","h-6"],[1,"btn","btn-success","inline-flex","items-center","gap-1","text-xs","md:text-base",3,"routerLink"],[1,"flex","flex-col","md:flex-row","items-center","md:items-start","gap-4","md:gap-6"],[1,"avatar","flex-shrink-0"],[1,"w-32","h-32","md:w-72","md:h-72","rounded-lg","ring","ring-neutral","ring-offset-base-100","ring-offset-2","overflow-hidden"],[1,"relative","group"],["alt","Foto de Perfil","class","object-cover w-full h-full max-w-full",3,"src",4,"ngIf","ngIfElse"],[1,"absolute","inset-0","bg-black","bg-opacity-50","flex","items-center","justify-center","rounded-full","opacity-0","group-hover:opacity-100","transition"],["type","file","accept","image/*",1,"hidden",3,"change"],[1,"grid","grid-cols-1","md:grid-cols-2","gap-4","p-4","bg-neutral","rounded-lg","w-full","md:min-h-auto"],[1,"space-y-2"],[1,"text-xl","font-semibold","mb-2","text-center","md:text-left"],[1,"font-bold"],["title","Apagar Residente","message","Tem certeza de que deseja excluir este residente?","confirmLabel","Eliminar",3,"confirm"],["tabindex","0",1,"btn","btn-info","inline-flex","items-center","gap-1","text-xs","md:text-base"],["src","profile.svg","alt","Profile Icon",1,"w-6","h-6"],["src","pencil.svg","alt","Edit Icon",1,"w-6","h-6"],[1,"inline-flex","items-center","gap-1","text-xs","md:text-base","text-error",3,"click"],["src","delete.svg","alt","Delete Icon",1,"w-6","h-6"],["src","money.svg","alt","Wallet Icon",1,"w-6","h-6"],["alt","Foto de Perfil",1,"object-cover","w-full","h-full","max-w-full",3,"src"],["src","user.svg","alt","Foto de Perfil",1,"object-cover","w-full","h-full","max-w-full"],[1,"flex","flex-col","space-y-2"],[1,"w-full","bg-white","text-gray-800","text-sm","font-medium","px-4","py-2","rounded-lg","shadow","hover:bg-gray-200",3,"click"],["class","w-full bg-red-500 text-white text-sm font-medium px-4 py-2 rounded-lg shadow hover:bg-red-600",3,"click",4,"ngIf"],[1,"w-full","bg-red-500","text-white","text-sm","font-medium","px-4","py-2","rounded-lg","shadow","hover:bg-red-600",3,"click"],[1,"text-error","p-4"]],template:function(t,i){if(t&1&&T(0,q9,3,2,"ng-container",3)(1,W9,2,1,"ng-template",null,0,Ut)(3,Y9,2,1,"ng-template",null,0,Ut),t&2){let r=$t(2);y("ngIf",!i.error)("ngIfElse",r)}},dependencies:[Xt,Ce,qe,qt,Fe,An,Yt]})};var Zw=(r=>(r.Single="Solteiro",r.Married="Casado",r.Divorced="Divorciado",r.Widowed="Vi\xFAvo",r))(Zw||{});var Kw=(r=>(r.Pescatarian="Pescatariana",r.Vegetarian="Vegetariana",r.Omnovire="Omnivora",r.Vegan="Vegan",r))(Kw||{});var Jw=(r=>(r.None="Nenhum",r.Bedridden="Acamado",r.Wheelchair="Cadeira de Rodas",r.Cane="Bengala",r))(Jw||{});var Q9=n=>({"dropdown-open":n});function X9(n,e){if(n&1){let t=Q();h(0,"div",11)(1,"input",12),E("change",function(r){let s=O(t).$implicit,o=b(2);return L(o.onCheckboxChange(s.value,r))}),d(),h(2,"label",13),v(3),d()()}if(n&2){let t=e.$implicit,i=b(2);g(),_u("id","checkbox-",t.value,""),y("value",t.value)("checked",i.isChecked(t.value)),g(),_u("for","checkbox-",t.value,""),g(),j(" ",t.label," ")}}function Z9(n,e){if(n&1){let t=Q();h(0,"div",6)(1,"div",7)(2,"input",8),E("input",function(r){O(t);let s=b();return L(s.onSearch(r))}),d()(),h(3,"div",9),T(4,X9,4,7,"div",10),d()()}if(n&2){let t=b();g(4),y("ngForOf",t.filteredData)("ngForTrackBy",t.trackByValue)}}function K9(n,e){n&1&&(h(0,"div",5)(1,"span",14),v(2,"Este campo \xE9 obrigat\xF3rio"),d()())}var n0=class n{data=_e.required();control=_e.required();label=_e("");showErrorSignal=st(!1);showError=vt(()=>this.showErrorSignal());required=_e(!1);subject;filteredData=[];isDropdownOpen=!1;ngOnDestroy(){this.subject?.unsubscribe()}ngOnInit(){this.filteredData=this.data(),this.validate(),this.subject=this.control().valueChanges.subscribe(()=>{this.control().markAsTouched(),this.validate()})}validate=()=>{let e=this.control(),t=e.value;!t||t.length===0?e.setErrors({required:!0}):e.setErrors(null),this.showErrorSignal.set(e.errors?.required&&e.touched)};isChecked(e){return this.control().value?.includes(e)||!1}onCheckboxChange(e,t){let i=this.control(),r=i.value||[];t.target.checked?i.setValue([...r,e]):i.setValue(r.filter(o=>o!==e)),i.markAsDirty()}onSearch(e){let t=e.target.value.toLowerCase();this.filteredData=this.data().filter(i=>i.label.toLowerCase().includes(t))}trackByValue(e,t){return t.value}toggleDropdown(){this.isDropdownOpen=!this.isDropdownOpen,this.isDropdownOpen&&(this.filteredData=this.data())}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=A({type:n,selectors:[["app-select-box-multiple"]],inputs:{data:[1,"data"],control:[1,"control"],label:[1,"label"],required:[1,"required"]},standalone:!0,features:[I],decls:9,vars:6,consts:[[1,"form-control","w-full"],[1,"w-full","flex","items-center"],[1,"label-text"],["type","button",1,"select","select-bordered","grow","flex","justify-between","items-center",3,"click","ngClass"],["class","relative mt-2 border border-gray-300 rounded-md shadow-md bg-white z-10",4,"ngIf"],[1,"label"],[1,"relative","mt-2","border","border-gray-300","rounded-md","shadow-md","bg-white","z-10"],[1,"p-2"],["type","text","placeholder","Pesquisar...",1,"input","input-bordered","w-full","pl-10",3,"input"],[1,"max-h-60","overflow-y-auto","p-2"],["class","flex items-center mb-2",4,"ngFor","ngForOf","ngForTrackBy"],[1,"flex","items-center","mb-2"],["type","checkbox",1,"checkbox","checkbox-primary",3,"change","id","value","checked"],[1,"ml-2","text-sm","font-medium","text-gray-700","cursor-pointer",3,"for"],[1,"label-text-alt","text-error"]],template:function(t,i){if(t&1&&(h(0,"label",0)(1,"label",1)(2,"span",2),v(3),d()(),h(4,"button",3),E("click",function(){return i.toggleDropdown()}),h(5,"span"),v(6,"Parente Respons\xE1vel pelo Residente"),d()(),T(7,Z9,5,2,"div",4)(8,K9,3,0,"div",5),d()),t&2){let r;g(3),ae(i.label()),g(),y("ngClass",he(4,Q9,i.isDropdownOpen)),g(3),y("ngIf",i.isDropdownOpen),g(),J(i.required()&&!((r=i.control().value)!=null&&r.length)&&i.control().touched?8:-1)}},dependencies:[Je,rn,Ce,Gt]})};var vc=class n{constructor(e,t){this.http=e;this.location=t}initialData=_e();createRequested=At();bedNumbers=[];relativeOptions=[];budget=null;name=new te("",[K.required]);fiscalId=new te("",[K.required,K.pattern(/^\d+$/)]);birthDate=new te(new Date().toISOString().substring(0,10),[K.required,this.pastDateValidator]);specificCare=new te("");civilStatus=new te("",[K.required]);nationality=new te("",[K.required]);diet=new te("",[K.required]);dietRestrictions=new te("");allergies=new te("");bedNumber=new te("",[K.required]);relatives=new te([],[K.required]);mobility=new te("",[K.required]);form=new Ot({name:this.name,fiscalId:this.fiscalId,birthDate:this.birthDate,specificCare:this.specificCare,civilStatus:this.civilStatus,nationality:this.nationality,diet:this.diet,dietRestrictions:this.dietRestrictions,allergies:this.allergies,bedNumber:this.bedNumber,relatives:this.relatives,mobility:this.mobility});goBack(){this.location.back()}mobilityIssues=Object.values(Jw).map(e=>({value:e,label:String(e).charAt(0).toUpperCase()+String(e).slice(1)}));civilStatuses=Object.values(Zw).map(e=>({value:e,label:String(e).charAt(0).toUpperCase()+String(e).slice(1)}));diets=Object.values(Kw).map(e=>({value:e,label:String(e).charAt(0).toUpperCase()+String(e).slice(1)}));ngOnInit(){if(this.mobility.valueChanges.subscribe(e=>{e?this.fetchBudget(e):this.budget=null}),Qo(this.http.get(`${this.environment.apiUrl}residents/beds`)).then(e=>{if(e&&Array.isArray(e.beds)&&(this.bedNumbers=e.beds.map(t=>({value:t.toString(),label:t.toString()})),this.initialData())){let t=this.initialData();this.bedNumbers.find(r=>r.value===t.bedNumber.toString())||this.bedNumbers.push({value:t.bedNumber.toString(),label:t.bedNumber.toString()}),this.bedNumber.setValue(t.bedNumber.toString())}}),Qo(this.http.get(`${this.environment.apiUrl}users?role=relative`)).then(e=>{if(console.log("Resposta da API de parentes:",e),e&&Array.isArray(e.data)){if(this.relativeOptions=e.data.map(t=>Number.isInteger(t.id)?{value:t.id,label:`${t.name} (${t.email})`}:(console.error(`ID inv\xE1lido encontrado: ${t.id}`),null)).filter(t=>t!==null),this.initialData()){let i=(this.initialData().relatives||[]).filter(r=>Number.isInteger(r));i.forEach(r=>{this.relativeOptions.some(s=>s.value===r)||console.warn(`ID de parente inv\xE1lido ou n\xE3o listado: ${r}`)}),this.relativeOptions=this.relativeOptions.map(r=>ye(P({},r),{selected:i.includes(r.value)}))}}else console.error("Falha ao carregar parentes. Estrutura de resposta inesperada:",e)}).catch(e=>{console.error("Erro ao buscar parentes:",e)}),this.initialData()){let e=this.initialData();this.name.setValue(e.name),this.fiscalId.setValue(e.fiscalId),this.birthDate.setValue(new Date(e.birthDate).toISOString().substring(0,10)),this.specificCare.setValue(e.specificCare),this.civilStatus.setValue(e.civilStatus),this.diet.setValue(e.diet),this.dietRestrictions.setValue(e.dietRestrictions),this.allergies.setValue(e.allergies),this.mobility.setValue(e.mobility);let t=this.nationalities.find(i=>i.value===e.nationality);t||(t=this.nationalities.find(i=>i.value.toLowerCase()===e.nationality.toLowerCase()||i.label.toLowerCase()===e.nationality.toLowerCase())),t?this.nationality.setValue(t.value):(this.nationalities.push({value:e.nationality,label:e.nationality}),this.nationality.setValue(e.nationality),this.relatives.setValue(e.relatives.map(i=>isNaN(parseInt(`${i}`))?i.id:parseInt(`${i}`))))}}fetchBudget(e){return vr(this,null,function*(){try{let t=yield Qo(this.http.get(`${N.apiUrl}residents/budget?mobility=${e}`));t&&typeof t.budget=="number"?this.budget=t.budget:(console.error("Resposta inesperada:",t),this.budget=null)}catch(t){console.error("Erro ao buscar a mensalidade:",t),this.budget=null}})}pastDateValidator(e){return new Date(e.value)>=new Date?{pastDate:!0}:null}onSubmit(){if(N.production||console.log("Form submitted:",this.form.value,this.form.valid,this.form.errors),this.form.valid){let e=this.relatives.value?.filter(t=>Number.isInteger(t))||[];if(!e.every(t=>Number.isInteger(t))){console.error("Erro: Valores inv\xE1lidos encontrados no campo relatives:",this.relatives.value);return}console.log(this.relatives),this.createRequested.emit({name:this.name.value,fiscalId:this.fiscalId.value,birthDate:new Date(this.birthDate.value),specificCare:this.specificCare.value,civilStatus:this.civilStatus.value,diet:this.diet.value,dietRestrictions:this.dietRestrictions.value,allergies:this.allergies.value,bedNumber:parseInt(`${this.bedNumber.value}`),relatives:e,nationality:this.nationality.value,mobility:this.mobility.value})}else this.form.markAllAsTouched(),N.production||console.log("Formul\xE1rio inv\xE1lido:",this.form.errors),this.form.errors?.pastDate&&this.birthDate.setErrors({pastDate:!0})}environment=N;nationalities=Qg;static \u0275fac=function(t){return new(t||n)(C(ze),C(Rt))};static \u0275cmp=A({type:n,selectors:[["app-form-residents"]],inputs:{initialData:[1,"initialData"]},outputs:{createRequested:"createRequested"},standalone:!0,features:[I],decls:40,vars:33,consts:[[1,"lg:px-36",3,"ngSubmit","formGroup"],[1,"mb-3","card-title"],["label","Nome","placeholder","Jo\xE3o Silva","type","text",1,"border-0","w-full","p-0",3,"control","required"],[1,"grid","grid-cols-1","md:grid-cols-2","gap-2"],["label","ID Fiscal","placeholder","200000000","type","text",1,"border-0","w-full","p-0",3,"control","required"],["label","Data de Nascimento","placeholder","dd/mm/yyyy","type","date",1,"border-0","w-full","p-0",3,"control","required"],["label","Estado Civil",3,"control","required","data"],["label","Nacionalidade",3,"control","required","data"],[1,"card-title","mb-3","mt-4"],["label","Problemas de Mobilidade",1,"border-0","w-full","p-0",3,"control","required","data"],[1,"mb-3","flex","flex-col","sm:flex-row","items-start"],[1,"form-control","w-full"],[1,"input","input-bordered","flex","items-center","gap-2","bg-gray-100","text-gray-800"],["label","Cuidados Especiais","placeholder","Ex: Alzheimer","type","text",1,"border-0","w-full","p-0",3,"control","required"],["label","Alergias","placeholder","Ex: Amendoim, gl\xFAten","type","text",1,"border-0","w-full","p-0",3,"control","required"],["label","Dieta",3,"control","required","data"],["label","Restri\xE7\xF5es Alimentares","placeholder","Ex: Intoler\xE2ncias","type","text",1,"border-0","w-full","p-0",3,"control","required"],["label","N\xFAmero de Cama",1,"border-0","w-full","p-0",3,"control","data","required"],[3,"data","required","control"],[1,"flex","flex-wrap","justify-center","mb-4","gap-4","pt-10"],[1,"btn","btn-secondary","flex","items-center","gap-2",3,"click"],["src","left-arrow.svg","alt","Left Arrow Icon",1,"w-6","h-6"],["label","Guardar","type","submit"]],template:function(t,i){t&1&&(h(0,"form",0),E("ngSubmit",function(){return i.onSubmit()}),h(1,"h2",1),v(2,"Dados Pessoais"),d(),x(3,"app-input",2),h(4,"div",3),x(5,"app-input",4)(6,"app-input",5)(7,"app-select-box",6)(8,"app-select-box",7),d(),x(9,"br")(10,"hr"),h(11,"h2",8),v(12,"Informa\xE7\xF5es de Sa\xFAde"),d(),h(13,"div",3),x(14,"app-select-box",9),h(15,"div",10)(16,"div",11)(17,"div",12),v(18),d()()()(),x(19,"app-input",13)(20,"app-input",14)(21,"br")(22,"hr"),h(23,"h2",8),v(24,"Informa\xE7\xF5es Alimentares"),d(),h(25,"div",3),x(26,"app-select-box",15)(27,"app-input",16),d(),x(28,"br")(29,"hr"),h(30,"h2",8),v(31,"Informa\xE7\xF5es de Quarto"),d(),h(32,"div",3),x(33,"app-select-box",17)(34,"app-select-box-multiple",18),d(),h(35,"div",19)(36,"button",20),E("click",function(){return i.goBack()}),x(37,"img",21),v(38," Voltar "),d(),x(39,"app-button",22),d()()),t&2&&(y("formGroup",i.form),g(3),y("control",i.name)("required",!0),g(2),y("control",i.fiscalId)("required",!0),g(),y("control",i.birthDate)("required",!0),g(),y("control",i.civilStatus)("required",!0)("data",i.civilStatuses),g(),y("control",i.nationality)("required",!0)("data",i.nationalities),g(6),y("control",i.mobility)("required",!0)("data",i.mobilityIssues),g(4),j(" ",i.budget!==null?i.budget+" \u20AC":"Mensalidade"," "),g(),y("control",i.specificCare)("required",!1),g(),y("control",i.allergies)("required",!1),g(6),y("control",i.diet)("required",!0)("data",i.diets),g(),y("control",i.dietRestrictions)("required",!1),g(6),y("control",i.bedNumber)("data",i.bedNumbers)("required",!0),g(),y("data",i.relativeOptions)("required",!0)("control",i.relatives)("required",!0))},dependencies:[zn,zr,xi,Je,Nt,Lt,un,n0]})};var i0=class n{constructor(e,t){this.residentsService=e;this.router=t;this.submitSub=this.submitQueue.pipe(en(i=>this.residentsService.create(i))).subscribe({next:()=>this.router.navigate(["/residents"]),error:i=>console.error(i)})}residentCreateSub;isSubmitting=!1;submitQueue=new ut;submitSub;ngOnDestroy(){this.submitQueue.complete(),this.submitSub.unsubscribe()}onFormSubmit(e){this.isSubmitting||(this.isSubmitting=!0,this.residentCreateSub=this.residentsService.create(e).subscribe({next:()=>{this.isSubmitting=!1,this.router.navigate(["/residents"])},error:t=>{this.isSubmitting=!1,console.error(t)}}))}static \u0275fac=function(t){return new(t||n)(C($r),C(Z))};static \u0275cmp=A({type:n,selectors:[["app-residents-create"]],standalone:!0,features:[I],decls:1,vars:0,consts:[[3,"createRequested"]],template:function(t,i){t&1&&(h(0,"app-form-residents",0),E("createRequested",function(s){return i.onFormSubmit(s)}),d())},dependencies:[vc,mi]})};function J9(n,e){if(n&1){let t=Q();h(0,"app-form-residents",2),E("createRequested",function(r){O(t);let s=b();return L(s.onFormSubmit(r))}),d()}if(n&2){let t=b();y("initialData",t.resident||void 0)}}function eY(n,e){n&1&&x(0,"app-loading")}function tY(n,e){if(n&1&&(h(0,"p",1),v(1),d()),n&2){let t=b();g(),ae(t.error)}}var r0=class n{constructor(e,t,i){this.residentsService=e;this.route=t;this.router=i}subs=[];resident=null;error=null;isSubmitting=!1;ngOnInit(){let e=Number(this.route.snapshot.paramMap.get("id"));e&&this.subs.push(this.residentsService.fetchItem(e).subscribe({next:t=>this.resident=t,error:t=>{console.error(t),this.error="Residente n\xE3o encontrado"}}))}ngOnDestroy(){this.subs.forEach(e=>e.unsubscribe())}onFormSubmit(e){!this.resident?.id||this.isSubmitting||(this.isSubmitting=!0,this.error=null,this.subs.push(this.residentsService.update(P({id:this.resident.id},e)).subscribe({next:()=>this.router.navigate(["/residents"]),error:t=>{this.isSubmitting=!1,this.error=t.error?.message||"Failed to update resident"}})))}static \u0275fac=function(t){return new(t||n)(C($r),C(ge),C(Z))};static \u0275cmp=A({type:n,selectors:[["app-residents-edit"]],standalone:!0,features:[I],decls:3,vars:2,consts:[[3,"initialData"],[1,"error"],[3,"createRequested","initialData"]],template:function(t,i){t&1&&T(0,J9,1,1,"app-form-residents",0)(1,eY,1,0,"app-loading")(2,tY,2,1,"p",1),t&2&&(J(i.resident?0:1),g(2),J(i.error?2:-1))},dependencies:[vc,Yt]})};var Ur=class n{constructor(){}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=A({type:n,selectors:[["app-back-button"]],standalone:!0,features:[I],decls:4,vars:0,consts:[[1,"btn","grow","flex","items-center","gap-2"],["src","left.svg","alt","Back Icon",1,"w-6","h-6"],[1,"hidden","md:inline"]],template:function(t,i){t&1&&(h(0,"a",0),x(1,"img",1),h(2,"span",2),v(3,"Voltar"),d()())}})};var Gr=class n extends Hn{constructor(t,i){super();this.httpClient=t;this.toastService=i}url=N.apiUrl+"residents/";fetchList(t){return this.httpClient.get(this.url+t+"/health-reports"+this.queryString).pipe(q(i=>{console.log(i),this.setTotalPages(i.totalPages)}),V(i=>i.data),q(console.log),ie(i=>(console.log(i),z([]))))}fetchItem(t,i){return this.httpClient.get(`${this.url}${i}/health-reports/${t}`).pipe(q(r=>{r&&console.log("Relat\xF3rio de sa\xFAde encontrado:",r)}),ie(r=>(console.error("Erro ao buscar relat\xF3rio de sa\xFAde:",r),this.toastService.error("Erro ao buscar relat\xF3rio de sa\xFAde"),z({}))))}create(t,i){return N.production||console.log("A criar relat\xF3rio de sa\xFAde:",t),this.httpClient.post(this.url+i+"/health-reports",t).pipe(V(r=>(N.production||console.log("Relat\xF3rio de sa\xFAde criado:",r),this.toastService.success("Relat\xF3rio de sa\xFAde criado com sucesso"),r)),ie(r=>{throw r}))}update(t,i,r){let s=`${this.url}${r}/health-reports/${t}`;return this.httpClient.patch(s,i).pipe(q(o=>{N.production||console.log("Relat\xF3rio de sa\xFAde atualizado:",o),this.toastService.success("Relat\xF3rio de sa\xFAde atualizado com sucesso")}),ie(o=>(N.production||console.error("Erro ao atualizar relat\xF3rio de sa\xFAde:",o),this.toastService.error("Erro ao atualizar relat\xF3rio de sa\xFAde"),z({}))))}isDeleting=!1;delete(t,i){return this.isDeleting?z():(this.isDeleting=!0,this.httpClient.delete(`${this.url}${i}/health-reports/${t}`).pipe(V(()=>{this.isDeleting=!1,this.toastService.success("Relat\xF3rio de sa\xFAde eliminado com sucesso")}),ie(r=>{throw N.production||console.error("Erro ao eliminar relat\xF3rio de sa\xFAde:",r),this.isDeleting=!1,r})))}static \u0275fac=function(i){return new(i||n)($(ze),$(it))};static \u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"})};var nY=n=>["/residents",n,"health-reports","create"];function iY(n,e){if(n&1&&(h(0,"a",5),ee(),h(1,"svg",10),x(2,"path",11),d(),v(3," Adicionar "),d()),n&2){let t=b();y("routerLink",he(1,nY,t.route.snapshot.paramMap.get("residentId")||""))}}var o0=class n{constructor(e,t,i,r){this.healthreportService=e;this.router=t;this.route=i;this.auth=r}tableConfig={columns:[{colKey:"arterialBloodPressure",label:"Press\xE3o Arterial",classList:["w-40"]},{colKey:"respiratoryRate",label:"Frequ\xEAncia Respirat\xF3ria",classList:["w-40"]},{colKey:"heartRate",label:"Frequ\xEAncia Card\xEDaca",classList:["w-40"]},{colKey:"bloodGlucoseLevel",label:"N\xEDvel de Glicose",classList:["w-32"]}]};healthreportListSignal=st([]);healthreportList=vt(()=>this.healthreportListSignal());subscription;get isRelative(){return this.auth.isRelative()}ngOnDestroy(){this.healthreportService.clearAll(),this.subscription?.unsubscribe()}get page(){return this.healthreportService.page$}get totalPages(){return this.healthreportService.totalPages$}get orderBy(){return this.healthreportService.orderBy$}get orderDirection(){return this.healthreportService.order$}get limit(){return this.healthreportService.limit$}residentId;ngOnInit(){this.healthreportService.query$.pipe(Ye(()=>{let e=parseInt(this.route.snapshot.paramMap.get("residentId")||"",10);return e?this.healthreportService.fetchList(e):(console.error("Resident ID is missing or invalid"),z([]))}),V(e=>this.healthreportListSignal.set(e))).subscribe()}handleSearch(e){this.healthreportService.setSearch(e)}handleNextPage(){this.healthreportService.nextPage()}handlePreviousPage(){this.healthreportService.prevPage()}handleHeaderClick(e){this.healthreportService.setOrderBy(e)}handleRowCliked(e){let t=this.route.snapshot.paramMap.get("residentId");t?this.router.navigate([`residents/${t}/health-reports/${e}`]):console.error("Resident ID n\xE3o encontrado na rota.")}handleLimitChange(e){this.healthreportService.setPageSize(e)}goBackResidentProfile(){this.router.navigate(["residents","detail",this.route.snapshot.paramMap.get("residentId")])}Order=jn;static \u0275fac=function(t){return new(t||n)(C(Gr),C(Z),C(ge),C(be))};static \u0275cmp=A({type:n,selectors:[["app-healthreport"]],standalone:!0,features:[I],decls:16,vars:17,consts:[[1,"container","px-2","sm:px-0","mx-auto"],[1,"flex","flex-col","gap-3","my-2.5","sm:flex-row"],[1,"grow",3,"onSearch"],[1,"flex","gap-2"],[1,"grow",3,"valueSelected"],[1,"btn",3,"routerLink"],[3,"click"],[3,"headerClicked","rowClicked","data","tableConfig","orderDirection","orderKey"],[1,"flex","justify-center","mt-2.5"],[3,"nextPage","previousPage","pageNumber","totalPages"],["fill","none","stroke","currentColor","stroke-width","1.5","viewBox","0 0 24 24","xmlns","http://www.w3.org/2000/svg",1,"size-6"],["d","M12 4.5v15m7.5-7.5h-15","stroke-linecap","round","stroke-linejoin","round"]],template:function(t,i){t&1&&(h(0,"div",0)(1,"section",1)(2,"app-search-box",2),E("onSearch",function(s){return i.handleSearch(s)}),d(),h(3,"div",3)(4,"app-select-limit",4),E("valueSelected",function(s){return i.handleLimitChange(s)}),d(),T(5,iY,4,3,"a",5),Y(6,"async"),h(7,"app-back-button",6),E("click",function(){return i.goBackResidentProfile()}),d()()(),h(8,"section")(9,"app-table",7),Y(10,"async"),Y(11,"async"),E("headerClicked",function(s){return i.handleHeaderClick(s)})("rowClicked",function(s){return i.handleRowCliked(s)}),d()(),h(12,"section",8)(13,"app-paginator",9),Y(14,"async"),Y(15,"async"),E("nextPage",function(){return i.handleNextPage()})("previousPage",function(){return i.handlePreviousPage()}),d()()()),t&2&&(g(5),J(X(6,7,i.isRelative)?-1:5),g(4),y("data",i.healthreportList())("tableConfig",i.tableConfig)("orderDirection",X(10,9,i.orderDirection)||i.Order.ASC)("orderKey",X(11,11,i.orderBy)||"id"),g(4),y("pageNumber",X(14,13,i.page)||1)("totalPages",X(15,15,i.totalPages)||1))},dependencies:[vi,yi,_i,qe,bi,Fe,Ur],encapsulation:2})};var a0=class n extends Hn{constructor(t,i){super();this.httpClient=t;this.toastService=i}url=N.apiUrl+"residents/";fetchList(t,i=1,r=10){return this.httpClient.get(`${this.url}${t}/messages?page=${i}&limit=${r}`).pipe(q(s=>{s.totalPages&&this.setTotalPages(s.totalPages)}),V(s=>s.data.map(o=>(o.user.profilePicture&&(o.user.profilePicture=N.photoUser+o.user.profilePicture),o))),ie(s=>(console.error("Erro ao buscar lista de mensagens:",s),z([]))))}fetchItem(t,i){return this.httpClient.get(`${this.url}${i}/messages/${t}`).pipe(ie(r=>(console.error("Erro ao buscar mensagem:",r),this.toastService.error("Erro ao buscar mensagem"),z({}))))}create(t,i){return this.httpClient.post(`${this.url}${i}/messages`,t).pipe(V(r=>(this.toastService.success("Mensagem envidada com sucesso"),r)),ie(r=>{throw console.error("Erro ao criar mensagem:",r),this.toastService.error("Erro ao criar mensagem"),r}))}update(t,i,r){let s=`${this.url}${r}/messages/${t}`;return this.httpClient.patch(s,i).pipe(q(()=>{this.toastService.success("Mensagem atualizada com sucesso")}),ie(o=>(console.error("Erro ao atualizar mensagem:",o),this.toastService.error("Erro ao atualizar mensagem"),z({}))))}isDeleting=!1;delete(t,i){return this.isDeleting?z():(this.isDeleting=!0,this.httpClient.delete(`${this.url}${i}/messages/${t}`).pipe(V(()=>{this.isDeleting=!1,this.toastService.success("Mensagem eliminada com sucesso")}),ie(r=>{throw console.error("Erro ao eliminar mensagem:",r),this.isDeleting=!1,this.toastService.error("Erro ao eliminar mensagem"),r})))}static \u0275fac=function(i){return new(i||n)($(ze),$(it))};static \u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"})};var sY=(n,e)=>({"chat-end":n,"chat-start":e});function oY(n,e){if(n&1&&x(0,"img",23),n&2){let t=b().$implicit;y("alt","Avatar de "+t.user.name)("src",t.user.profilePicture,hi)}}function aY(n,e){n&1&&x(0,"img",24)}function lY(n,e){if(n&1){let t=Q();h(0,"button",30),E("click",function(){O(t);let r=b().$implicit,s=b(2);return L(s.deleteMessage(r.id))}),x(1,"img",31),d()}}function cY(n,e){if(n&1&&(h(0,"div",20)(1,"div",21)(2,"div",22),T(3,oY,1,2,"img",23)(4,aY,1,0,"img",24),d()(),h(5,"div",25)(6,"div")(7,"span",26),v(8),d(),h(9,"time",27),v(10),Y(11,"date"),d()(),T(12,lY,2,0,"button",28),d(),h(13,"div",29),v(14),d()()),n&2){let t=e.$implicit,i=b(2);y("ngClass",ht(9,sY,t.user.id===i.loggedUserId,t.user.id!==i.loggedUserId)),g(3),J(t.user.profilePicture?3:4),g(5),ae(t.user.name),g(2),j(" ",Vn(11,6,t.createdAt,"short")," "),g(2),y("ngIf",t.user.id===i.loggedUserId),g(2),j(" ",t.content," ")}}function uY(n,e){if(n&1){let t=Q();h(0,"div",16)(1,"div",17)(2,"button",18),E("click",function(){O(t);let r=b();return L(r.fetchLastMessages())}),v(3," Carregar \xDAltimas 10 Mensagens "),d()(),T(4,cY,15,12,"div",19),d()}if(n&2){let t=b();g(2),y("disabled",t.currentPage>=10),g(2),y("ngForOf",t.messages)}}function dY(n,e){n&1&&(h(0,"div",32),v(1," Nenhuma mensagem encontrada. "),d())}function hY(n,e){n&1&&(h(0,"div",33),v(1," O conte\xFAdo \xE9 obrigat\xF3rio e deve ter no m\xE1ximo 255 caracteres. "),d())}function pY(n,e){if(n&1){let t=Q();h(0,"button",34),E("click",function(){O(t);let r=b();return L(r.resetForm())}),x(1,"img",35),h(2,"span"),v(3,"Cancelar"),d()()}}var l0=class n{constructor(e,t,i,r,s){this.fb=e;this.messageService=t;this.authService=i;this.route=r;this.renderer=s;this.form=this.fb.group({content:["",[K.required,K.maxLength(255)]]})}messages=[];form;residentId=null;isEditing=!1;loggedUserId=null;pollingSubscription=null;currentPage=1;ngOnInit(){let e=document.querySelector("main");e&&(this.renderer.removeClass(e,"container"),this.renderer.removeClass(e,"px-2"),this.renderer.removeClass(e,"sm:px-0"),this.renderer.removeClass(e,"mx-auto"),this.renderer.removeClass(e,"pt-10"));let t=this.route.snapshot.params.residentId;t&&(this.residentId=+t),this.authService.getUser().pipe(Qt(1)).subscribe(i=>{this.loggedUserId=i?.id||null}),this.residentId&&(this.loadMessages(),this.startPolling())}ngOnDestroy(){let e=document.querySelector("main");e&&(this.renderer.addClass(e,"container"),this.renderer.addClass(e,"px-2"),this.renderer.addClass(e,"sm:px-0"),this.renderer.addClass(e,"mx-auto"),this.renderer.addClass(e,"pt-10")),this.pollingSubscription&&this.pollingSubscription.unsubscribe()}loadMessages(){this.residentId&&this.messageService.fetchList(this.residentId).subscribe({next:e=>{console.log("Mensagens carregadas:",e),this.messages=e.reverse()},error:e=>{console.error("Erro ao carregar mensagens:",e)}})}startPolling(){this.pollingSubscription=Jc(5e3).pipe(Ye(()=>this.messageService.fetchList(this.residentId,1,10))).subscribe({next:e=>{let t=[...e.reverse(),...this.messages].filter((i,r,s)=>r===s.findIndex(o=>o.id===i.id));this.messages=t},error:e=>{console.error("Erro durante o polling de mensagens:",e)}})}fetchLastMessages(){!this.residentId||this.currentPage>=10||(this.currentPage++,this.messageService.fetchList(this.residentId,this.currentPage,10).subscribe({next:e=>{let t=[...e.reverse(),...this.messages].filter((i,r,s)=>r===s.findIndex(o=>o.id===i.id));this.messages=t},error:e=>{console.error("Erro ao buscar mensagens:",e),this.currentPage--}}))}saveMessage(){if(this.form.invalid||!this.residentId)return;let e=this.form.value;this.messageService.create(e,this.residentId).subscribe({next:t=>{this.form.reset(),this.loadMessages()},error:t=>{console.error("Erro ao criar mensagem:",t)}})}deleteMessage(e){this.residentId&&this.messageService.delete(e,this.residentId).subscribe({next:()=>{this.loadMessages()},error:t=>{console.error("Erro ao excluir a mensagem:",t)}})}resetForm(){this.form.reset(),this.isEditing=!1}static \u0275fac=function(t){return new(t||n)(C(_R),C(a0),C(be),C(ge),C(It))};static \u0275cmp=A({type:n,selectors:[["app-message"]],standalone:!0,features:[I],decls:19,vars:6,consts:[[1,"h-screen","flex","items-center","justify-center","bg-cover","bg-center","relative"],["src","landingPage.jpg","alt","Background",1,"absolute","inset-0","w-full","h-full","object-cover","-z-10"],[1,"container","mx-auto","p-4","h-screen","flex","flex-col","items-center"],[1,"card","w-full","max-w-4xl","shadow-lg","rounded-lg","bg-white","p-4","flex","flex-col","h-[80vh]"],[1,"card-header","text-lg","font-semibold","text-gray-800","border-b","pb-2"],["class","space-y-4 flex-1 overflow-y-auto custom-scrollbar p-4 bg-gray-50 rounded-lg",4,"ngIf"],["class","text-gray-500 text-center mt-6",4,"ngIf"],[1,"message-form","mt-4","flex-shrink-0"],[3,"ngSubmit","formGroup"],[1,"form-control"],["id","content","formControlName","content","placeholder","Digite sua mensagem...","rows","3","aria-label","Digite o conte\xFAdo da mensagem",1,"textarea","textarea-bordered","w-full","rounded-md"],["class","text-red-500 text-sm mt-2",4,"ngIf"],[1,"mt-4","flex","space-x-2"],["type","submit",1,"btn","btn-success","flex","items-center","space-x-2"],["src","check.svg","alt","Check",1,"w-6","h-6"],["type","button","class","btn btn-secondary flex items-center space-x-2",3,"click",4,"ngIf"],[1,"space-y-4","flex-1","overflow-y-auto","custom-scrollbar","p-4","bg-gray-50","rounded-lg"],[1,"flex","justify-center","my-4"],["type","button",1,"btn","btn-info",3,"click","disabled"],["class","chat",3,"ngClass",4,"ngFor","ngForOf"],[1,"chat",3,"ngClass"],[1,"chat-image","avatar"],[1,"w-10","rounded-full","mr-2"],[3,"alt","src"],["src","user.svg","alt","Avatar"],[1,"chat-header","flex","items-center","justify-between"],[1,"font-semibold"],[1,"text-xs","opacity-50","ml-2"],["class","ml-2",3,"click",4,"ngIf"],[1,"chat-bubble","bg-blue-500","text-white"],[1,"ml-2",3,"click"],["src","no.svg","alt","Delete",1,"w-4","h-4"],[1,"text-gray-500","text-center","mt-6"],[1,"text-red-500","text-sm","mt-2"],["type","button",1,"btn","btn-secondary","flex","items-center","space-x-2",3,"click"],["src","no.svg","alt","Delete",1,"w-6","h-6"]],template:function(t,i){if(t&1&&(h(0,"div",0),x(1,"img",1),h(2,"div",2)(3,"div",3)(4,"div",4),v(5," Chat "),d(),T(6,uY,5,2,"div",5)(7,dY,2,0,"div",6),h(8,"div",7)(9,"form",8),E("ngSubmit",function(){return i.saveMessage()}),h(10,"div",9),x(11,"textarea",10),T(12,hY,2,0,"div",11),d(),h(13,"div",12)(14,"button",13),x(15,"img",14),h(16,"span"),v(17),d()(),T(18,pY,4,0,"button",15),d()()()()()()),t&2){let r;g(6),y("ngIf",i.messages.length>0),g(),y("ngIf",i.messages.length===0),g(2),y("formGroup",i.form),g(3),y("ngIf",((r=i.form.get("content"))==null?null:r.invalid)&&((r=i.form.get("content"))==null?null:r.touched)),g(5),ae(i.isEditing?"Atualizar Mensagem":"Enviar Mensagem"),g(),y("ngIf",i.isEditing)}},dependencies:[Xt,Gt,rn,Ce,qt,Je,Nt,Bn,on,Lt,un,va]})};var fY=n=>["/residents",n,"health-reports"],mY=(n,e)=>["/residents",n,"health-reports",e,"edit"];function gY(n,e){if(n&1){let t=Q();h(0,"a",16),x(1,"img",17),v(2," Editar "),d(),h(3,"button",18),E("click",function(){O(t);let r=b(3);return L(r.showDeleteModal())}),x(4,"img",19),v(5," Eliminar "),d()}if(n&2){let t=b(3);y("routerLink",ht(1,mY,t.resident==null?null:t.resident.id,t.healthReport.id))}}function vY(n,e){if(n&1&&(h(0,"div",5)(1,"div",6)(2,"div",7)(3,"div",8)(4,"h2",9),v(5," Relat\xF3rio de Sa\xFAde "),d(),h(6,"div",10)(7,"a",11),x(8,"img",12),v(9," Voltar "),d(),T(10,gY,6,4),Y(11,"async"),d()(),h(12,"div",13)(13,"p")(14,"span",14),v(15,"Press\xE3o Arterial:"),d(),v(16),d(),h(17,"p")(18,"span",14),v(19,"Temperatura:"),d(),v(20),d(),h(21,"p")(22,"span",14),v(23,"Altura:"),d(),v(24),d(),h(25,"p")(26,"span",14),v(27,"Peso:"),d(),v(28),d(),h(29,"p")(30,"span",14),v(31,"Taxa Respirat\xF3ria:"),d(),v(32),d(),h(33,"p")(34,"span",14),v(35,"Ritmo Card\xEDaco:"),d(),v(36),d(),h(37,"p")(38,"span",14),v(39,"N\xEDvel de Glicose no Sangue:"),d(),v(40),d(),h(41,"p")(42,"span",14),v(43,"Mobilidade:"),d(),v(44),d(),h(45,"p")(46,"span",14),v(47,"N\xEDvel de Hidrata\xE7\xE3o:"),d(),v(48),d(),h(49,"p")(50,"span",14),v(51,"Avalia\xE7\xE3o Cognitiva:"),d(),v(52),d()(),x(53,"div",15),d()()()),n&2){let t=b(2);g(7),y("routerLink",he(14,fY,t.resident==null?null:t.resident.id)),g(3),J(X(11,12,t.isRelative)?-1:10),g(6),j(" ",t.healthReport.arterialBloodPressure," mmHg"),g(4),j(" ",t.healthReport.temperature," \xB0C"),g(4),j(" ",t.healthReport.height," cm"),g(4),j(" ",t.healthReport.weight," kg"),g(4),j(" ",t.healthReport.respiratoryRate," respira\xE7\xF5es/minuto"),g(4),j(" ",t.healthReport.heartRate," bpm"),g(4),j(" ",t.healthReport.bloodGlucoseLevel," mg/dL"),g(4),j(" ",t.healthReport.mobility,""),g(4),j(" ",t.healthReport.hydrationLevel,""),g(4),j(" ",t.healthReport.cognitiveEmotionalAssessment,"")}}function yY(n,e){n&1&&(h(0,"div"),x(1,"app-loading"),d())}function _Y(n,e){if(n&1){let t=Q();Mt(0),T(1,vY,54,16,"div",2),h(2,"app-modal-confirm",3),E("confirm",function(){O(t);let r=b();return L(r.onDelete())}),d(),T(3,yY,2,0,"div",4),kt()}if(n&2){let t=b();g(),y("ngIf",t.healthReport),g(2),y("ngIf",!t.healthReport)}}function bY(n,e){if(n&1&&(h(0,"p",20),v(1),d()),n&2){let t=b();g(),ae(t.error)}}var c0=class n{constructor(e,t,i,r){this.healthReportService=e;this.route=t;this.router=i;this.auth=r}healthReport;resident;error=null;subs=[];deleteModal;ngOnInit(){let e=Number(this.route.snapshot.paramMap.get("id")),t=Number(this.route.snapshot.paramMap.get("residentId"));e&&t&&this.subs.push(this.healthReportService.fetchItem(e,t).subscribe({next:i=>{this.healthReport=i,this.resident={id:t}},error:i=>{console.error(i),this.error="Relat\xF3rio n\xE3o encontrado"}}))}get isRelative(){return this.auth.isRelative()}ngOnDestroy(){this.subs.forEach(e=>e.unsubscribe())}onDelete(){let e=Number(this.route.snapshot.paramMap.get("id")),t=Number(this.route.snapshot.paramMap.get("residentId"));if(!e||!t){console.error("Informa\xE7\xF5es insuficientes para excluir o relat\xF3rio."),this.error="Falha ao eliminar relat\xF3rio";return}this.subs.push(this.healthReportService.delete(e,t).subscribe({next:()=>{this.router.navigate([`/residents/${t}/health-reports`])},error:i=>{console.error(i),this.error="Falha ao eliminar relat\xF3rio"}}))}showDeleteModal(){this.deleteModal.show()}static \u0275fac=function(t){return new(t||n)(C(Gr),C(ge),C(Z),C(be))};static \u0275cmp=A({type:n,selectors:[["app-health-report-detail"]],viewQuery:function(t,i){if(t&1&&Ct(An,5),t&2){let r;Te(r=Ae())&&(i.deleteModal=r.first)}},standalone:!0,features:[I],decls:3,vars:2,consts:[["errorTpl",""],[4,"ngIf","ngIfElse"],["class","container mx-auto p-4 md:p-6",4,"ngIf"],["title","Apagar Consulta","message","Tem certeza de que deseja eliminar esta consulta?","confirmLabel","Eliminar",3,"confirm"],[4,"ngIf"],[1,"container","mx-auto","p-4","md:p-6"],[1,"card","bg-base-100","shadow-xl","relative"],[1,"card-body","pt-6"],[1,"flex","flex-col","md:flex-row","justify-between","items-center","mb-4"],[1,"card-title","text-2xl","font-semibold","text-center","md:text-left"],[1,"flex","justify-center","md:justify-end","gap-2","mt-4","md:mt-0"],[1,"btn","btn-secondary","inline-flex","items-center","gap-1","text-xs","md:text-base","hover:bg-warning-dark",3,"routerLink"],["src","left-arrow.svg","alt","Left Arrow Icon",1,"h-4","w-4","md:h-5","md:w-5"],[1,"grid","grid-cols-1","md:grid-cols-2","gap-x-8","gap-y-4","p-4","bg-base-200","rounded-lg","w-full"],[1,"font-bold"],[1,"divider","my-4"],[1,"btn","btn-info","inline-flex","items-center","gap-1","text-xs","md:text-base","hover:bg-info-dark",3,"routerLink"],["src","pencil.svg","alt","Edit Icon",1,"h-4","w-4","md:h-6","md:w-6"],[1,"btn","btn-primary","inline-flex","items-center","gap-1","text-xs","md:text-base","hover:bg-error-dark",3,"click"],["src","delete.svg","alt","Delete Icon",1,"h-4","w-4","md:h-6","md:w-6"],[1,"text-error","p-4"]],template:function(t,i){if(t&1&&T(0,_Y,4,2,"ng-container",1)(1,bY,2,1,"ng-template",null,0,Ut),t&2){let r=$t(2);y("ngIf",!i.error)("ngIfElse",r)}},dependencies:[Fe,An,Yt,Ce,qe],encapsulation:2})};var yc=class n{constructor(e){this.location=e}initialData;createRequested=new oe;arterialBloodPressure=new te("",[K.required]);temperature=new te(null,[K.required]);height=new te(null,[K.required]);weight=new te(null,[K.required]);respiratoryRate=new te(null,[K.required]);heartRate=new te(null,[K.required]);bloodGlucoseLevel=new te(null,[K.required]);mobility=new te("",[K.required]);hydrationLevel=new te("",[K.required]);cognitiveEmotionalAssessment=new te("",[K.required]);bloodOxygenLevel=new te(null,[K.required]);form=new Ot({arterialBloodPressure:this.arterialBloodPressure,temperature:this.temperature,height:this.height,weight:this.weight,respiratoryRate:this.respiratoryRate,heartRate:this.heartRate,bloodGlucoseLevel:this.bloodGlucoseLevel,mobility:this.mobility,hydrationLevel:this.hydrationLevel,cognitiveEmotionalAssessment:this.cognitiveEmotionalAssessment,bloodOxygenLevel:this.bloodOxygenLevel});ngOnInit(){if(this.initialData){let e=this.initialData;this.arterialBloodPressure.setValue(e.arterialBloodPressure),this.temperature.setValue(e.temperature),this.height.setValue(e.height),this.weight.setValue(e.weight),this.respiratoryRate.setValue(e.respiratoryRate),this.heartRate.setValue(Number(e.heartRate)),this.bloodGlucoseLevel.setValue(e.bloodGlucoseLevel),this.mobility.setValue(e.mobility),this.hydrationLevel.setValue(e.hydrationLevel),this.cognitiveEmotionalAssessment.setValue(e.cognitiveEmotionalAssessment),this.bloodOxygenLevel.setValue(e.bloodOxygenLevel)}}onSubmit(){if(N&&console.log("Form submitted:",this.form.value,this.form.valid,this.form.errors),this.form.invalid){this.form.markAllAsTouched();return}this.createRequested.emit({arterialBloodPressure:this.arterialBloodPressure.value,temperature:parseFloat(`${this.temperature.value}`),height:parseFloat(`${this.height.value}`),weight:parseFloat(`${this.weight.value}`),respiratoryRate:parseInt(`${this.respiratoryRate.value}`),heartRate:parseInt(`${this.heartRate.value}`),bloodGlucoseLevel:parseInt(`${this.bloodGlucoseLevel.value}`),mobility:this.mobility.value,hydrationLevel:this.hydrationLevel.value,cognitiveEmotionalAssessment:this.cognitiveEmotionalAssessment.value,bloodOxygenLevel:parseFloat(`${this.bloodOxygenLevel.value}`)})}environment=N;goBack(){this.location.back()}static \u0275fac=function(t){return new(t||n)(C(Rt))};static \u0275cmp=A({type:n,selectors:[["app-form-health-report"]],inputs:{initialData:"initialData"},outputs:{createRequested:"createRequested"},standalone:!0,features:[I],decls:26,vars:23,consts:[[1,"lg:px-36",3,"ngSubmit","formGroup"],[1,"card-title","text-2xl","mb-5"],[1,"mb-3","card-title"],[1,"grid","grid-cols-1","sm:grid-cols-2","gap-5","mb-5"],["label","Press\xE3o Arterial","placeholder","(mm/Hg)","type","text",1,"border-0","w-full","p-0",3,"control","required"],["label","Temperatura","placeholder","(\xB0C)","type","number",1,"border-0","w-full","p-0",3,"control","required"],["label","Altura","placeholder","(m)","type","number",1,"border-0","w-full","p-0",3,"control","required"],["label","Peso","placeholder","(kg)","type","number",1,"border-0","w-full","p-0",3,"control","required"],["label","Frequ\xEAncia Respirat\xF3ria","placeholder","(rpm)","type","number",1,"border-0","w-full","p-0",3,"control","required"],["label","Frequ\xEAncia Card\xEDaca","placeholder","(bpm)","type","number",1,"border-0","w-full","p-0",3,"control","required"],["label","N\xEDvel de Glicose no Sangue","placeholder","(mg)","type","number",1,"border-0","w-full","p-0",3,"control","required"],["label","Mobilidade","placeholder","Mobilidade","type","text",1,"border-0","w-full","p-0",3,"control","required"],["label","N\xEDvel de Hidrata\xE7\xE3o","placeholder","(Avalia\xE7\xE3o)","type","text",1,"border-0","w-full","p-0",3,"control","required"],["label","Avalia\xE7\xE3o Cognitiva e Emocional","placeholder","Avalia\xE7\xE3o","type","text",1,"border-0","w-full","p-0",3,"control","required"],["label","N\xEDvel de Oxig\xE9nio","placeholder","(%)","type","number",1,"border-0","w-full","p-0",3,"control","required"],[1,"flex","justify-center","pt-10","gap-4"],[1,"btn","btn-secondary","flex","items-center","gap-2",3,"click"],["src","left-arrow.svg","alt","Left Arrow Icon",1,"w-5","h-5"],["label","Guardar","type","submit"]],template:function(t,i){t&1&&(h(0,"form",0),E("ngSubmit",function(){return i.onSubmit()}),h(1,"h1",1),v(2,"Criar Relat\xF3rio de Sa\xFAde"),d(),h(3,"h2",2),v(4,"Informa\xE7\xF5es de Sa\xFAde"),d(),h(5,"div",3),x(6,"app-input",4)(7,"app-input",5),d(),h(8,"div",3),x(9,"app-input",6)(10,"app-input",7),d(),h(11,"div",3),x(12,"app-input",8)(13,"app-input",9),d(),h(14,"div",3),x(15,"app-input",10)(16,"app-input",11),d(),h(17,"div",3),x(18,"app-input",12)(19,"app-input",13)(20,"app-input",14),d(),h(21,"div",15)(22,"button",16),E("click",function(){return i.goBack()}),x(23,"img",17),v(24," Voltar "),d(),x(25,"app-button",18),d()()),t&2&&(y("formGroup",i.form),g(6),y("control",i.arterialBloodPressure)("required",!0),g(),y("control",i.temperature)("required",!0),g(2),y("control",i.height)("required",!0),g(),y("control",i.weight)("required",!0),g(2),y("control",i.respiratoryRate)("required",!0),g(),y("control",i.heartRate)("required",!0),g(2),y("control",i.bloodGlucoseLevel)("required",!0),g(),y("control",i.mobility)("required",!0),g(2),y("control",i.hydrationLevel)("required",!0),g(),y("control",i.cognitiveEmotionalAssessment)("required",!0),g(),y("control",i.bloodOxygenLevel)("required",!0))},dependencies:[zn,xi,Je,Nt,Lt,un]})};var u0=class n{constructor(e,t,i){this.healthReportService=e;this.router=t;this.route=i;this.submitSub=this.submitQueue.pipe(en(r=>this.healthReportService.create(r,parseInt(this.route.snapshot.paramMap.get("residentId")||"")||0))).subscribe({next:()=>this.router.navigate(["/residents",parseInt(this.route.snapshot.paramMap.get("residentId")||"")||0,"/health-reports"]),error:r=>console.error(r)})}residentHealthReportCreateSub;submitQueue=new ut;submitSub;isSubmitting=!1;ngOnDestroy(){this.submitQueue.complete(),this.submitSub.unsubscribe()}onFormSubmit(e){this.isSubmitting||(this.isSubmitting=!0,this.residentHealthReportCreateSub=this.healthReportService.create(e,parseInt(this.route.snapshot.paramMap.get("residentId")||"")||0).subscribe({next:()=>{this.isSubmitting=!1,this.router.navigate(["/residents/"+this.route.snapshot.paramMap.get("residentId")+"/health-reports"])},error:t=>{this.isSubmitting=!1,console.error(t)}}))}static \u0275fac=function(t){return new(t||n)(C(Gr),C(Z),C(ge))};static \u0275cmp=A({type:n,selectors:[["app-health-report-create"]],standalone:!0,features:[I],decls:1,vars:0,consts:[[3,"createRequested"]],template:function(t,i){t&1&&(h(0,"app-form-health-report",0),E("createRequested",function(s){return i.onFormSubmit(s)}),d())},dependencies:[mi,yc],encapsulation:2})};function xY(n,e){if(n&1){let t=Q();h(0,"app-form-health-report",2),E("createRequested",function(r){O(t);let s=b();return L(s.onFormSubmit(r))}),d()}if(n&2){let t=b();y("initialData",t.healthReport||void 0)}}function CY(n,e){n&1&&x(0,"app-loading")}function wY(n,e){if(n&1&&(h(0,"p",1),v(1),d()),n&2){let t=b();g(),ae(t.error)}}var d0=class n{constructor(e,t,i){this.healthReportService=e;this.route=t;this.router=i}subs=[];resident=null;healthReport=null;error=null;isSubmitting=!1;ngOnInit(){let e=Number(this.route.snapshot.paramMap.get("reportId")),t=Number(this.route.snapshot.paramMap.get("residentId"));e&&t&&this.subs.push(this.healthReportService.fetchItem(e,t).subscribe({next:i=>{this.healthReport=i,this.resident={id:t}},error:i=>{console.error(i),this.error="Relat\xF3rio de sa\xFAde n\xE3o encontrado"}}))}ngOnDestroy(){this.subs.forEach(e=>e.unsubscribe())}onFormSubmit(e){!this.healthReport?.id||!this.resident?.id||this.isSubmitting||(this.isSubmitting=!0,this.error=null,console.log(`


Dados: ${JSON.stringify(e)} Id: ${this.healthReport.id}


`),this.subs.push(this.healthReportService.update(this.healthReport.id,e,this.resident.id).subscribe({next:()=>this.router.navigate([`/residents/${this.resident?.id}/health-reports`]),error:t=>{this.isSubmitting=!1,this.error=t.error?.message||"Falha ao atualizar o relat\xF3rio de sa\xFAde"}})))}static \u0275fac=function(t){return new(t||n)(C(Gr),C(ge),C(Z))};static \u0275cmp=A({type:n,selectors:[["app-health-report-edit"]],standalone:!0,features:[I],decls:3,vars:2,consts:[[3,"initialData"],[1,"error"],[3,"createRequested","initialData"]],template:function(t,i){t&1&&T(0,xY,1,1,"app-form-health-report",0)(1,CY,1,0,"app-loading")(2,wY,2,1,"p",1),t&2&&(J(i.resident&&i.healthReport?0:1),g(2),J(i.error?2:-1))},dependencies:[Yt,yc],encapsulation:2})};var qr=class n extends Hn{constructor(t,i){super();this.httpClient=t;this.toastService=i}url=N.apiUrl+"residents/";fetchList(t){return console.log(this.queryString),this.httpClient.get(this.url+t+"/medicaments"+this.queryString).pipe(q(i=>{console.log(i),this.setTotalPages(i.totalPages)}),V(i=>i.data),ie(i=>(console.log(i),z([]))))}create(t,i){return console.log("MedicationService.create",i),this.httpClient.post(this.url+t+"/medicaments",i).pipe(q(r=>{this.toastService.success("Medica\xE7\xE3o criada com sucesso")}),ie(r=>(console.error(r),this.toastService.error("Erro ao criar medica\xE7\xE3o"),z({}))))}fetchItem(t,i){return this.httpClient.get(`${this.url}${t}/medicaments/${i}`).pipe(q(console.log),ie(r=>(console.error(r),this.toastService.error("Erro ao buscar medica\xE7\xE3o"),z({}))))}update(t,i,r){return this.httpClient.patch(`${this.url}${t}/medicaments/${i}`,r).pipe(q(()=>{this.toastService.success("Medica\xE7\xE3o atualizada com sucesso")}),ie(s=>(console.error(s),this.toastService.error("Erro ao atualizar medica\xE7\xE3o"),z({}))))}delete(t,i){return this.httpClient.delete(`${this.url}${t}/medicaments/${i}`).pipe(q(()=>{this.toastService.success("Medica\xE7\xE3o eliminada com sucesso")}),ie(r=>(console.error(r),this.toastService.error("Erro ao eliminar medica\xE7\xE3o"),z())))}getMedicationById(t,i){return this.httpClient.get(`${this.url}${t}/medicaments/${i}`).pipe(q(console.log),ie(r=>(this.toastService.error("Erro ao buscar medica\xE7\xE3o"),z({}))))}static \u0275fac=function(i){return new(i||n)($(ze),$(it))};static \u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"})};function SY(n,e){if(n&1&&(h(0,"a",5),ee(),h(1,"svg",10),x(2,"path",11),d(),v(3," Adicionar "),d()),n&2){let t=b();y("routerLink","/residents/"+t.residentId+"/medicaments/create")}}var p0=class n{constructor(e,t,i,r){this.medicationService=e;this.router=t;this.route=i;this.auth=r}tableConfig={columns:[{colKey:"name",label:"Nome",type:"text",classList:["w-40"]},{colKey:"quantity",label:"Quantidade",classList:["w-32"]},{colKey:"prescriptionQuantity",label:"Prescri\xE7\xF5es",classList:["w-20"]},{colKey:"dueDate",label:"Validade",type:"date",dateFormat:"yyyy/MM/dd",classList:["w-32"]}]};medicationListSignal=st([]);medicationList=vt(()=>this.medicationListSignal());subscription;ngOnDestroy(){this.medicationService.clearAll(),this.subscription?.unsubscribe()}get isRelative(){return this.auth.isRelative()}get page(){return this.medicationService.page$}get totalPages(){return this.medicationService.totalPages$}get orderBy(){return this.medicationService.orderBy$}get orderDirection(){return this.medicationService.order$}get limit(){return this.medicationService.limit$}get residentId(){return parseInt(this.route.snapshot.params.residentId)||0}ngOnInit(){console.log("pagina medicacao");let e=0;this.medicationService.query$.pipe(q(t=>console.log("Query: ",t)),Ye(()=>this.medicationService.fetchList(parseInt(this.route.snapshot.paramMap.get("residentId")||"")||0)),q(console.log),V(t=>this.medicationListSignal.set(t))).subscribe(),this.route.snapshot.paramMap.get("residentId")}handleSearch(e){this.medicationService.setSearch(e)}handleNextPage(){this.medicationService.nextPage()}handlePreviousPage(){this.medicationService.prevPage()}handleHeaderClick(e){this.medicationService.setOrderBy(e)}handleRowClicked(e){this.router.navigate([`/residents/${this.residentId}/medicaments/${e}`])}handleLimitChange(e){this.medicationService.setPageSize(e)}Order=jn;selectedMedication;goBackResidentProfile(){this.router.navigate(["residents","detail",this.route.snapshot.paramMap.get("residentId")])}showModal(e){return!1}static \u0275fac=function(t){return new(t||n)(C(qr),C(Z),C(ge),C(be))};static \u0275cmp=A({type:n,selectors:[["app-medication"]],standalone:!0,features:[I],decls:16,vars:17,consts:[[1,"container","px-2","sm:px-0","mx-auto"],[1,"flex","flex-col","gap-3","my-2.5","sm:flex-row"],[1,"grow",3,"onSearch"],[1,"flex","gap-2"],[1,"grow",3,"valueSelected"],[1,"btn",3,"routerLink"],[3,"click"],[3,"headerClicked","rowClicked","data","tableConfig","orderDirection","orderKey"],[1,"flex","justify-center","mt-2.5"],[3,"nextPage","previousPage","pageNumber","totalPages"],["fill","none","stroke","currentColor","stroke-width","1.5","viewBox","0 0 24 24","xmlns","http://www.w3.org/2000/svg",1,"size-6"],["d","M12 4.5v15m7.5-7.5h-15","stroke-linecap","round","stroke-linejoin","round"]],template:function(t,i){t&1&&(h(0,"div",0)(1,"section",1)(2,"app-search-box",2),E("onSearch",function(s){return i.handleSearch(s)}),d(),h(3,"div",3)(4,"app-select-limit",4),E("valueSelected",function(s){return i.handleLimitChange(s)}),d(),T(5,SY,4,1,"a",5),Y(6,"async"),h(7,"app-back-button",6),E("click",function(){return i.goBackResidentProfile()}),d()()(),h(8,"section")(9,"app-table",7),Y(10,"async"),Y(11,"async"),E("headerClicked",function(s){return i.handleHeaderClick(s)})("rowClicked",function(s){return i.handleRowClicked(s)}),d()(),h(12,"section",8)(13,"app-paginator",9),Y(14,"async"),Y(15,"async"),E("nextPage",function(){return i.handleNextPage()})("previousPage",function(){return i.handlePreviousPage()}),d()()()),t&2&&(g(5),J(X(6,7,i.isRelative)?-1:5),g(4),y("data",i.medicationList())("tableConfig",i.tableConfig)("orderDirection",X(10,9,i.orderDirection)||i.Order.ASC)("orderKey",X(11,11,i.orderBy)||"id"),g(4),y("pageNumber",X(14,13,i.page)||1)("totalPages",X(15,15,i.totalPages)||1))},dependencies:[vi,yi,_i,qe,bi,Fe,Ur]})};var Wr=class n extends Hn{constructor(t,i){super();this.httpClient=t;this.toastService=i}url=N.apiUrl+"residents/";fetchList(t){return this.httpClient.get(this.url+t+"/appointments"+this.queryString).pipe(q(i=>{console.log(i),this.setTotalPages(i.totalPages)}),V(i=>i.data),q(console.log),ie(i=>(console.log(i),z([]))))}fetchItem(t,i){return this.httpClient.get(`${this.url}${i}/appointments/${t}`).pipe(q(r=>{r.start&&(r.start=new Date(r.start)),console.log(typeof r.start),N.production||console.log("Consulta encontrada:",r)}),ie(r=>(N.production||console.error("Erro ao buscar consulta:",r),this.toastService.error("Erro ao encontrar consulta"),z({}))))}create(t,i){return N.production||console.log("A criar consulta:",t),this.httpClient.post(this.url+i+"/appointments",t).pipe(V(r=>(N.production||console.log("Consulta criada:",r),this.toastService.success("Consulta criada com sucesso"),r)),ie(r=>{throw N.production||console.error("Erro ao criar consulta:",r),r}))}update(t,i,r){return this.httpClient.patch(`${this.url}${r}/appointments/${t}`,i).pipe(q(s=>{N.production||console.log("Consulta atualizada:",s),this.toastService.success("Consulta atualizada com sucesso")}),ie(s=>(N.production||console.error("Erro ao atualizar consulta:",s),this.toastService.error("Erro ao atualizar consulta"),z({}))))}isDeleting=!1;delete(t,i){return this.isDeleting?z():(this.isDeleting=!0,this.httpClient.delete(`${this.url}${i}/appointments/${t}`).pipe(V(()=>{this.isDeleting=!1,this.toastService.success("Consulta eliminada com sucesso")}),ie(r=>{throw N.production||console.error("Erro ao eliminar consulta:",r),this.isDeleting=!1,r})))}static \u0275fac=function(i){return new(i||n)($(ze),$(it))};static \u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"})};var EY=n=>["/residents",n,"appointments","create"];function DY(n,e){if(n&1&&(h(0,"a",5),ee(),h(1,"svg",10),x(2,"path",11),d(),v(3," Adicionar "),d()),n&2){let t=b();y("routerLink",he(1,EY,t.route.snapshot.paramMap.get("residentId")||""))}}var m0=class n{constructor(e,t,i,r){this.residentAppointmentsService=e;this.router=t;this.route=i;this.auth=r}tableConfig={columns:[{colKey:"title",label:"Descri\xE7\xE3o",type:"text",classList:["w-40"]},{colKey:"start",label:"Data/Hora da Consulta",type:"date",dateFormat:"dd/MM/yyyy HH:mm",classList:["w-32"]},{colKey:"type",label:"Modalidade",classList:["w-32"]},{colKey:"status",label:"Estado",classList:["w-20"]}]};residentAppointmentsListSignal=st([]);residentAppointmentsList=vt(()=>this.residentAppointmentsListSignal());subscription;ngOnDestroy(){this.residentAppointmentsService.clearAll(),this.subscription?.unsubscribe()}get page(){return this.residentAppointmentsService.page$}get totalPages(){return this.residentAppointmentsService.totalPages$}get orderBy(){return this.residentAppointmentsService.orderBy$}get orderDirection(){return this.residentAppointmentsService.order$}get limit(){return this.residentAppointmentsService.limit$}residentId;ngOnInit(){let e=0;this.residentAppointmentsService.query$.pipe(q(t=>console.log("Query: ",t)),Ye(()=>this.residentAppointmentsService.fetchList(parseInt(this.route.snapshot.paramMap.get("residentId")||"")||0)),q(console.log),V(t=>this.residentAppointmentsListSignal.set(t))).subscribe(),this.route.snapshot.paramMap.get("residentId")}get isRelative(){return this.auth.isRelative()}handleSearch(e){this.residentAppointmentsService.setSearch(e)}handleNextPage(){this.residentAppointmentsService.nextPage()}handlePreviousPage(){this.residentAppointmentsService.prevPage()}handleHeaderClick(e){this.residentAppointmentsService.setOrderBy(e)}handleRowCliked(e){let t=this.route.snapshot.paramMap.get("residentId");t?this.router.navigate([`residents/${t}/appointments/${e}`]):console.error("Resident ID n\xE3o encontrado na rota.")}goBackResidentProfile(){this.router.navigate(["residents","detail",this.route.snapshot.paramMap.get("residentId")])}handleLimitChange(e){this.residentAppointmentsService.setPageSize(e)}Order=jn;static \u0275fac=function(t){return new(t||n)(C(Wr),C(Z),C(ge),C(be))};static \u0275cmp=A({type:n,selectors:[["app-residents-appointments"]],standalone:!0,features:[I],decls:16,vars:17,consts:[[1,"container","px-2","sm:px-0","mx-auto"],[1,"flex","flex-col","gap-3","my-2.5","sm:flex-row"],[1,"grow",3,"onSearch"],[1,"flex","gap-2"],[1,"grow",3,"valueSelected"],[1,"btn",3,"routerLink"],[3,"click"],[3,"headerClicked","rowClicked","data","tableConfig","orderDirection","orderKey"],[1,"flex","justify-center","mt-2.5"],[3,"nextPage","previousPage","pageNumber","totalPages"],["fill","none","stroke","currentColor","stroke-width","1.5","viewBox","0 0 24 24","xmlns","http://www.w3.org/2000/svg",1,"size-6"],["d","M12 4.5v15m7.5-7.5h-15","stroke-linecap","round","stroke-linejoin","round"]],template:function(t,i){t&1&&(h(0,"div",0)(1,"section",1)(2,"app-search-box",2),E("onSearch",function(s){return i.handleSearch(s)}),d(),h(3,"div",3)(4,"app-select-limit",4),E("valueSelected",function(s){return i.handleLimitChange(s)}),d(),T(5,DY,4,3,"a",5),Y(6,"async"),h(7,"app-back-button",6),E("click",function(){return i.goBackResidentProfile()}),d()()(),h(8,"section")(9,"app-table",7),Y(10,"async"),Y(11,"async"),E("headerClicked",function(s){return i.handleHeaderClick(s)})("rowClicked",function(s){return i.handleRowCliked(s)}),d()(),h(12,"section",8)(13,"app-paginator",9),Y(14,"async"),Y(15,"async"),E("nextPage",function(){return i.handleNextPage()})("previousPage",function(){return i.handlePreviousPage()}),d()()()),t&2&&(g(5),J(X(6,7,i.isRelative)?-1:5),g(4),y("data",i.residentAppointmentsList())("tableConfig",i.tableConfig)("orderDirection",X(10,9,i.orderDirection)||i.Order.ASC)("orderKey",X(11,11,i.orderBy)||"id"),g(4),y("pageNumber",X(14,13,i.page)||1)("totalPages",X(15,15,i.totalPages)||1))},dependencies:[qe,yi,Fe,vi,bi,_i,Ur]})};var _c=class n{constructor(e){this.location=e}selectedMedication;isModalVisible=!1;residentId=_e.required();initialData=_e(void 0);submit=At();name=new te("",[K.required]);instructions=new te("");quantity=new te(null,[K.required,K.pattern(/^\d+$/)]);prescriptionQuantity=new te(null,[K.required,K.pattern(/^\d+$/)]);dueDate=new te(new Date().toISOString().substring(0,10),[K.required]);fnValidateDate(e){return new Date(e.value).getTime()<new Date().getTime()?{dateInPast:!0}:null}form=new Ot({name:this.name,instructions:this.instructions,quantity:this.quantity,prescriptionQuantity:this.prescriptionQuantity,dueDate:this.dueDate});ngOnInit(){if(this.initialData()){let e=this.initialData();this.name.setValue(e.name),this.instructions.setValue(e.instructions),this.quantity.setValue(e.quantity),this.prescriptionQuantity.setValue(e.prescriptionQuantity);let t=new Date(e.dueDate);console.log("dueDateValue:",t),isNaN(t.getTime())?console.error("Invalid date format:",e.dueDate):(this.dueDate.setValue(new Date(e.dueDate).toISOString().substring(0,10)),this.dueDate.updateValueAndValidity())}}onSubmit(){console.log("Form submitted:",this.form.value,this.form.valid,this.form.errors),this.form.valid?this.submit.emit({id:0,name:this.name.value,instructions:this.instructions.value,quantity:this.quantity.value,prescriptionQuantity:this.prescriptionQuantity.value,dueDate:this.dueDate.value}):this.form.markAllAsTouched()}goBack(){this.location.back()}static \u0275fac=function(t){return new(t||n)(C(Rt))};static \u0275cmp=A({type:n,selectors:[["app-form-medication"]],inputs:{residentId:[1,"residentId"],initialData:[1,"initialData"]},outputs:{submit:"submit"},standalone:!0,features:[I],decls:17,vars:11,consts:[[1,"container","px-4","sm:px-0","mx-auto"],[1,"lg:px-36","flex","flex-col",3,"formGroup"],[1,"card-title","text-2xl","mb-5","text-center"],[1,"mb-3","card-title"],["label","Nome","placeholder","Nome do Medicamento","type","text",1,"border-0","w-full","p-0","mb-4",3,"control","required"],["label","Instru\xE7\xF5es","placeholder","Ex: Tomar ap\xF3s as refei\xE7\xF5es","type","text",1,"border-0","w-full","p-0","mb-4",3,"control"],[1,"grid","grid-cols-1","md:grid-cols-2","gap-5","mb-5"],["label","Quantidade","placeholder","Quantidade em stock","type","number",1,"border-0","w-full","p-0",3,"control","required"],["label","Quantidade Prescrita","placeholder","Quantidade","type","number",1,"border-0","w-full","p-0",3,"control","required"],["label","Data de Validade","placeholder","dd/mm/yyyy","type","date",1,"border-0","w-full","p-0","mb-4",3,"control","required"],[1,"flex","flex-wrap","justify-center","gap-4","pt-10"],["type","button",1,"btn","btn-secondary","flex","items-center","gap-2",3,"click"],["src","left-arrow.svg","alt","Left Arrow Icon",1,"w-5","h-5"],["label","Guardar","type","button",3,"onClick"]],template:function(t,i){t&1&&(h(0,"div",0)(1,"form",1)(2,"h1",2),v(3),d(),h(4,"h2",3),v(5,"Informa\xE7\xF5es do Medicamento"),d(),x(6,"app-input",4)(7,"app-input",5),h(8,"div",6),x(9,"app-input",7)(10,"app-input",8),d(),x(11,"app-input",9),h(12,"div",10)(13,"button",11),E("click",function(){return i.goBack()}),x(14,"img",12),v(15," Voltar "),d(),h(16,"app-button",13),E("onClick",function(){return i.onSubmit()}),d()()()()),t&2&&(g(),y("formGroup",i.form),g(2),j("",i.initialData()?"Editar":"Adicionar"," Medicamento"),g(3),y("control",i.name)("required",!0),g(),y("control",i.instructions),g(2),y("control",i.quantity)("required",!0),g(),y("control",i.prescriptionQuantity)("required",!0),g(),y("control",i.dueDate)("required",!0))},dependencies:[xi,Xl,Nt,Lt,zn,Je,un],encapsulation:2})};var g0=class n{constructor(e,t,i){this.medicationService=e;this.router=t;this.route=i;this.residentId=parseInt(this.route.snapshot.paramMap.get("residentId")||"0",10),this.submitSub=this.submitQueue.subscribe({next:()=>this.router.navigate([`/residents/${this.residentId}/medicaments`]),error:r=>console.error(r)})}medicationCreateSub;isSubmitting=!1;submitQueue=new ut;submitSub;residentId;ngOnDestroy(){this.submitQueue.complete(),this.submitSub.unsubscribe()}onFormSubmit(e){if(this.isSubmitting)return;this.isSubmitting=!0;let t=ye(P({},e),{id:0,quantity:parseInt(String(e.quantity)),prescriptionQuantity:parseInt(String(e.prescriptionQuantity))});this.medicationCreateSub=this.medicationService.create(this.residentId,t).subscribe({next:()=>{this.isSubmitting=!1,this.router.navigate([`/residents/${this.residentId}/medicaments`])},error:i=>{this.isSubmitting=!1,console.error(i)}})}static \u0275fac=function(t){return new(t||n)(C(qr),C(Z),C(ge))};static \u0275cmp=A({type:n,selectors:[["app-medication-create"]],standalone:!0,features:[I],decls:1,vars:1,consts:[[3,"submit","residentId"]],template:function(t,i){t&1&&(h(0,"app-form-medication",0),E("submit",function(s){return i.onFormSubmit(s)}),d()),t&2&&y("residentId",i.residentId)},dependencies:[mi,_c],encapsulation:2})};var bc=class n{constructor(e){this.httpClient=e}url=N.apiUrl+"medicament/";addAdministration(e,t){return console.log("MedicationAdministrationService.addAdministration",t),this.httpClient.post(`${this.url}${e}/administration`,t).pipe(ie(i=>(console.error("Failed to add administration",i),z())))}deleteAdministration(e,t){return this.httpClient.delete(`${this.url}${e}/administration/${t}`).pipe(ie(i=>(console.error("Failed to delete administration",i),z())))}static \u0275fac=function(t){return new(t||n)($(ze))};static \u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"})};var TY=(n,e)=>e.id,AY=n=>["/residents",n,"medicaments"],IY=(n,e)=>["/residents",n,"medicaments",e,"edit"];function MY(n,e){if(n&1){let t=Q();h(0,"button",12),E("click",function(){O(t);let r=b(2);return L(r.toggleAddForm())}),x(1,"img",13),v(2," Registar "),d(),h(3,"a",14),x(4,"img",15),v(5," Editar "),d(),h(6,"button",16),E("click",function(){O(t);let r=b(2);return L(r.onDelete())}),x(7,"img",17),v(8," Eliminar "),d()}if(n&2){let t=b(2);g(3),y("routerLink",ht(1,IY,t.residentId,t.medication.id))}}function kY(n,e){if(n&1){let t=Q();h(0,"div",18)(1,"div",19)(2,"div",20)(3,"h2",21),v(4,"Registar Administra\xE7\xE3o"),d()(),h(5,"div",22)(6,"form"),x(7,"app-input",23)(8,"app-input",24),h(9,"div",25)(10,"button",26),E("click",function(){O(t);let r=b(2);return L(r.onAddAdministration())}),x(11,"img",27),v(12," Guardar "),d(),h(13,"button",28),E("click",function(){O(t);let r=b(2);return L(r.toggleAddForm())}),x(14,"img",29),v(15," Cancelar "),d()()()()()()}if(n&2){let t=b(2);g(7),y("control",t.doseControl),g(),y("control",t.hourControl)}}function RY(n,e){if(n&1){let t=Q();h(0,"span",32),E("click",function(){O(t);let r=b().$implicit,s=b(3);return L(s.onDeleteAdministration(r.id))}),x(1,"img",33),d()}}function OY(n,e){if(n&1&&(h(0,"div",30)(1,"div")(2,"p")(3,"span",10),v(4,"Dose Admnistrada:"),d(),v(5),d(),h(6,"p")(7,"span",10),v(8,"Hora da Administra\xE7\xE3o:"),d(),v(9),d()(),T(10,RY,2,0,"span",31),d()),n&2){let t=e.$implicit,i=b(3);g(5),j(" ",t.dose,""),g(4),Zs(" ",i.pad(+t.hour,2),":",i.pad(+t.minute,2),""),g(),J(t.id?10:-1)}}function LY(n,e){if(n&1&&Zn(0,OY,11,4,"div",30,TY),n&2){let t=b(2);Kn(t.medication.medicamentAdministrations)}}function NY(n,e){if(n&1&&(h(0,"div",1)(1,"div",2)(2,"div",3)(3,"h2",4),v(4," Detalhes "),d(),h(5,"div",5)(6,"a",6),x(7,"img",7),v(8," Voltar "),d(),T(9,MY,9,4),Y(10,"async"),d()(),h(11,"div",8)(12,"div",9)(13,"p")(14,"span",10),v(15,"Nome:"),d(),v(16),d(),h(17,"p")(18,"span",10),v(19,"Instru\xE7\xF5es:"),d(),v(20),d(),h(21,"p")(22,"span",10),v(23,"Quantidade:"),d(),v(24),d(),h(25,"p")(26,"span",10),v(27,"Quantidade Prescrita:"),d(),v(28),d(),h(29,"p")(30,"span",10),v(31,"Data de Validade:"),d(),v(32),Y(33,"date"),d()(),h(34,"div"),T(35,kY,16,2,"div",11),h(36,"div"),T(37,LY,2,0),d()()()()()),n&2){let t=b();g(6),y("routerLink",he(14,AY,t.residentId)),g(3),J(X(10,9,t.isRelative)?-1:9),g(7),j(" ",t.medication.name,""),g(4),j(" ",t.medication.instructions,""),g(4),j(" ",t.medication.quantity,""),g(4),j(" ",t.medication.prescriptionQuantity,""),g(4),j(" ",Vn(33,11,t.medication.dueDate,"yyyy-MM-dd"),""),g(3),y("ngIf",t.showAddForm),g(2),J(t.medication&&t.medication.medicamentAdministrations&&t.medication.medicamentAdministrations.length?37:-1)}}var v0=class n{constructor(e,t,i,r,s){this.route=e;this.router=t;this.medicationService=i;this.medicationAdministrationService=r;this.auth=s}activeTab="register";medication;error;residentId;isAdministrationModalVisible=!1;showAddForm=!1;newAdministration={hour:"",dose:0};doseControl=new te(null,[K.required,K.min(0)]);hourControl=new te(null,[K.required]);administrationForm=new Ot({dose:this.doseControl,hour:this.hourControl});get isRelative(){return this.auth.isRelative()}ngOnInit(){this.residentId=this.route.snapshot.paramMap.get("residentId");let e=this.route.snapshot.paramMap.get("id");this.residentId&&e?this.medicationService.getMedicationById(this.residentId,e).subscribe({next:t=>{console.log(t),this.medication=t},error:t=>{this.error="Failed to load medication details"}}):this.error="Invalid route parameters",this.hourControl.valueChanges.subscribe(()=>{this.validateNotSameHour()&&(this.hourControl.setErrors({sameHour:!0}),console.log(this.hourControl.errors))})}onDelete(){let e=this.route.snapshot.paramMap.get("id");this.residentId&&e?this.medicationService.delete(this.residentId,e).subscribe({next:()=>{this.router.navigate([`/residents/${this.residentId}/medicaments`])},error:t=>{this.error="Failed to delete medication"}}):this.error="Invalid route parameters"}showAdministrationModal(){this.isAdministrationModalVisible=!0}onAddAdministration(){console.log(this.newAdministration,this.administrationForm.valid,this.hourControl.value),this.administrationForm.valid&&this.medication?.id?this.medicationAdministrationService.addAdministration(this.medication.id,{hour:this.hourControl.value,dose:parseInt(`${this.doseControl.value}`)}).subscribe({next:e=>{console.log("Administra\xE7\xE3o adicionada:",e),this.medication.medicamentAdministrations?.push({id:e.id,hour:parseInt(`${e.hour}`.split(":")[0]),minute:parseInt(`${e.hour}`.split(":")[1]),dose:e.dose}),this.administrationForm.reset(),this.showAddForm=!1},error:e=>{console.error("Erro ao adicionar administra\xE7\xE3o:",e)}}):(this.administrationForm.markAllAsTouched(),this.administrationForm.markAsDirty(),this.administrationForm.markAsTouched(),this.administrationForm.updateValueAndValidity())}onDeleteAdministration(e){this.medication?.medicamentAdministrations&&this.residentId&&this.medicationAdministrationService.deleteAdministration(this.medication.id,e).subscribe({next:()=>{this.medication.medicamentAdministrations=this.medication.medicamentAdministrations?.filter(t=>t.id!==e)},error:t=>{console.error("Erro ao eliminar administra\xE7\xE3o:",t)}})}toggleAddForm(){this.showAddForm=!this.showAddForm}validateNotSameHour(){let e=this.hourControl.value?.split(":")[0],t=this.hourControl.value?.split(":")[1];return!e||!t?!0:!!this.medication?.medicamentAdministrations?.find(r=>r.hour===parseInt(e)&&r.minute===parseInt(t))}pad(e,t){let i=e+"";for(;i.length<t;)i="0"+i;return i}static \u0275fac=function(t){return new(t||n)(C(ge),C(Z),C(qr),C(bc),C(be))};static \u0275cmp=A({type:n,selectors:[["app-medication-details"]],standalone:!0,features:[I],decls:1,vars:1,consts:[["class","container mx-auto p-4 md:p-6",4,"ngIf"],[1,"container","mx-auto","p-4","md:p-6"],[1,"card","bg-base-100","shadow-xl","relative"],[1,"flex","flex-col","md:flex-row","justify-between","items-center","mb-4","m-4"],[1,"card-title","text-2xl","font-semibold","text-center","md:text-left"],[1,"flex","flex-wrap","justify-center","md:justify-end","gap-2","mt-4","md:mt-0"],[1,"btn","btn-secondary","flex","items-center","gap-2",3,"routerLink"],["src","left-arrow.svg","alt","Voltar",1,"w-6","h-6"],[1,"grid","grid-cols-1","md:grid-cols-2","gap-4","p-4","bg-base-200","rounded-lg","w-full"],[1,"space-y-2"],[1,"font-bold"],["class","fixed -inset-2 bg-gray-800 bg-opacity-50 flex items-center justify-center z-50",4,"ngIf"],["type","button",1,"btn","btn-success","flex","items-center","gap-2",3,"click"],["src","medical-symbol.svg","alt","Registar Administra\xE7\xE3o",1,"w-6","h-6"],[1,"btn","btn-info","flex","items-center","gap-2",3,"routerLink"],["src","pencil.svg","alt","Editar",1,"w-6","h-6"],[1,"btn","btn-primary","flex","items-center","gap-2",3,"click"],["src","delete.svg","alt","Eliminar",1,"w-6","h-6"],[1,"fixed","-inset-2","bg-gray-800","bg-opacity-50","flex","items-center","justify-center","z-50"],[1,"bg-white","rounded-lg","shadow-lg","w-full","max-w-md","mx-4","md:mx-0"],[1,"flex","justify-between","items-center","p-4","border-b"],[1,"text-lg","font-semibold"],[1,"p-4"],["label","Dose","type","number","placeholder","Dose",1,"appearance-none","bg-none","border-none","rounded-none","p-0","text-none","shadow-none",3,"control"],["label","Hora","type","time","placeholder","Hora",1,"appearance-none","bg-none","border-none","rounded-none","p-0","text-none","shadow-none",3,"control"],[1,"flex","justify-end","mt-4"],["type","button",1,"btn","btn-success","mr-2","flex","items-center","gap-2",3,"click"],["src","check.svg","alt","Guardar",1,"w-5","h-5"],["type","button",1,"btn","btn-primary","flex","items-center","gap-2",3,"click"],["src","no.svg","alt","Cancelar",1,"w-5","h-5"],[1,"flex","justify-between","items-center","border-b","py-2"],[1,"cursor-pointer"],[1,"cursor-pointer",3,"click"],["src","no.svg","alt","Delete Icon",1,"w-6","h-6"]],template:function(t,i){t&1&&T(0,NY,38,16,"div",0),t&2&&y("ngIf",i.medication)},dependencies:[Xt,Ce,qe,qt,Fe,Je,Nt,Lt,zn],encapsulation:2})};var Zd=class n{constructor(e){this.medicationAdministrationService=e}administrations=[];residentId;medicationId;deleteAdministration(e){this.medicationAdministrationService.deleteAdministration(this.medicationId,e).subscribe({next:()=>{this.administrations=this.administrations.filter(t=>t.id!==e)},error:t=>{console.error("Failed to delete administration",t)}})}static \u0275fac=function(t){return new(t||n)(C(bc))};static \u0275cmp=A({type:n,selectors:[["app-medication-administration"]],inputs:{residentId:"residentId",medicationId:"medicationId"},standalone:!0,features:[I],decls:0,vars:0,template:function(t,i){}})};var eS=(i=>(i.PENDING="Pendente",i.CANCELLED="Cancelado",i.DONE="Conclu\xEDdo",i))(eS||{});var tS=(i=>(i.MEDICAL_APPOINTMENT="Consulta M\xE9dica",i.MEDICAL_EXAM="Exame M\xE9dico",i.OTHER="Outro",i))(tS||{});var xc=class n{constructor(e){this.location=e}goBack(){this.location.back()}initialData=_e();createRequested=At();title=new te("",[K.required]);type=new te("",[K.required]);status=new te("",[K.required]);start=new te(new Date().toISOString().substring(0,16),[K.required,this.futureDateValidator.bind(this)]);observation=new te("",[]);form=new Ot({title:this.title,type:this.type,status:this.status,start:this.start,observation:this.observation});types=Object.values(tS).map(e=>({value:e,label:String(e).charAt(0).toUpperCase()+String(e).slice(1)}));statuses=Object.values(eS).map(e=>({value:e,label:String(e).charAt(0).toUpperCase()+String(e).slice(1)}));ngOnInit(){if(this.initialData()){let e=this.initialData();this.title.setValue(e.title),this.type.setValue(e.type),this.status.setValue(e.status),this.start.setValue(new Date(e.start).toISOString().substring(0,16)),this.observation.setValue(e.observation)}}onSubmit(){console.log("Form submitted:",this.form.value,this.form.valid,this.form.errors),this.form.valid?this.createRequested.emit({title:this.title.value,type:this.type.value,status:this.status.value,start:new Date(this.start.value),observation:this.observation.value}):this.form.markAllAsTouched()}futureDateValidator(e){let t=new Date,i=new Date(e.value);return this.initialData()||i>t?null:{futureDate:!0}}environment=N;static \u0275fac=function(t){return new(t||n)(C(Rt))};static \u0275cmp=A({type:n,selectors:[["app-form-residents-appointment"]],inputs:{initialData:[1,"initialData"]},outputs:{createRequested:"createRequested"},standalone:!0,features:[I],decls:16,vars:10,consts:[[1,"lg:px-36",3,"ngSubmit","formGroup"],[1,"card-title","text-2xl","mb-5"],[1,"mb-3","card-title"],["label","T\xEDtulo","placeholder","T\xEDtulo da consulta","type","text",1,"border-0","w-full","p-0",3,"control","required"],[1,"grid","grid-cols-2","gap-5","mb-5"],["label","Tipo de Consulta",3,"control","data"],["label","Status da Consulta",3,"control","data"],["label","Data e Hora de In\xEDcio","placeholder","dd/mm/yyyy hh:mm","type","datetime-local",1,"border-0","w-full","p-0",3,"control","required"],["label","Observa\xE7\xF5es","placeholder","Ex: Detalhes adicionais","type","text",1,"border-0","w-full","p-0",3,"control"],[1,"flex","flex-wrap","justify-center","gap-4","pt-10"],[1,"btn","btn-secondary","flex","items-center","gap-2",3,"click"],["src","left-arrow.svg","alt","Left Arrow Icon",1,"w-5","h-5"],["label","Guardar","type","submit"]],template:function(t,i){t&1&&(h(0,"form",0),E("ngSubmit",function(){return i.onSubmit()}),h(1,"h1",1),v(2,"Criar Consulta"),d(),h(3,"h2",2),v(4,"Consultas "),d(),x(5,"app-input",3),h(6,"div",4),x(7,"app-select-box",5)(8,"app-select-box",6),d(),x(9,"app-input",7)(10,"app-input",8),h(11,"div",9)(12,"button",10),E("click",function(){return i.goBack()}),x(13,"img",11),v(14," Voltar "),d(),x(15,"app-button",12),d()()),t&2&&(y("formGroup",i.form),g(5),y("control",i.title)("required",!0),g(2),y("control",i.type)("data",i.types),g(),y("control",i.status)("data",i.statuses),g(),y("control",i.start)("required",!0),g(),y("control",i.observation))},dependencies:[zn,zr,xi,Je,Nt,Lt,un]})};var y0=class n{constructor(e,t,i){this.residentAppointmentsService=e;this.router=t;this.route=i;this.submitSub=this.submitQueue.pipe(en(r=>this.residentAppointmentsService.create(r,parseInt(this.route.snapshot.paramMap.get("residentId")||"")||0))).subscribe({next:()=>this.router.navigate(["/residents/",parseInt(this.route.snapshot.paramMap.get("residentId")||"")||0,"/appointments"]),error:r=>console.error(r)})}residentAppointmentCreateSub;isSubmitting=!1;submitQueue=new ut;submitSub;ngOnDestroy(){this.submitQueue.complete(),this.submitSub.unsubscribe()}onFormSubmit(e){this.isSubmitting||(this.isSubmitting=!0,this.residentAppointmentCreateSub=this.residentAppointmentsService.create(e,parseInt(this.route.snapshot.paramMap.get("residentId")||"")||0).subscribe({next:()=>{this.isSubmitting=!1,this.router.navigate(["/residents/"+this.route.snapshot.paramMap.get("residentId")+"/appointments"])},error:t=>{this.isSubmitting=!1,console.error(t)}}))}static \u0275fac=function(t){return new(t||n)(C(Wr),C(Z),C(ge))};static \u0275cmp=A({type:n,selectors:[["app-residents-appointments-create"]],standalone:!0,features:[I],decls:1,vars:0,consts:[[3,"createRequested"]],template:function(t,i){t&1&&(h(0,"app-form-residents-appointment",0),E("createRequested",function(s){return i.onFormSubmit(s)}),d())},dependencies:[mi,xc]})};var FY=(n,e)=>["/residents",n,"appointments",e,"edit"];function PY(n,e){if(n&1){let t=Q();h(0,"a",17),x(1,"img",18),v(2," Editar "),d(),h(3,"button",19),E("click",function(){O(t);let r=b(3);return L(r.showDeleteModal())}),x(4,"img",20),v(5," Eliminar "),d()}if(n&2){let t=b(3);y("routerLink",ht(1,FY,t.resident==null?null:t.resident.id,t.appointment.id))}}function VY(n,e){if(n&1){let t=Q();h(0,"div",4)(1,"div",5)(2,"div",6)(3,"div",7)(4,"h2",8),v(5," Detalhes da Consulta "),d(),h(6,"div",9)(7,"button",10),E("click",function(){O(t);let r=b(2);return L(r.goBack())}),x(8,"img",11),v(9," Voltar "),d(),T(10,PY,6,4),Y(11,"async"),d()(),h(12,"div",12)(13,"div",13)(14,"p")(15,"span",14),v(16,"T\xEDtulo:"),d(),v(17),d(),h(18,"p")(19,"span",14),v(20,"Tipo:"),d(),v(21),d(),h(22,"p")(23,"span",14),v(24,"Status:"),d(),v(25),d()(),h(26,"div",13)(27,"p")(28,"span",14),v(29,"Data e Hora de In\xEDcio:"),d(),v(30),Y(31,"date"),d(),h(32,"p")(33,"span",14),v(34,"Observa\xE7\xF5es:"),d(),v(35),d()()(),x(36,"div",15),d()(),h(37,"app-modal-confirm",16),E("confirm",function(){O(t);let r=b(2);return L(r.onDelete())}),d()()}if(n&2){let t=b(2);g(10),J(X(11,6,t.isRelative)?-1:10),g(7),j(" ",t.appointment.title,""),g(4),j(" ",t.appointment.type,""),g(4),j(" ",t.appointment.status,""),g(5),j(" ",Vn(31,8,t.appointment.start,"dd MMMM yyyy, HH:mm"),""),g(5),j(" ",t.appointment.observation||"Nenhuma observa\xE7\xE3o registrada","")}}function BY(n,e){n&1&&(h(0,"div"),x(1,"app-loading"),d())}function jY(n,e){if(n&1&&(Mt(0),T(1,VY,38,11,"div",2)(2,BY,2,0,"div",3),kt()),n&2){let t=b();g(),y("ngIf",t.appointment),g(),y("ngIf",!t.appointment)}}function HY(n,e){if(n&1&&(h(0,"p",21),v(1),d()),n&2){let t=b();g(),ae(t.error)}}var _0=class n{constructor(e,t,i,r,s){this.residentAppointmentsService=e;this.route=t;this.router=i;this.location=r;this.auth=s}appointment;resident;error=null;subs=[];deleteModal;goBack(){this.location.back()}ngOnInit(){let e=Number(this.route.snapshot.paramMap.get("id")),t=Number(this.route.snapshot.paramMap.get("residentId"));e&&t&&this.subs.push(this.residentAppointmentsService.fetchItem(e,t).subscribe({next:i=>{this.appointment=i,this.resident={id:t}},error:i=>{console.error(i),this.error="Consulta n\xE3o encontrada"}}))}get isRelative(){return this.auth.isRelative()}ngOnDestroy(){this.subs.forEach(e=>e.unsubscribe())}onDelete(){let e=Number(this.route.snapshot.paramMap.get("id")),t=Number(this.route.snapshot.paramMap.get("residentId"));if(!e||!t){console.error("Informa\xE7\xF5es insuficientes para excluir a consulta."),this.error="Falha ao eliminar consulta";return}this.subs.push(this.residentAppointmentsService.delete(e,t).subscribe({next:()=>{this.router.navigate([`/residents/${t}/appointments`])},error:i=>{console.error(i),this.error="Falha ao eliminar consulta"}}))}showDeleteModal(){this.deleteModal.show()}static \u0275fac=function(t){return new(t||n)(C(Wr),C(ge),C(Z),C(Rt),C(be))};static \u0275cmp=A({type:n,selectors:[["app-residents-appointments-detail"]],viewQuery:function(t,i){if(t&1&&Ct(An,5),t&2){let r;Te(r=Ae())&&(i.deleteModal=r.first)}},standalone:!0,features:[I],decls:3,vars:2,consts:[["errorTpl",""],[4,"ngIf","ngIfElse"],["class","container mx-auto p-4 md:p-6",4,"ngIf"],[4,"ngIf"],[1,"container","mx-auto","p-4","md:p-6"],[1,"card","bg-base-100","shadow-xl","relative"],[1,"card-body","pt-6"],[1,"flex","flex-col","md:flex-row","justify-between","items-center","mb-4"],[1,"card-title","text-2xl","font-semibold","text-center","md:text-left"],[1,"flex","justify-center","md:justify-end","gap-2","mt-4","md:mt-0"],[1,"btn","btn-secondary","flex","items-center","gap-2",3,"click"],["src","left-arrow.svg","alt","Left Arrow Icon",1,"w-6","h-6"],[1,"grid","grid-cols-1","md:grid-cols-2","gap-4","p-4","bg-base-200","rounded-lg","w-full"],[1,"space-y-2"],[1,"font-bold"],[1,"divider","my-4"],["title","Apagar Consulta","message","Tem certeza de que deseja eliminar esta consulta?","confirmLabel","Eliminar",3,"confirm"],[1,"btn","btn-info","inline-flex","items-center","gap-1","text-xs","md:text-base","hover:bg-info-dark",3,"routerLink"],["src","pencil.svg","alt","Editar Icon",1,"w-5","h-5"],[1,"btn","btn-primary","inline-flex","items-center","gap-1","text-xs","md:text-base","hover:bg-error-dark",3,"click"],["src","delete.svg","alt","Eliminar Icon",1,"w-5","h-5"],[1,"text-error","p-4"]],template:function(t,i){if(t&1&&T(0,jY,3,2,"ng-container",1)(1,HY,2,1,"ng-template",null,0,Ut),t&2){let r=$t(2);y("ngIf",!i.error)("ngIfElse",r)}},dependencies:[qt,Fe,An,Yt,Ce,qe]})};function zY(n,e){if(n&1){let t=Q();h(0,"app-form-residents-appointment",2),E("createRequested",function(r){O(t);let s=b();return L(s.onFormSubmit(r))}),d()}if(n&2){let t=b();y("initialData",t.appointment||void 0)}}function $Y(n,e){n&1&&x(0,"app-loading")}function UY(n,e){if(n&1&&(h(0,"p",1),v(1),d()),n&2){let t=b();g(),ae(t.error)}}var b0=class n{constructor(e,t,i){this.residentAppointmentsService=e;this.route=t;this.router=i}subs=[];resident=null;appointment=null;error=null;isSubmitting=!1;ngOnInit(){let e=Number(this.route.snapshot.paramMap.get("appointmentId")),t=Number(this.route.snapshot.paramMap.get("residentId"));e&&t&&this.subs.push(this.residentAppointmentsService.fetchItem(e,t).subscribe({next:i=>{this.appointment=i,this.resident={id:t}},error:i=>{console.error(i),this.error="Consulta n\xE3o encontrada"}}))}ngOnDestroy(){this.subs.forEach(e=>e.unsubscribe())}onFormSubmit(e){!this.appointment?.id||!this.resident?.id||this.isSubmitting||(this.isSubmitting=!0,this.error=null,this.subs.push(this.residentAppointmentsService.update(this.appointment.id,e,this.resident.id).subscribe({next:()=>this.router.navigate([`/residents/${this.resident?.id}/appointments`]),error:t=>{this.isSubmitting=!1,this.error=t.error?.message||"Failed to update resident"}})))}static \u0275fac=function(t){return new(t||n)(C(Wr),C(ge),C(Z))};static \u0275cmp=A({type:n,selectors:[["app-residents-appointments-edit"]],standalone:!0,features:[I],decls:3,vars:2,consts:[[3,"initialData"],[1,"error"],[3,"createRequested","initialData"]],template:function(t,i){t&1&&T(0,zY,1,1,"app-form-residents-appointment",0)(1,$Y,1,0,"app-loading")(2,UY,2,1,"p",1),t&2&&(J(i.resident&&i.appointment?0:1),g(2),J(i.error?2:-1))},dependencies:[Yt,xc]})};var Yr=class n extends Hn{constructor(t,i){super();this.httpClient=t;this.toastService=i}url=N.apiUrl+"residents/";fetchList(t){return this.httpClient.get(this.url+t+"/payments"+this.queryString).pipe(V(i=>(i.data.forEach(r=>{r.date&&(r.date=new Date(r.date),r.date=`${r.date.getDate()}/${r.date.getMonth()+1}/${r.date.getFullYear()}`),console.log(typeof r.date),N.production||console.log("Pagamento encontrado:",r)}),console.log(i),this.setTotalPages(i.totalPages),i)),V(i=>i.data.map(r=>(r.type==="Outros"?(r.year="---",r.month="---"):r.month=r.month+" / "+r.year,r))),q(console.log),ie(i=>(console.log(i),z([]))))}fetchItem(t,i){return this.httpClient.get(`${this.url}${i}/payments/${t}`).pipe(q(r=>{r.date&&(r.date=new Date(r.date)),console.log(typeof r.date),N.production||console.log("Pagamento encontrado:",r)}),ie(r=>(N.production||console.error("Erro ao encontrar pagamento:",r),this.toastService.error("Erro ao buscar pagamento"),z({}))))}create(t,i){return N.production||console.log("A criar pagamento:",t),this.httpClient.post(this.url+i+"/payments",t).pipe(V(r=>(N.production||console.log("Pagamento criado:",r),this.toastService.success("Pagamento criado com sucesso"),r)),ie(r=>{throw N.production||console.error("Erro ao criar pagamento:",r),r}))}update(t,i,r){return this.httpClient.patch(`${this.url}${r}/payments/${t}`,i).pipe(q(s=>{N.production||console.log("Pagamento atualizado:",s),this.toastService.success("Pagamento atualizado com sucesso")}),ie(s=>(N.production||console.error("Erro ao atualizar pagamento:",s),this.toastService.error("Erro ao atualizar pagamento"),z({}))))}isDeleting=!1;delete(t,i){return this.isDeleting?z():(this.isDeleting=!0,this.httpClient.delete(`${this.url}${i}/payments/${t}`).pipe(V(()=>{this.isDeleting=!1,this.toastService.success("Pagamento eliminado com sucesso")}),ie(r=>{throw N.production||console.error("Erro ao eliminar pagamento:",r),this.isDeleting=!1,r})))}static \u0275fac=function(i){return new(i||n)($(ze),$(it))};static \u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"})};var GY=n=>["/residents",n,"payments","create"];function qY(n,e){if(n&1&&(h(0,"a",5),ee(),h(1,"svg",10),x(2,"path",11),d(),v(3," Adicionar "),d()),n&2){let t=b();y("routerLink",he(1,GY,t.route.snapshot.paramMap.get("residentId")||""))}}var C0=class n{constructor(e,t,i,r){this.residentPaymentsService=e;this.router=t;this.route=i;this.auth=r}tableConfig={columns:[{colKey:"date",label:"Data de Pagamento",type:"date",dateFormat:"dd/MM/yyyy",classList:["w-40"]},{colKey:"month",label:"M\xEAs / Ano",type:"text",classList:["w-32"]},{colKey:"type",label:"Tipo de Pagamento",classList:["w-32"]},{colKey:"amount",label:"Valor Total",classList:["w-20"]}]};residentPaymentsListSignal=st([]);residentPaymentsList=vt(()=>this.residentPaymentsListSignal());subscription;ngOnDestroy(){this.residentPaymentsService.clearAll(),this.subscription?.unsubscribe()}get isRelative(){return this.auth.isRelative()}get page(){return this.residentPaymentsService.page$}get totalPages(){return this.residentPaymentsService.totalPages$}get orderBy(){return this.residentPaymentsService.orderBy$}get orderDirection(){return this.residentPaymentsService.order$}get limit(){return this.residentPaymentsService.limit$}residentId;ngOnInit(){let e=0;this.residentPaymentsService.query$.pipe(q(t=>console.log("Query: ",t)),Ye(()=>this.residentPaymentsService.fetchList(parseInt(this.route.snapshot.paramMap.get("residentId")||"")||0)),q(console.log),V(t=>this.residentPaymentsListSignal.set(t))).subscribe(),this.route.snapshot.paramMap.get("residentId")}handleSearch(e){this.residentPaymentsService.setSearch(e)}handleNextPage(){this.residentPaymentsService.nextPage()}handlePreviousPage(){this.residentPaymentsService.prevPage()}handleHeaderClick(e){this.residentPaymentsService.setOrderBy(e)}handleRowCliked(e){let t=this.route.snapshot.paramMap.get("residentId");t?this.router.navigate([`residents/${t}/payments/${e}`]):console.error("Resident ID n\xE3o encontrado na rota.")}goBackResidentProfile(){this.router.navigate([`residents/detail/${this.route.snapshot.paramMap.get("residentId")}`])}handleLimitChange(e){this.residentPaymentsService.setPageSize(e)}Order=jn;static \u0275fac=function(t){return new(t||n)(C(Yr),C(Z),C(ge),C(be))};static \u0275cmp=A({type:n,selectors:[["app-residents-payments"]],standalone:!0,features:[I],decls:16,vars:17,consts:[[1,"container","px-2","sm:px-0","mx-auto"],[1,"flex","flex-col","gap-3","my-2.5","sm:flex-row"],[1,"grow",3,"onSearch"],[1,"flex","gap-2"],[1,"grow",3,"valueSelected"],[1,"btn",3,"routerLink"],[3,"click"],[3,"headerClicked","rowClicked","data","tableConfig","orderDirection","orderKey"],[1,"flex","justify-center","mt-2.5"],[3,"nextPage","previousPage","pageNumber","totalPages"],["fill","none","stroke","currentColor","stroke-width","1.5","viewBox","0 0 24 24","xmlns","http://www.w3.org/2000/svg",1,"size-6"],["d","M12 4.5v15m7.5-7.5h-15","stroke-linecap","round","stroke-linejoin","round"]],template:function(t,i){t&1&&(h(0,"div",0)(1,"section",1)(2,"app-search-box",2),E("onSearch",function(s){return i.handleSearch(s)}),d(),h(3,"div",3)(4,"app-select-limit",4),E("valueSelected",function(s){return i.handleLimitChange(s)}),d(),T(5,qY,4,3,"a",5),Y(6,"async"),h(7,"app-back-button",6),E("click",function(){return i.goBackResidentProfile()}),d()()(),h(8,"section")(9,"app-table",7),Y(10,"async"),Y(11,"async"),E("headerClicked",function(s){return i.handleHeaderClick(s)})("rowClicked",function(s){return i.handleRowCliked(s)}),d()(),h(12,"section",8)(13,"app-paginator",9),Y(14,"async"),Y(15,"async"),E("nextPage",function(){return i.handleNextPage()})("previousPage",function(){return i.handlePreviousPage()}),d()()()),t&2&&(g(5),J(X(6,7,i.isRelative)?-1:5),g(4),y("data",i.residentPaymentsList())("tableConfig",i.tableConfig)("orderDirection",X(10,9,i.orderDirection)||i.Order.ASC)("orderKey",X(11,11,i.orderBy)||"id"),g(4),y("pageNumber",X(14,13,i.page)||1)("totalPages",X(15,15,i.totalPages)||1))},dependencies:[qe,yi,Fe,vi,bi,_i,Ur]})};var WY=(n,e)=>["/residents",n,"payments",e,"edit"];function YY(n,e){if(n&1){let t=Q();h(0,"a",17),x(1,"img",18),v(2," Editar "),d(),h(3,"button",19),E("click",function(){O(t);let r=b(3);return L(r.showDeleteModal())}),x(4,"img",20),v(5," Eliminar "),d()}if(n&2){let t=b(3);y("routerLink",ht(1,WY,t.resident==null?null:t.resident.id,t.payment.id))}}function QY(n,e){if(n&1&&(Mt(0),h(1,"p")(2,"span",14),v(3,"M\xEAs:"),d(),v(4),d(),h(5,"p")(6,"span",14),v(7,"Ano:"),d(),v(8),d(),kt()),n&2){let t=b(3);g(4),j(" ",t.payment.month||"N\xE3o especificado"," "),g(4),j(" ",t.payment.year||"N\xE3o especificado"," ")}}function XY(n,e){if(n&1){let t=Q();h(0,"div",4)(1,"div",5)(2,"div",6)(3,"div",7)(4,"h2",8),v(5," Detalhes do Pagamento "),d(),h(6,"div",9)(7,"button",10),E("click",function(){O(t);let r=b(2);return L(r.goBack())}),x(8,"img",11),v(9," Voltar "),d(),T(10,YY,6,4),Y(11,"async"),d()(),h(12,"div",12)(13,"div",13)(14,"p")(15,"span",14),v(16,"Montante:"),d(),v(17),d(),h(18,"p")(19,"span",14),v(20,"Tipo:"),d(),v(21),d(),h(22,"p")(23,"span",14),v(24,"Data de Pagamento:"),d(),v(25),Y(26,"date"),d()(),h(27,"div",13),T(28,QY,9,2,"ng-container",3),h(29,"p")(30,"span",14),v(31,"Observa\xE7\xF5es:"),d(),v(32),d()()(),x(33,"div",15),d()(),h(34,"app-modal-confirm",16),E("confirm",function(){O(t);let r=b(2);return L(r.onDelete())}),d()()}if(n&2){let t=b(2);g(10),J(X(11,6,t.isRelative)?-1:10),g(7),j(" ",t.payment.amount," "),g(4),j(" ",t.payment.type," "),g(4),j(" ",Vn(26,8,t.payment.date,"dd MMMM yyyy")," "),g(3),y("ngIf",t.payment.type==="Mensalidade"),g(4),j(" ",t.payment.observation||"Nenhuma observa\xE7\xE3o registrada"," ")}}function ZY(n,e){n&1&&(h(0,"div"),x(1,"app-loading"),d())}function KY(n,e){if(n&1&&(Mt(0),T(1,XY,35,11,"div",2)(2,ZY,2,0,"div",3),kt()),n&2){let t=b();g(),y("ngIf",t.payment),g(),y("ngIf",!t.payment)}}function JY(n,e){if(n&1&&(h(0,"p",21),v(1),d()),n&2){let t=b();g(),ae(t.error)}}var w0=class n{constructor(e,t,i,r,s){this.residentPaymentsService=e;this.route=t;this.router=i;this.location=r;this.auth=s}payment;resident;error=null;subs=[];deleteModal;ngOnInit(){let e=Number(this.route.snapshot.paramMap.get("id")),t=Number(this.route.snapshot.paramMap.get("residentId"));e&&t&&this.subs.push(this.residentPaymentsService.fetchItem(e,t).subscribe({next:i=>{this.payment=i,this.resident={id:t}},error:i=>{console.error(i),this.error="Pagamento n\xE3o encontrado"}}))}ngOnDestroy(){this.subs.forEach(e=>e.unsubscribe())}onDelete(){let e=Number(this.route.snapshot.paramMap.get("id")),t=Number(this.route.snapshot.paramMap.get("residentId"));if(!e||!t){console.error("Informa\xE7\xF5es insuficientes para apagar o pagamento"),this.error="Falha ao eliminar o pagamento";return}this.subs.push(this.residentPaymentsService.delete(e,t).subscribe({next:()=>{this.router.navigate(["/residents",t,"payments"])},error:i=>{console.error(i),this.error="Falha ao eliminar o pagamento"}}))}showDeleteModal(){this.deleteModal.show()}goBack(){this.location.back()}get isRelative(){return this.auth.isRelative()}static \u0275fac=function(t){return new(t||n)(C(Yr),C(ge),C(Z),C(Rt),C(be))};static \u0275cmp=A({type:n,selectors:[["app-residents-payments-details"]],viewQuery:function(t,i){if(t&1&&Ct(An,5),t&2){let r;Te(r=Ae())&&(i.deleteModal=r.first)}},standalone:!0,features:[I],decls:3,vars:2,consts:[["errorTpl",""],[4,"ngIf","ngIfElse"],["class","container mx-auto p-4 md:p-6",4,"ngIf"],[4,"ngIf"],[1,"container","mx-auto","p-4","md:p-6"],[1,"card","bg-base-100","shadow-xl","relative"],[1,"card-body","pt-6"],[1,"flex","flex-col","md:flex-row","justify-between","items-center","mb-4"],[1,"card-title","text-2xl","font-semibold","text-center","md:text-left"],[1,"flex","justify-center","md:justify-end","gap-2","mt-4","md:mt-0"],[1,"btn","btn-secondary","flex","items-center","gap-2",3,"click"],["src","left-arrow.svg","alt","Left Arrow Icon",1,"w-6","h-6"],[1,"grid","grid-cols-1","md:grid-cols-2","gap-4","p-4","bg-base-200","rounded-lg","w-full"],[1,"space-y-2"],[1,"font-bold"],[1,"divider","my-4"],["title","Apagar Pagamento","message","Tem certeza de que deseja eliminar este pagamento?","confirmLabel","Eliminar",3,"confirm"],[1,"btn","btn-info","inline-flex","items-center","gap-1","text-xs","md:text-base","hover:bg-info-dark",3,"routerLink"],["src","pencil.svg","alt","Edit Icon",1,"w-6","h-6"],[1,"btn","btn-primary","inline-flex","items-center","gap-1","text-xs","md:text-base","hover:bg-error-dark",3,"click"],["src","delete.svg","alt","Eliminar",1,"w-6","h-6"],[1,"text-error","p-4"]],template:function(t,i){if(t&1&&T(0,KY,3,2,"ng-container",1)(1,JY,2,1,"ng-template",null,0,Ut),t&2){let r=$t(2);y("ngIf",!i.error)("ngIfElse",r)}},dependencies:[qt,Fe,An,Yt,Ce,qe]})};var nS=(t=>(t.MonthlyFee="Mensalidade",t.Other="Outros",t))(nS||{});var eQ=n=>({"bg-gray-200 text-gray-500":n});function tQ(n,e){if(n&1&&(h(0,"div",12),x(1,"app-input",13)(2,"app-input",14),d()),n&2){let t=b(2);g(),y("control",t.month)("required",!0),g(),y("control",t.year)("required",!0)}}function nQ(n,e){if(n&1&&(Mt(0),x(1,"app-select-box",10),T(2,tQ,3,4,"div",11),kt()),n&2){let t=b();g(),y("control",t.type)("required",!0)("data",t.types),g(),y("ngIf",t.type.value==="Mensalidade")}}var Cc=class n{constructor(e,t){this.location=e;this.http=t}isEditMode=!1;goBack(){this.location.back()}initialData=_e();createRequested=At();amount=new te(null,[K.required]);date=new te(new Date().toISOString().substring(0,10),[K.required]);observation=new te(void 0,[]);month=new te(null);year=new te(null);type=new te("",[K.required]);form=new Ot({amount:this.amount,date:this.date,observation:this.observation,month:this.month,year:this.year,type:this.type});types=Object.values(nS).map(e=>({value:e,label:String(e).charAt(0).toUpperCase()+String(e).slice(1)}));ngOnInit(){if(this.isEditMode=!!this.initialData(),this.initialData()){let e=this.initialData();this.amount.setValue(e.amount),this.date.setValue(new Date(e.date).toISOString().substring(0,10)),this.observation.setValue(e.observation),this.type.setValue(e.type),this.month.setValue(e.month||null),this.year.setValue(e.year||null),e.type==="Outros"?this.amount.enable():this.amount.disable()}this.isEditMode||this.type.valueChanges.subscribe(e=>{e==="Mensalidade"?(this.addMonthAndYearValidators(),this.fetchMonthlyFee(1),this.amount.disable()):e==="Outros"?(this.removeMonthAndYearValidators(),this.amount.enable()):(this.removeMonthAndYearValidators(),this.amount.setValue(null),this.amount.enable())})}fetchMonthlyFee(e){return vr(this,null,function*(){try{let t=yield Qo(this.http.get(`${N.apiUrl}residents/${e}`));t&&typeof t.monthlyFee=="number"?this.amount.setValue(t.monthlyFee):(console.error("Resposta inesperada da API:",t),this.amount.setValue(null))}catch(t){console.error("Erro ao buscar o valor da mensalidade:",t),this.amount.setValue(null)}})}addMonthAndYearValidators(){this.month.setValidators([K.required]),this.year.setValidators([K.required]),this.month.updateValueAndValidity(),this.year.updateValueAndValidity()}removeMonthAndYearValidators(){this.month.clearValidators(),this.year.clearValidators(),this.month.updateValueAndValidity(),this.year.updateValueAndValidity()}onSubmit(){console.log("Form submitted:",this.form.value,this.form.valid,this.form.errors),this.form.valid?this.createRequested.emit({amount:parseFloat(this.amount.value.toString()),date:new Date(this.date.value).toISOString(),observation:this.observation.value||void 0,type:this.type.value,month:this.type.value==="Mensalidade"?Number(this.month.value):null,year:this.type.value==="Mensalidade"?Number(this.year.value):null}):this.form.markAllAsTouched()}environment=N;static \u0275fac=function(t){return new(t||n)(C(Rt),C(ze))};static \u0275cmp=A({type:n,selectors:[["app-form-residents-payment"]],inputs:{initialData:[1,"initialData"]},outputs:{createRequested:"createRequested"},standalone:!0,features:[I],decls:12,vars:11,consts:[[1,"lg:px-36",3,"ngSubmit","formGroup"],[1,"mb-3","card-title"],["label","Montante","placeholder","Ex: 1200","type","number",1,"border-0","w-full","p-0",3,"control","required","ngClass"],["label","Data","placeholder","dd/mm/yyyy","type","date",1,"border-0","w-full","p-0",3,"control","required"],[4,"ngIf"],["label","Observa\xE7\xE3o","placeholder","Escreva aqui alguma observa\xE7\xE3o","type","textarea",1,"border-0","w-full","p-0",3,"control","required"],[1,"flex","flex-wrap","justify-center","mb-3","gap-4","pt-10"],["type","button",1,"btn","btn-secondary","inline-flex","items-center","gap-2",3,"click"],["src","left-arrow.svg","alt","\xCDcone de Voltar",1,"w-4","h-4","md:w-6","md:h-6"],["label","Guardar","type","submit"],["label","Tipo de Pagamento",3,"control","required","data"],["class","grid grid-cols-1 md:grid-cols-2 gap-2",4,"ngIf"],[1,"grid","grid-cols-1","md:grid-cols-2","gap-2"],["label","M\xEAs","placeholder","Ex: 11","type","number",1,"border-0","w-full","p-0",3,"control","required"],["label","Ano","placeholder","Ex: 2029","type","number",1,"border-0","w-full","p-0",3,"control","required"]],template:function(t,i){t&1&&(h(0,"form",0),E("ngSubmit",function(){return i.onSubmit()}),h(1,"h2",1),v(2,"Informa\xE7\xF5es do Pagamento"),d(),x(3,"app-input",2)(4,"app-input",3),T(5,nQ,3,4,"ng-container",4),x(6,"app-input",5),h(7,"div",6)(8,"button",7),E("click",function(){return i.goBack()}),x(9,"img",8),v(10," Voltar "),d(),x(11,"app-button",9),d()()),t&2&&(y("formGroup",i.form),g(3),y("control",i.amount)("required",!0)("ngClass",he(9,eQ,i.amount.disabled)),g(),y("control",i.date)("required",!0),g(),y("ngIf",!i.isEditMode),g(),y("control",i.observation)("required",!1))},dependencies:[zn,zr,xi,Je,Nt,Lt,un,Ce,Gt]})};var S0=class n{constructor(e,t,i){this.residentPaymentsService=e;this.router=t;this.route=i;this.submitSub=this.submitQueue.pipe(en(r=>this.residentPaymentsService.create(r,parseInt(this.route.snapshot.paramMap.get("residentId")||"")||0))).subscribe({next:()=>this.router.navigate(["/residents/",parseInt(this.route.snapshot.paramMap.get("residentId")||"")||0,"/payments"]),error:r=>console.error(r)})}residentPaymentCreateSub;isSubmitting=!1;submitQueue=new ut;submitSub;ngOnDestroy(){this.submitQueue.complete(),this.submitSub.unsubscribe()}onFormSubmit(e){this.isSubmitting||(this.isSubmitting=!0,this.residentPaymentCreateSub=this.residentPaymentsService.create(e,parseInt(this.route.snapshot.paramMap.get("residentId")||"")||0).subscribe({next:()=>{this.isSubmitting=!1,this.router.navigate(["/residents/"+this.route.snapshot.paramMap.get("residentId")+"/payments"])},error:t=>{this.isSubmitting=!1,console.error(t)}}))}static \u0275fac=function(t){return new(t||n)(C(Yr),C(Z),C(ge))};static \u0275cmp=A({type:n,selectors:[["app-residents-payments-create"]],standalone:!0,features:[I],decls:1,vars:0,consts:[[3,"createRequested"]],template:function(t,i){t&1&&(h(0,"app-form-residents-payment",0),E("createRequested",function(s){return i.onFormSubmit(s)}),d())},dependencies:[mi,Cc]})};function iQ(n,e){if(n&1){let t=Q();h(0,"app-form-residents-payment",2),E("createRequested",function(r){O(t);let s=b();return L(s.onFormSubmit(r))}),d()}if(n&2){let t=b();y("initialData",t.payment||void 0)}}function rQ(n,e){n&1&&x(0,"app-loading")}function sQ(n,e){if(n&1&&(h(0,"p",1),v(1),d()),n&2){let t=b();g(),ae(t.error)}}var E0=class n{constructor(e,t,i){this.residentPaymentsService=e;this.route=t;this.router=i}subs=[];resident=null;payment=null;error=null;isSubmitting=!1;ngOnInit(){let e=Number(this.route.snapshot.paramMap.get("paymentId")),t=Number(this.route.snapshot.paramMap.get("residentId"));e&&t&&this.subs.push(this.residentPaymentsService.fetchItem(e,t).subscribe({next:i=>{this.payment=i,this.resident={id:t}},error:i=>{console.error(i),this.error="Pagamento n\xE3o encontrado"}}))}ngOnDestroy(){this.subs.forEach(e=>e.unsubscribe())}onFormSubmit(e){!this.payment?.id||!this.resident?.id||this.isSubmitting||(this.isSubmitting=!0,this.error=null,this.subs.push(this.residentPaymentsService.update(this.payment.id,e,this.resident.id).subscribe({next:()=>this.router.navigate([`/residents/${this.resident?.id}/payments`]),error:t=>{this.isSubmitting=!1,this.error=t.error?.message||"Failed to update resident"}})))}static \u0275fac=function(t){return new(t||n)(C(Yr),C(ge),C(Z))};static \u0275cmp=A({type:n,selectors:[["app-residents-payments-edit"]],standalone:!0,features:[I],decls:3,vars:2,consts:[[3,"initialData"],[1,"error"],[3,"createRequested","initialData"]],template:function(t,i){t&1&&T(0,iQ,1,1,"app-form-residents-payment",0)(1,rQ,1,0,"app-loading")(2,sQ,2,1,"p",1),t&2&&(J(i.resident&&i.payment?0:1),g(2),J(i.error?2:-1))},dependencies:[Yt,Cc]})};function oQ(n,e){if(n&1){let t=Q();h(0,"app-form-medication",1),E("submit",function(r){O(t);let s=b();return L(s.onSave(r))}),d()}if(n&2){let t=b();y("residentId",+t.residentId)("initialData",t.medication)}}var D0=class n{constructor(e,t,i){this.route=e;this.router=t;this.medicationService=i}residentId=null;medicationId=null;medication=null;error;isSubmitting=!1;ngOnInit(){this.residentId=this.route.snapshot.paramMap.get("residentId"),this.medicationId=this.route.snapshot.paramMap.get("id"),this.residentId&&this.medicationId?this.medicationService.getMedicationById(this.residentId,this.medicationId).subscribe({next:e=>{this.medication=e},error:e=>{this.error=e.message}}):this.error="Invalid route parameters"}onSave(e){this.isSubmitting||(this.isSubmitting=!0,this.residentId&&this.medicationId&&this.medicationService.update(this.residentId,this.medicationId,{id:parseInt(this.medicationId),name:e.name,instructions:e.instructions,quantity:parseFloat(`${e.quantity}`),prescriptionQuantity:parseFloat(`${e.prescriptionQuantity}`),dueDate:e.dueDate}).subscribe({next:()=>{this.isSubmitting=!1,this.router.navigate([`/residents/${this.residentId}/medicaments/${this.medicationId}`])},error:t=>{this.isSubmitting=!1,this.error=t.message}}))}onCancel(){this.residentId&&this.router.navigate([`/residents/${this.residentId}/medicaments`])}static \u0275fac=function(t){return new(t||n)(C(ge),C(Z),C(qr))};static \u0275cmp=A({type:n,selectors:[["app-medication-edit"]],standalone:!0,features:[cn([qt]),I],decls:1,vars:1,consts:[[3,"residentId","initialData"],[3,"submit","residentId","initialData"]],template:function(t,i){t&1&&T(0,oQ,1,2,"app-form-medication",0),t&2&&J(i.residentId&&i.residentId!==null&&i.medication?0:-1)},dependencies:[Je,Xt,_c],encapsulation:2})};var k0,ve,$2,rS,wc,Ma,B2,U2,G2,A0={},q2=[],aQ=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function Io(n,e){for(var t in e)n[t]=e[t];return n}function W2(n){var e=n.parentNode;e&&e.removeChild(n)}function k(n,e,t){var i,r,s,o={};for(s in e)s=="key"?i=e[s]:s=="ref"?r=e[s]:o[s]=e[s];if(arguments.length>2&&(o.children=arguments.length>3?k0.call(arguments,2):t),typeof n=="function"&&n.defaultProps!=null)for(s in n.defaultProps)o[s]===void 0&&(o[s]=n.defaultProps[s]);return T0(n,o,i,r,null)}function T0(n,e,t,i,r){var s={type:n,props:e,key:t,ref:i,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:r??++$2};return r==null&&ve.vnode!=null&&ve.vnode(s),s}function Ri(){return{current:null}}function Et(n){return n.children}function lQ(n,e,t,i,r){var s;for(s in t)s==="children"||s==="key"||s in e||I0(n,s,null,t[s],i);for(s in e)r&&typeof e[s]!="function"||s==="children"||s==="key"||s==="value"||s==="checked"||t[s]===e[s]||I0(n,s,e[s],t[s],i)}function j2(n,e,t){e[0]==="-"?n.setProperty(e,t??""):n[e]=t==null?"":typeof t!="number"||aQ.test(e)?t:t+"px"}function I0(n,e,t,i,r){var s;e:if(e==="style")if(typeof t=="string")n.style.cssText=t;else{if(typeof i=="string"&&(n.style.cssText=i=""),i)for(e in i)t&&e in t||j2(n.style,e,"");if(t)for(e in t)i&&t[e]===i[e]||j2(n.style,e,t[e])}else if(e[0]==="o"&&e[1]==="n")s=e!==(e=e.replace(/Capture$/,"")),e=e.toLowerCase()in n?e.toLowerCase().slice(2):e.slice(2),n.l||(n.l={}),n.l[e+s]=t,t?i||n.addEventListener(e,s?z2:H2,s):n.removeEventListener(e,s?z2:H2,s);else if(e!=="dangerouslySetInnerHTML"){if(r)e=e.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(e!=="width"&&e!=="height"&&e!=="href"&&e!=="list"&&e!=="form"&&e!=="tabIndex"&&e!=="download"&&e in n)try{n[e]=t??"";break e}catch{}typeof t=="function"||(t==null||t===!1&&e.indexOf("-")==-1?n.removeAttribute(e):n.setAttribute(e,t))}}function H2(n){wc=!0;try{return this.l[n.type+!1](ve.event?ve.event(n):n)}finally{wc=!1}}function z2(n){wc=!0;try{return this.l[n.type+!0](ve.event?ve.event(n):n)}finally{wc=!1}}function In(n,e){this.props=n,this.context=e}function Kd(n,e){if(e==null)return n.__?Kd(n.__,n.__.__k.indexOf(n)+1):null;for(var t;e<n.__k.length;e++)if((t=n.__k[e])!=null&&t.__e!=null)return t.__e;return typeof n.type=="function"?Kd(n):null}function Y2(n){var e,t;if((n=n.__)!=null&&n.__c!=null){for(n.__e=n.__c.base=null,e=0;e<n.__k.length;e++)if((t=n.__k[e])!=null&&t.__e!=null){n.__e=n.__c.base=t.__e;break}return Y2(n)}}function cQ(n){wc?setTimeout(n):U2(n)}function iS(n){(!n.__d&&(n.__d=!0)&&Ma.push(n)&&!M0.__r++||B2!==ve.debounceRendering)&&((B2=ve.debounceRendering)||cQ)(M0)}function M0(){var n,e,t,i,r,s,o,a;for(Ma.sort(function(l,c){return l.__v.__b-c.__v.__b});n=Ma.shift();)n.__d&&(e=Ma.length,i=void 0,r=void 0,o=(s=(t=n).__v).__e,(a=t.__P)&&(i=[],(r=Io({},s)).__v=s.__v+1,sS(a,s,r,t.__n,a.ownerSVGElement!==void 0,s.__h!=null?[o]:null,i,o??Kd(s),s.__h),J2(i,s),s.__e!=o&&Y2(s)),Ma.length>e&&Ma.sort(function(l,c){return l.__v.__b-c.__v.__b}));M0.__r=0}function Q2(n,e,t,i,r,s,o,a,l,c){var u,p,m,f,_,w,S,D=i&&i.__k||q2,R=D.length;for(t.__k=[],u=0;u<e.length;u++)if((f=t.__k[u]=(f=e[u])==null||typeof f=="boolean"?null:typeof f=="string"||typeof f=="number"||typeof f=="bigint"?T0(null,f,null,null,f):Array.isArray(f)?T0(Et,{children:f},null,null,null):f.__b>0?T0(f.type,f.props,f.key,f.ref?f.ref:null,f.__v):f)!=null){if(f.__=t,f.__b=t.__b+1,(m=D[u])===null||m&&f.key==m.key&&f.type===m.type)D[u]=void 0;else for(p=0;p<R;p++){if((m=D[p])&&f.key==m.key&&f.type===m.type){D[p]=void 0;break}m=null}sS(n,f,m=m||A0,r,s,o,a,l,c),_=f.__e,(p=f.ref)&&m.ref!=p&&(S||(S=[]),m.ref&&S.push(m.ref,null,f),S.push(p,f.__c||_,f)),_!=null?(w==null&&(w=_),typeof f.type=="function"&&f.__k===m.__k?f.__d=l=X2(f,l,n):l=Z2(n,f,m,D,_,l),typeof t.type=="function"&&(t.__d=l)):l&&m.__e==l&&l.parentNode!=n&&(l=Kd(m))}for(t.__e=w,u=R;u--;)D[u]!=null&&(typeof t.type=="function"&&D[u].__e!=null&&D[u].__e==t.__d&&(t.__d=K2(i).nextSibling),tN(D[u],D[u]));if(S)for(u=0;u<S.length;u++)eN(S[u],S[++u],S[++u])}function X2(n,e,t){for(var i,r=n.__k,s=0;r&&s<r.length;s++)(i=r[s])&&(i.__=n,e=typeof i.type=="function"?X2(i,e,t):Z2(t,i,i,r,i.__e,e));return e}function Jd(n,e){return e=e||[],n==null||typeof n=="boolean"||(Array.isArray(n)?n.some(function(t){Jd(t,e)}):e.push(n)),e}function Z2(n,e,t,i,r,s){var o,a,l;if(e.__d!==void 0)o=e.__d,e.__d=void 0;else if(t==null||r!=s||r.parentNode==null)e:if(s==null||s.parentNode!==n)n.appendChild(r),o=null;else{for(a=s,l=0;(a=a.nextSibling)&&l<i.length;l+=1)if(a==r)break e;n.insertBefore(r,s),o=s}return o!==void 0?o:r.nextSibling}function K2(n){var e,t,i;if(n.type==null||typeof n.type=="string")return n.__e;if(n.__k){for(e=n.__k.length-1;e>=0;e--)if((t=n.__k[e])&&(i=K2(t)))return i}return null}function sS(n,e,t,i,r,s,o,a,l){var c,u,p,m,f,_,w,S,D,R,F,U,ne,le,me,ue=e.type;if(e.constructor!==void 0)return null;t.__h!=null&&(l=t.__h,a=e.__e=t.__e,e.__h=null,s=[a]),(c=ve.__b)&&c(e);try{e:if(typeof ue=="function"){if(S=e.props,D=(c=ue.contextType)&&i[c.__c],R=c?D?D.props.value:c.__:i,t.__c?w=(u=e.__c=t.__c).__=u.__E:("prototype"in ue&&ue.prototype.render?e.__c=u=new ue(S,R):(e.__c=u=new In(S,R),u.constructor=ue,u.render=dQ),D&&D.sub(u),u.props=S,u.state||(u.state={}),u.context=R,u.__n=i,p=u.__d=!0,u.__h=[],u._sb=[]),u.__s==null&&(u.__s=u.state),ue.getDerivedStateFromProps!=null&&(u.__s==u.state&&(u.__s=Io({},u.__s)),Io(u.__s,ue.getDerivedStateFromProps(S,u.__s))),m=u.props,f=u.state,u.__v=e,p)ue.getDerivedStateFromProps==null&&u.componentWillMount!=null&&u.componentWillMount(),u.componentDidMount!=null&&u.__h.push(u.componentDidMount);else{if(ue.getDerivedStateFromProps==null&&S!==m&&u.componentWillReceiveProps!=null&&u.componentWillReceiveProps(S,R),!u.__e&&u.shouldComponentUpdate!=null&&u.shouldComponentUpdate(S,u.__s,R)===!1||e.__v===t.__v){for(e.__v!==t.__v&&(u.props=S,u.state=u.__s,u.__d=!1),e.__e=t.__e,e.__k=t.__k,e.__k.forEach(function(ft){ft&&(ft.__=e)}),F=0;F<u._sb.length;F++)u.__h.push(u._sb[F]);u._sb=[],u.__h.length&&o.push(u);break e}u.componentWillUpdate!=null&&u.componentWillUpdate(S,u.__s,R),u.componentDidUpdate!=null&&u.__h.push(function(){u.componentDidUpdate(m,f,_)})}if(u.context=R,u.props=S,u.__P=n,U=ve.__r,ne=0,"prototype"in ue&&ue.prototype.render){for(u.state=u.__s,u.__d=!1,U&&U(e),c=u.render(u.props,u.state,u.context),le=0;le<u._sb.length;le++)u.__h.push(u._sb[le]);u._sb=[]}else do u.__d=!1,U&&U(e),c=u.render(u.props,u.state,u.context),u.state=u.__s;while(u.__d&&++ne<25);u.state=u.__s,u.getChildContext!=null&&(i=Io(Io({},i),u.getChildContext())),p||u.getSnapshotBeforeUpdate==null||(_=u.getSnapshotBeforeUpdate(m,f)),me=c!=null&&c.type===Et&&c.key==null?c.props.children:c,Q2(n,Array.isArray(me)?me:[me],e,t,i,r,s,o,a,l),u.base=e.__e,e.__h=null,u.__h.length&&o.push(u),w&&(u.__E=u.__=null),u.__e=!1}else s==null&&e.__v===t.__v?(e.__k=t.__k,e.__e=t.__e):e.__e=uQ(t.__e,e,t,i,r,s,o,l);(c=ve.diffed)&&c(e)}catch(ft){e.__v=null,(l||s!=null)&&(e.__e=a,e.__h=!!l,s[s.indexOf(a)]=null),ve.__e(ft,e,t)}}function J2(n,e){ve.__c&&ve.__c(e,n),n.some(function(t){try{n=t.__h,t.__h=[],n.some(function(i){i.call(t)})}catch(i){ve.__e(i,t.__v)}})}function uQ(n,e,t,i,r,s,o,a){var l,c,u,p=t.props,m=e.props,f=e.type,_=0;if(f==="svg"&&(r=!0),s!=null){for(;_<s.length;_++)if((l=s[_])&&"setAttribute"in l==!!f&&(f?l.localName===f:l.nodeType===3)){n=l,s[_]=null;break}}if(n==null){if(f===null)return document.createTextNode(m);n=r?document.createElementNS("http://www.w3.org/2000/svg",f):document.createElement(f,m.is&&m),s=null,a=!1}if(f===null)p===m||a&&n.data===m||(n.data=m);else{if(s=s&&k0.call(n.childNodes),c=(p=t.props||A0).dangerouslySetInnerHTML,u=m.dangerouslySetInnerHTML,!a){if(s!=null)for(p={},_=0;_<n.attributes.length;_++)p[n.attributes[_].name]=n.attributes[_].value;(u||c)&&(u&&(c&&u.__html==c.__html||u.__html===n.innerHTML)||(n.innerHTML=u&&u.__html||""))}if(lQ(n,m,p,r,a),u)e.__k=[];else if(_=e.props.children,Q2(n,Array.isArray(_)?_:[_],e,t,i,r&&f!=="foreignObject",s,o,s?s[0]:t.__k&&Kd(t,0),a),s!=null)for(_=s.length;_--;)s[_]!=null&&W2(s[_]);a||("value"in m&&(_=m.value)!==void 0&&(_!==n.value||f==="progress"&&!_||f==="option"&&_!==p.value)&&I0(n,"value",_,p.value,!1),"checked"in m&&(_=m.checked)!==void 0&&_!==n.checked&&I0(n,"checked",_,p.checked,!1))}return n}function eN(n,e,t){try{typeof n=="function"?n(e):n.current=e}catch(i){ve.__e(i,t)}}function tN(n,e,t){var i,r;if(ve.unmount&&ve.unmount(n),(i=n.ref)&&(i.current&&i.current!==n.__e||eN(i,null,e)),(i=n.__c)!=null){if(i.componentWillUnmount)try{i.componentWillUnmount()}catch(s){ve.__e(s,e)}i.base=i.__P=null,n.__c=void 0}if(i=n.__k)for(r=0;r<i.length;r++)i[r]&&tN(i[r],e,t||typeof n.type!="function");t||n.__e==null||W2(n.__e),n.__=n.__e=n.__d=void 0}function dQ(n,e,t){return this.constructor(n,t)}function Mo(n,e,t){var i,r,s;ve.__&&ve.__(n,e),r=(i=typeof t=="function")?null:t&&t.__k||e.__k,s=[],sS(e,n=(!i&&t||e).__k=k(Et,null,[n]),r||A0,A0,e.ownerSVGElement!==void 0,!i&&t?[t]:r?null:e.firstChild?k0.call(e.childNodes):null,s,!i&&t?t:r?r.__e:e.firstChild,i),J2(s,n)}function R0(n,e){var t={__c:e="__cC"+G2++,__:n,Consumer:function(i,r){return i.children(r)},Provider:function(i){var r,s;return this.getChildContext||(r=[],(s={})[e]=this,this.getChildContext=function(){return s},this.shouldComponentUpdate=function(o){this.props.value!==o.value&&r.some(function(a){a.__e=!0,iS(a)})},this.sub=function(o){r.push(o);var a=o.componentWillUnmount;o.componentWillUnmount=function(){r.splice(r.indexOf(o),1),a&&a.call(o)}}),i.children}};return t.Provider.__=t.Consumer.contextType=t}k0=q2.slice,ve={__e:function(n,e,t,i){for(var r,s,o;e=e.__;)if((r=e.__c)&&!r.__)try{if((s=r.constructor)&&s.getDerivedStateFromError!=null&&(r.setState(s.getDerivedStateFromError(n)),o=r.__d),r.componentDidCatch!=null&&(r.componentDidCatch(n,i||{}),o=r.__d),o)return r.__E=r}catch(a){n=a}throw n}},$2=0,rS=function(n){return n!=null&&n.constructor===void 0},wc=!1,In.prototype.setState=function(n,e){var t;t=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=Io({},this.state),typeof n=="function"&&(n=n(Io({},t),this.props)),n&&Io(t,n),n!=null&&this.__v&&(e&&this._sb.push(e),iS(this))},In.prototype.forceUpdate=function(n){this.__v&&(this.__e=!0,n&&this.__h.push(n),iS(this))},In.prototype.render=Et,Ma=[],U2=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,M0.__r=0,G2=0;var pQ,Qr,oS,nN;var cN=[],aS=[],iN=ve.__b,rN=ve.__r,sN=ve.diffed,oN=ve.__c,aN=ve.unmount;function fQ(){for(var n;n=cN.shift();)if(n.__P&&n.__H)try{n.__H.__h.forEach(O0),n.__H.__h.forEach(lS),n.__H.__h=[]}catch(e){n.__H.__h=[],ve.__e(e,n.__v)}}ve.__b=function(n){Qr=null,iN&&iN(n)},ve.__r=function(n){rN&&rN(n),pQ=0;var e=(Qr=n.__c).__H;e&&(oS===Qr?(e.__h=[],Qr.__h=[],e.__.forEach(function(t){t.__N&&(t.__=t.__N),t.__V=aS,t.__N=t.i=void 0})):(e.__h.forEach(O0),e.__h.forEach(lS),e.__h=[])),oS=Qr},ve.diffed=function(n){sN&&sN(n);var e=n.__c;e&&e.__H&&(e.__H.__h.length&&(cN.push(e)!==1&&nN===ve.requestAnimationFrame||((nN=ve.requestAnimationFrame)||mQ)(fQ)),e.__H.__.forEach(function(t){t.i&&(t.__H=t.i),t.__V!==aS&&(t.__=t.__V),t.i=void 0,t.__V=aS})),oS=Qr=null},ve.__c=function(n,e){e.some(function(t){try{t.__h.forEach(O0),t.__h=t.__h.filter(function(i){return!i.__||lS(i)})}catch(i){e.some(function(r){r.__h&&(r.__h=[])}),e=[],ve.__e(i,t.__v)}}),oN&&oN(n,e)},ve.unmount=function(n){aN&&aN(n);var e,t=n.__c;t&&t.__H&&(t.__H.__.forEach(function(i){try{O0(i)}catch(r){e=r}}),t.__H=void 0,e&&ve.__e(e,t.__v))};var lN=typeof requestAnimationFrame=="function";function mQ(n){var e,t=function(){clearTimeout(i),lN&&cancelAnimationFrame(e),setTimeout(n)},i=setTimeout(t,100);lN&&(e=requestAnimationFrame(t))}function O0(n){var e=Qr,t=n.__c;typeof t=="function"&&(n.__c=void 0,t()),Qr=e}function lS(n){var e=Qr;n.__c=n.__(),Qr=e}function gQ(n,e){for(var t in e)n[t]=e[t];return n}function uN(n,e){for(var t in n)if(t!=="__source"&&!(t in e))return!0;for(var i in e)if(i!=="__source"&&n[i]!==e[i])return!0;return!1}function dN(n){this.props=n}(dN.prototype=new In).isPureReactComponent=!0,dN.prototype.shouldComponentUpdate=function(n,e){return uN(this.props,n)||uN(this.state,e)};var hN=ve.__b;ve.__b=function(n){n.type&&n.type.__f&&n.ref&&(n.props.ref=n.ref,n.ref=null),hN&&hN(n)};var wIe=typeof Symbol<"u"&&Symbol.for&&Symbol.for("react.forward_ref")||3911;var vQ=ve.__e;ve.__e=function(n,e,t,i){if(n.then){for(var r,s=e;s=s.__;)if((r=s.__c)&&r.__c)return e.__e==null&&(e.__e=t.__e,e.__k=t.__k),r.__c(n,e)}vQ(n,e,t,i)};var pN=ve.unmount;function _N(n,e,t){return n&&(n.__c&&n.__c.__H&&(n.__c.__H.__.forEach(function(i){typeof i.__c=="function"&&i.__c()}),n.__c.__H=null),(n=gQ({},n)).__c!=null&&(n.__c.__P===t&&(n.__c.__P=e),n.__c=null),n.__k=n.__k&&n.__k.map(function(i){return _N(i,e,t)})),n}function bN(n,e,t){return n&&(n.__v=null,n.__k=n.__k&&n.__k.map(function(i){return bN(i,e,t)}),n.__c&&n.__c.__P===e&&(n.__e&&t.insertBefore(n.__e,n.__d),n.__c.__e=!0,n.__c.__P=t)),n}function cS(){this.__u=0,this.t=null,this.__b=null}function xN(n){var e=n.__.__c;return e&&e.__a&&e.__a(n)}function L0(){this.u=null,this.o=null}ve.unmount=function(n){var e=n.__c;e&&e.__R&&e.__R(),e&&n.__h===!0&&(n.type=null),pN&&pN(n)},(cS.prototype=new In).__c=function(n,e){var t=e.__c,i=this;i.t==null&&(i.t=[]),i.t.push(t);var r=xN(i.__v),s=!1,o=function(){s||(s=!0,t.__R=null,r?r(a):a())};t.__R=o;var a=function(){if(!--i.__u){if(i.state.__a){var c=i.state.__a;i.__v.__k[0]=bN(c,c.__c.__P,c.__c.__O)}var u;for(i.setState({__a:i.__b=null});u=i.t.pop();)u.forceUpdate()}},l=e.__h===!0;i.__u++||l||i.setState({__a:i.__b=i.__v.__k[0]}),n.then(o,o)},cS.prototype.componentWillUnmount=function(){this.t=[]},cS.prototype.render=function(n,e){if(this.__b){if(this.__v.__k){var t=document.createElement("div"),i=this.__v.__k[0].__c;this.__v.__k[0]=_N(this.__b,t,i.__O=i.__P)}this.__b=null}var r=e.__a&&k(Et,null,n.fallback);return r&&(r.__h=null),[k(Et,null,e.__a?null:n.children),r]};var fN=function(n,e,t){if(++t[1]===t[0]&&n.o.delete(e),n.props.revealOrder&&(n.props.revealOrder[0]!=="t"||!n.o.size))for(t=n.u;t;){for(;t.length>3;)t.pop()();if(t[1]<t[0])break;n.u=t=t[2]}};function yQ(n){return this.getChildContext=function(){return n.context},n.children}function _Q(n){var e=this,t=n.i;e.componentWillUnmount=function(){Mo(null,e.l),e.l=null,e.i=null},e.i&&e.i!==t&&e.componentWillUnmount(),n.__v?(e.l||(e.i=t,e.l={nodeType:1,parentNode:t,childNodes:[],appendChild:function(i){this.childNodes.push(i),e.i.appendChild(i)},insertBefore:function(i,r){this.childNodes.push(i),e.i.appendChild(i)},removeChild:function(i){this.childNodes.splice(this.childNodes.indexOf(i)>>>1,1),e.i.removeChild(i)}}),Mo(k(yQ,{context:e.context},n.__v),e.l)):e.l&&e.componentWillUnmount()}function CN(n,e){var t=k(_Q,{__v:n,i:e});return t.containerInfo=e,t}(L0.prototype=new In).__a=function(n){var e=this,t=xN(e.__v),i=e.o.get(n);return i[0]++,function(r){var s=function(){e.props.revealOrder?(i.push(r),fN(e,n,i)):r()};t?t(s):s()}},L0.prototype.render=function(n){this.u=null,this.o=new Map;var e=Jd(n.children);n.revealOrder&&n.revealOrder[0]==="b"&&e.reverse();for(var t=e.length;t--;)this.o.set(e[t],this.u=[1,0,this.u]);return n.children},L0.prototype.componentDidUpdate=L0.prototype.componentDidMount=function(){var n=this;this.o.forEach(function(e,t){fN(n,t,e)})};var bQ=typeof Symbol<"u"&&Symbol.for&&Symbol.for("react.element")||60103,xQ=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|dominant|fill|flood|font|glyph(?!R)|horiz|image|letter|lighting|marker(?!H|W|U)|overline|paint|pointer|shape|stop|strikethrough|stroke|text(?!L)|transform|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/,CQ=typeof document<"u",wQ=function(n){return(typeof Symbol<"u"&&typeof Symbol()=="symbol"?/fil|che|rad/i:/fil|che|ra/i).test(n)};In.prototype.isReactComponent={},["componentWillMount","componentWillReceiveProps","componentWillUpdate"].forEach(function(n){Object.defineProperty(In.prototype,n,{configurable:!0,get:function(){return this["UNSAFE_"+n]},set:function(e){Object.defineProperty(this,n,{configurable:!0,writable:!0,value:e})}})});var mN=ve.event;function SQ(){}function EQ(){return this.cancelBubble}function DQ(){return this.defaultPrevented}ve.event=function(n){return mN&&(n=mN(n)),n.persist=SQ,n.isPropagationStopped=EQ,n.isDefaultPrevented=DQ,n.nativeEvent=n};var TQ,gN={configurable:!0,get:function(){return this.class}},vN=ve.vnode;ve.vnode=function(n){var e=n.type,t=n.props,i=t;if(typeof e=="string"){var r=e.indexOf("-")===-1;for(var s in i={},t){var o=t[s];CQ&&s==="children"&&e==="noscript"||s==="value"&&"defaultValue"in t&&o==null||(s==="defaultValue"&&"value"in t&&t.value==null?s="value":s==="download"&&o===!0?o="":/ondoubleclick/i.test(s)?s="ondblclick":/^onchange(textarea|input)/i.test(s+e)&&!wQ(t.type)?s="oninput":/^onfocus$/i.test(s)?s="onfocusin":/^onblur$/i.test(s)?s="onfocusout":/^on(Ani|Tra|Tou|BeforeInp|Compo)/.test(s)?s=s.toLowerCase():r&&xQ.test(s)?s=s.replace(/[A-Z0-9]/g,"-$&").toLowerCase():o===null&&(o=void 0),/^oninput$/i.test(s)&&(s=s.toLowerCase(),i[s]&&(s="oninputCapture")),i[s]=o)}e=="select"&&i.multiple&&Array.isArray(i.value)&&(i.value=Jd(t.children).forEach(function(a){a.props.selected=i.value.indexOf(a.props.value)!=-1})),e=="select"&&i.defaultValue!=null&&(i.value=Jd(t.children).forEach(function(a){a.props.selected=i.multiple?i.defaultValue.indexOf(a.props.value)!=-1:i.defaultValue==a.props.value})),n.props=i,t.class!=t.className&&(gN.enumerable="className"in t,t.className!=null&&(i.class=t.className),Object.defineProperty(i,"className",gN))}n.$$typeof=bQ,vN&&vN(n)};var yN=ve.__r;ve.__r=function(n){yN&&yN(n),TQ=n.__c};var PN=[],yS=new Map;function nv(n){PN.push(n),yS.forEach(e=>{jN(e,n)})}function VN(n){n.isConnected&&n.getRootNode&&BN(n.getRootNode())}function BN(n){let e=yS.get(n);if(!e||!e.isConnected){if(e=n.querySelector("style[data-fullcalendar]"),!e){e=document.createElement("style"),e.setAttribute("data-fullcalendar","");let t=IQ();t&&(e.nonce=t);let i=n===document?document.head:n,r=n===document?i.querySelector("script,link[rel=stylesheet],link[as=style],style"):i.firstChild;i.insertBefore(e,r)}yS.set(n,e),AQ(e)}}function AQ(n){for(let e of PN)jN(n,e)}function jN(n,e){let{sheet:t}=n,i=t.cssRules.length;e.split("}").forEach((r,s)=>{r=r.trim(),r&&t.insertRule(r+"}",i+s)})}var uS;function IQ(){return uS===void 0&&(uS=MQ()),uS}function MQ(){let n=document.querySelector('meta[name="csp-nonce"]');if(n&&n.hasAttribute("content"))return n.getAttribute("content");let e=document.querySelector("script[nonce]");return e&&e.nonce||""}typeof document<"u"&&BN(document);var kQ=':root{--fc-small-font-size:.85em;--fc-page-bg-color:#fff;--fc-neutral-bg-color:hsla(0,0%,82%,.3);--fc-neutral-text-color:grey;--fc-border-color:#ddd;--fc-button-text-color:#fff;--fc-button-bg-color:#2c3e50;--fc-button-border-color:#2c3e50;--fc-button-hover-bg-color:#1e2b37;--fc-button-hover-border-color:#1a252f;--fc-button-active-bg-color:#1a252f;--fc-button-active-border-color:#151e27;--fc-event-bg-color:#3788d8;--fc-event-border-color:#3788d8;--fc-event-text-color:#fff;--fc-event-selected-overlay-color:rgba(0,0,0,.25);--fc-more-link-bg-color:#d0d0d0;--fc-more-link-text-color:inherit;--fc-event-resizer-thickness:8px;--fc-event-resizer-dot-total-width:8px;--fc-event-resizer-dot-border-width:1px;--fc-non-business-color:hsla(0,0%,84%,.3);--fc-bg-event-color:#8fdf82;--fc-bg-event-opacity:0.3;--fc-highlight-color:rgba(188,232,241,.3);--fc-today-bg-color:rgba(255,220,40,.15);--fc-now-indicator-color:red}.fc-not-allowed,.fc-not-allowed .fc-event{cursor:not-allowed}.fc{display:flex;flex-direction:column;font-size:1em}.fc,.fc *,.fc :after,.fc :before{box-sizing:border-box}.fc table{border-collapse:collapse;border-spacing:0;font-size:1em}.fc th{text-align:center}.fc td,.fc th{padding:0;vertical-align:top}.fc a[data-navlink]{cursor:pointer}.fc a[data-navlink]:hover{text-decoration:underline}.fc-direction-ltr{direction:ltr;text-align:left}.fc-direction-rtl{direction:rtl;text-align:right}.fc-theme-standard td,.fc-theme-standard th{border:1px solid var(--fc-border-color)}.fc-liquid-hack td,.fc-liquid-hack th{position:relative}@font-face{font-family:fcicons;font-style:normal;font-weight:400;src:url("data:application/x-font-ttf;charset=utf-8;base64,AAEAAAALAIAAAwAwT1MvMg8SBfAAAAC8AAAAYGNtYXAXVtKNAAABHAAAAFRnYXNwAAAAEAAAAXAAAAAIZ2x5ZgYydxIAAAF4AAAFNGhlYWQUJ7cIAAAGrAAAADZoaGVhB20DzAAABuQAAAAkaG10eCIABhQAAAcIAAAALGxvY2ED4AU6AAAHNAAAABhtYXhwAA8AjAAAB0wAAAAgbmFtZXsr690AAAdsAAABhnBvc3QAAwAAAAAI9AAAACAAAwPAAZAABQAAApkCzAAAAI8CmQLMAAAB6wAzAQkAAAAAAAAAAAAAAAAAAAABEAAAAAAAAAAAAAAAAAAAAABAAADpBgPA/8AAQAPAAEAAAAABAAAAAAAAAAAAAAAgAAAAAAADAAAAAwAAABwAAQADAAAAHAADAAEAAAAcAAQAOAAAAAoACAACAAIAAQAg6Qb//f//AAAAAAAg6QD//f//AAH/4xcEAAMAAQAAAAAAAAAAAAAAAQAB//8ADwABAAAAAAAAAAAAAgAANzkBAAAAAAEAAAAAAAAAAAACAAA3OQEAAAAAAQAAAAAAAAAAAAIAADc5AQAAAAABAWIAjQKeAskAEwAAJSc3NjQnJiIHAQYUFwEWMjc2NCcCnuLiDQ0MJAz/AA0NAQAMJAwNDcni4gwjDQwM/wANIwz/AA0NDCMNAAAAAQFiAI0CngLJABMAACUBNjQnASYiBwYUHwEHBhQXFjI3AZ4BAA0N/wAMJAwNDeLiDQ0MJAyNAQAMIw0BAAwMDSMM4uINIwwNDQAAAAIA4gC3Ax4CngATACcAACUnNzY0JyYiDwEGFB8BFjI3NjQnISc3NjQnJiIPAQYUHwEWMjc2NCcB87e3DQ0MIw3VDQ3VDSMMDQ0BK7e3DQ0MJAzVDQ3VDCQMDQ3zuLcMJAwNDdUNIwzWDAwNIwy4twwkDA0N1Q0jDNYMDA0jDAAAAgDiALcDHgKeABMAJwAAJTc2NC8BJiIHBhQfAQcGFBcWMjchNzY0LwEmIgcGFB8BBwYUFxYyNwJJ1Q0N1Q0jDA0Nt7cNDQwjDf7V1Q0N1QwkDA0Nt7cNDQwkDLfWDCMN1Q0NDCQMt7gMIw0MDNYMIw3VDQ0MJAy3uAwjDQwMAAADAFUAAAOrA1UAMwBoAHcAABMiBgcOAQcOAQcOARURFBYXHgEXHgEXHgEzITI2Nz4BNz4BNz4BNRE0JicuAScuAScuASMFITIWFx4BFx4BFx4BFREUBgcOAQcOAQcOASMhIiYnLgEnLgEnLgE1ETQ2Nz4BNz4BNz4BMxMhMjY1NCYjISIGFRQWM9UNGAwLFQkJDgUFBQUFBQ4JCRULDBgNAlYNGAwLFQkJDgUFBQUFBQ4JCRULDBgN/aoCVgQIBAQHAwMFAQIBAQIBBQMDBwQECAT9qgQIBAQHAwMFAQIBAQIBBQMDBwQECASAAVYRGRkR/qoRGRkRA1UFBAUOCQkVDAsZDf2rDRkLDBUJCA4FBQUFBQUOCQgVDAsZDQJVDRkLDBUJCQ4FBAVVAgECBQMCBwQECAX9qwQJAwQHAwMFAQICAgIBBQMDBwQDCQQCVQUIBAQHAgMFAgEC/oAZEhEZGRESGQAAAAADAFUAAAOrA1UAMwBoAIkAABMiBgcOAQcOAQcOARURFBYXHgEXHgEXHgEzITI2Nz4BNz4BNz4BNRE0JicuAScuAScuASMFITIWFx4BFx4BFx4BFREUBgcOAQcOAQcOASMhIiYnLgEnLgEnLgE1ETQ2Nz4BNz4BNz4BMxMzFRQWMzI2PQEzMjY1NCYrATU0JiMiBh0BIyIGFRQWM9UNGAwLFQkJDgUFBQUFBQ4JCRULDBgNAlYNGAwLFQkJDgUFBQUFBQ4JCRULDBgN/aoCVgQIBAQHAwMFAQIBAQIBBQMDBwQECAT9qgQIBAQHAwMFAQIBAQIBBQMDBwQECASAgBkSEhmAERkZEYAZEhIZgBEZGREDVQUEBQ4JCRUMCxkN/asNGQsMFQkIDgUFBQUFBQ4JCBUMCxkNAlUNGQsMFQkJDgUEBVUCAQIFAwIHBAQIBf2rBAkDBAcDAwUBAgICAgEFAwMHBAMJBAJVBQgEBAcCAwUCAQL+gIASGRkSgBkSERmAEhkZEoAZERIZAAABAOIAjQMeAskAIAAAExcHBhQXFjI/ARcWMjc2NC8BNzY0JyYiDwEnJiIHBhQX4uLiDQ0MJAzi4gwkDA0N4uINDQwkDOLiDCQMDQ0CjeLiDSMMDQ3h4Q0NDCMN4uIMIw0MDOLiDAwNIwwAAAABAAAAAQAAa5n0y18PPPUACwQAAAAAANivOVsAAAAA2K85WwAAAAADqwNVAAAACAACAAAAAAAAAAEAAAPA/8AAAAQAAAAAAAOrAAEAAAAAAAAAAAAAAAAAAAALBAAAAAAAAAAAAAAAAgAAAAQAAWIEAAFiBAAA4gQAAOIEAABVBAAAVQQAAOIAAAAAAAoAFAAeAEQAagCqAOoBngJkApoAAQAAAAsAigADAAAAAAACAAAAAAAAAAAAAAAAAAAAAAAAAA4ArgABAAAAAAABAAcAAAABAAAAAAACAAcAYAABAAAAAAADAAcANgABAAAAAAAEAAcAdQABAAAAAAAFAAsAFQABAAAAAAAGAAcASwABAAAAAAAKABoAigADAAEECQABAA4ABwADAAEECQACAA4AZwADAAEECQADAA4APQADAAEECQAEAA4AfAADAAEECQAFABYAIAADAAEECQAGAA4AUgADAAEECQAKADQApGZjaWNvbnMAZgBjAGkAYwBvAG4Ac1ZlcnNpb24gMS4wAFYAZQByAHMAaQBvAG4AIAAxAC4AMGZjaWNvbnMAZgBjAGkAYwBvAG4Ac2ZjaWNvbnMAZgBjAGkAYwBvAG4Ac1JlZ3VsYXIAUgBlAGcAdQBsAGEAcmZjaWNvbnMAZgBjAGkAYwBvAG4Ac0ZvbnQgZ2VuZXJhdGVkIGJ5IEljb01vb24uAEYAbwBuAHQAIABnAGUAbgBlAHIAYQB0AGUAZAAgAGIAeQAgAEkAYwBvAE0AbwBvAG4ALgAAAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA=") format("truetype")}.fc-icon{speak:none;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;display:inline-block;font-family:fcicons!important;font-style:normal;font-variant:normal;font-weight:400;height:1em;line-height:1;text-align:center;text-transform:none;-moz-user-select:none;user-select:none;width:1em}.fc-icon-chevron-left:before{content:"\\e900"}.fc-icon-chevron-right:before{content:"\\e901"}.fc-icon-chevrons-left:before{content:"\\e902"}.fc-icon-chevrons-right:before{content:"\\e903"}.fc-icon-minus-square:before{content:"\\e904"}.fc-icon-plus-square:before{content:"\\e905"}.fc-icon-x:before{content:"\\e906"}.fc .fc-button{border-radius:0;font-family:inherit;font-size:inherit;line-height:inherit;margin:0;overflow:visible;text-transform:none}.fc .fc-button:focus{outline:1px dotted;outline:5px auto -webkit-focus-ring-color}.fc .fc-button{-webkit-appearance:button}.fc .fc-button:not(:disabled){cursor:pointer}.fc .fc-button{background-color:transparent;border:1px solid transparent;border-radius:.25em;display:inline-block;font-size:1em;font-weight:400;line-height:1.5;padding:.4em .65em;text-align:center;-moz-user-select:none;user-select:none;vertical-align:middle}.fc .fc-button:hover{text-decoration:none}.fc .fc-button:focus{box-shadow:0 0 0 .2rem rgba(44,62,80,.25);outline:0}.fc .fc-button:disabled{opacity:.65}.fc .fc-button-primary{background-color:var(--fc-button-bg-color);border-color:var(--fc-button-border-color);color:var(--fc-button-text-color)}.fc .fc-button-primary:hover{background-color:var(--fc-button-hover-bg-color);border-color:var(--fc-button-hover-border-color);color:var(--fc-button-text-color)}.fc .fc-button-primary:disabled{background-color:var(--fc-button-bg-color);border-color:var(--fc-button-border-color);color:var(--fc-button-text-color)}.fc .fc-button-primary:focus{box-shadow:0 0 0 .2rem rgba(76,91,106,.5)}.fc .fc-button-primary:not(:disabled).fc-button-active,.fc .fc-button-primary:not(:disabled):active{background-color:var(--fc-button-active-bg-color);border-color:var(--fc-button-active-border-color);color:var(--fc-button-text-color)}.fc .fc-button-primary:not(:disabled).fc-button-active:focus,.fc .fc-button-primary:not(:disabled):active:focus{box-shadow:0 0 0 .2rem rgba(76,91,106,.5)}.fc .fc-button .fc-icon{font-size:1.5em;vertical-align:middle}.fc .fc-button-group{display:inline-flex;position:relative;vertical-align:middle}.fc .fc-button-group>.fc-button{flex:1 1 auto;position:relative}.fc .fc-button-group>.fc-button.fc-button-active,.fc .fc-button-group>.fc-button:active,.fc .fc-button-group>.fc-button:focus,.fc .fc-button-group>.fc-button:hover{z-index:1}.fc-direction-ltr .fc-button-group>.fc-button:not(:first-child){border-bottom-left-radius:0;border-top-left-radius:0;margin-left:-1px}.fc-direction-ltr .fc-button-group>.fc-button:not(:last-child){border-bottom-right-radius:0;border-top-right-radius:0}.fc-direction-rtl .fc-button-group>.fc-button:not(:first-child){border-bottom-right-radius:0;border-top-right-radius:0;margin-right:-1px}.fc-direction-rtl .fc-button-group>.fc-button:not(:last-child){border-bottom-left-radius:0;border-top-left-radius:0}.fc .fc-toolbar{align-items:center;display:flex;justify-content:space-between}.fc .fc-toolbar.fc-header-toolbar{margin-bottom:1.5em}.fc .fc-toolbar.fc-footer-toolbar{margin-top:1.5em}.fc .fc-toolbar-title{font-size:1.75em;margin:0}.fc-direction-ltr .fc-toolbar>*>:not(:first-child){margin-left:.75em}.fc-direction-rtl .fc-toolbar>*>:not(:first-child){margin-right:.75em}.fc-direction-rtl .fc-toolbar-ltr{flex-direction:row-reverse}.fc .fc-scroller{-webkit-overflow-scrolling:touch;position:relative}.fc .fc-scroller-liquid{height:100%}.fc .fc-scroller-liquid-absolute{bottom:0;left:0;position:absolute;right:0;top:0}.fc .fc-scroller-harness{direction:ltr;overflow:hidden;position:relative}.fc .fc-scroller-harness-liquid{height:100%}.fc-direction-rtl .fc-scroller-harness>.fc-scroller{direction:rtl}.fc-theme-standard .fc-scrollgrid{border:1px solid var(--fc-border-color)}.fc .fc-scrollgrid,.fc .fc-scrollgrid table{table-layout:fixed;width:100%}.fc .fc-scrollgrid table{border-left-style:hidden;border-right-style:hidden;border-top-style:hidden}.fc .fc-scrollgrid{border-bottom-width:0;border-collapse:separate;border-right-width:0}.fc .fc-scrollgrid-liquid{height:100%}.fc .fc-scrollgrid-section,.fc .fc-scrollgrid-section table,.fc .fc-scrollgrid-section>td{height:1px}.fc .fc-scrollgrid-section-liquid>td{height:100%}.fc .fc-scrollgrid-section>*{border-left-width:0;border-top-width:0}.fc .fc-scrollgrid-section-footer>*,.fc .fc-scrollgrid-section-header>*{border-bottom-width:0}.fc .fc-scrollgrid-section-body table,.fc .fc-scrollgrid-section-footer table{border-bottom-style:hidden}.fc .fc-scrollgrid-section-sticky>*{background:var(--fc-page-bg-color);position:sticky;z-index:3}.fc .fc-scrollgrid-section-header.fc-scrollgrid-section-sticky>*{top:0}.fc .fc-scrollgrid-section-footer.fc-scrollgrid-section-sticky>*{bottom:0}.fc .fc-scrollgrid-sticky-shim{height:1px;margin-bottom:-1px}.fc-sticky{position:sticky}.fc .fc-view-harness{flex-grow:1;position:relative}.fc .fc-view-harness-active>.fc-view{bottom:0;left:0;position:absolute;right:0;top:0}.fc .fc-col-header-cell-cushion{display:inline-block;padding:2px 4px}.fc .fc-bg-event,.fc .fc-highlight,.fc .fc-non-business{bottom:0;left:0;position:absolute;right:0;top:0}.fc .fc-non-business{background:var(--fc-non-business-color)}.fc .fc-bg-event{background:var(--fc-bg-event-color);opacity:var(--fc-bg-event-opacity)}.fc .fc-bg-event .fc-event-title{font-size:var(--fc-small-font-size);font-style:italic;margin:.5em}.fc .fc-highlight{background:var(--fc-highlight-color)}.fc .fc-cell-shaded,.fc .fc-day-disabled{background:var(--fc-neutral-bg-color)}a.fc-event,a.fc-event:hover{text-decoration:none}.fc-event.fc-event-draggable,.fc-event[href]{cursor:pointer}.fc-event .fc-event-main{position:relative;z-index:2}.fc-event-dragging:not(.fc-event-selected){opacity:.75}.fc-event-dragging.fc-event-selected{box-shadow:0 2px 7px rgba(0,0,0,.3)}.fc-event .fc-event-resizer{display:none;position:absolute;z-index:4}.fc-event-selected .fc-event-resizer,.fc-event:hover .fc-event-resizer{display:block}.fc-event-selected .fc-event-resizer{background:var(--fc-page-bg-color);border-color:inherit;border-radius:calc(var(--fc-event-resizer-dot-total-width)/2);border-style:solid;border-width:var(--fc-event-resizer-dot-border-width);height:var(--fc-event-resizer-dot-total-width);width:var(--fc-event-resizer-dot-total-width)}.fc-event-selected .fc-event-resizer:before{bottom:-20px;content:"";left:-20px;position:absolute;right:-20px;top:-20px}.fc-event-selected,.fc-event:focus{box-shadow:0 2px 5px rgba(0,0,0,.2)}.fc-event-selected:before,.fc-event:focus:before{bottom:0;content:"";left:0;position:absolute;right:0;top:0;z-index:3}.fc-event-selected:after,.fc-event:focus:after{background:var(--fc-event-selected-overlay-color);bottom:-1px;content:"";left:-1px;position:absolute;right:-1px;top:-1px;z-index:1}.fc-h-event{background-color:var(--fc-event-bg-color);border:1px solid var(--fc-event-border-color);display:block}.fc-h-event .fc-event-main{color:var(--fc-event-text-color)}.fc-h-event .fc-event-main-frame{display:flex}.fc-h-event .fc-event-time{max-width:100%;overflow:hidden}.fc-h-event .fc-event-title-container{flex-grow:1;flex-shrink:1;min-width:0}.fc-h-event .fc-event-title{display:inline-block;left:0;max-width:100%;overflow:hidden;right:0;vertical-align:top}.fc-h-event.fc-event-selected:before{bottom:-10px;top:-10px}.fc-direction-ltr .fc-daygrid-block-event:not(.fc-event-start),.fc-direction-rtl .fc-daygrid-block-event:not(.fc-event-end){border-bottom-left-radius:0;border-left-width:0;border-top-left-radius:0}.fc-direction-ltr .fc-daygrid-block-event:not(.fc-event-end),.fc-direction-rtl .fc-daygrid-block-event:not(.fc-event-start){border-bottom-right-radius:0;border-right-width:0;border-top-right-radius:0}.fc-h-event:not(.fc-event-selected) .fc-event-resizer{bottom:0;top:0;width:var(--fc-event-resizer-thickness)}.fc-direction-ltr .fc-h-event:not(.fc-event-selected) .fc-event-resizer-start,.fc-direction-rtl .fc-h-event:not(.fc-event-selected) .fc-event-resizer-end{cursor:w-resize;left:calc(var(--fc-event-resizer-thickness)*-.5)}.fc-direction-ltr .fc-h-event:not(.fc-event-selected) .fc-event-resizer-end,.fc-direction-rtl .fc-h-event:not(.fc-event-selected) .fc-event-resizer-start{cursor:e-resize;right:calc(var(--fc-event-resizer-thickness)*-.5)}.fc-h-event.fc-event-selected .fc-event-resizer{margin-top:calc(var(--fc-event-resizer-dot-total-width)*-.5);top:50%}.fc-direction-ltr .fc-h-event.fc-event-selected .fc-event-resizer-start,.fc-direction-rtl .fc-h-event.fc-event-selected .fc-event-resizer-end{left:calc(var(--fc-event-resizer-dot-total-width)*-.5)}.fc-direction-ltr .fc-h-event.fc-event-selected .fc-event-resizer-end,.fc-direction-rtl .fc-h-event.fc-event-selected .fc-event-resizer-start{right:calc(var(--fc-event-resizer-dot-total-width)*-.5)}.fc .fc-popover{box-shadow:0 2px 6px rgba(0,0,0,.15);position:absolute;z-index:9999}.fc .fc-popover-header{align-items:center;display:flex;flex-direction:row;justify-content:space-between;padding:3px 4px}.fc .fc-popover-title{margin:0 2px}.fc .fc-popover-close{cursor:pointer;font-size:1.1em;opacity:.65}.fc-theme-standard .fc-popover{background:var(--fc-page-bg-color);border:1px solid var(--fc-border-color)}.fc-theme-standard .fc-popover-header{background:var(--fc-neutral-bg-color)}';nv(kQ);var Ra=class{constructor(e){this.drainedOption=e,this.isRunning=!1,this.isDirty=!1,this.pauseDepths={},this.timeoutId=0}request(e){this.isDirty=!0,this.isPaused()||(this.clearTimeout(),e==null?this.tryDrain():this.timeoutId=setTimeout(this.tryDrain.bind(this),e))}pause(e=""){let{pauseDepths:t}=this;t[e]=(t[e]||0)+1,this.clearTimeout()}resume(e="",t){let{pauseDepths:i}=this;e in i&&(t?delete i[e]:(i[e]-=1,i[e]<=0&&delete i[e]),this.tryDrain())}isPaused(){return Object.keys(this.pauseDepths).length}tryDrain(){if(!this.isRunning&&!this.isPaused()){for(this.isRunning=!0;this.isDirty;)this.isDirty=!1,this.drained();this.isRunning=!1}}clear(){this.clearTimeout(),this.isDirty=!1,this.pauseDepths={}}clearTimeout(){this.timeoutId&&(clearTimeout(this.timeoutId),this.timeoutId=0)}drained(){this.drainedOption&&this.drainedOption()}};function xh(n){n.parentNode&&n.parentNode.removeChild(n)}function pn(n,e){if(n.closest)return n.closest(e);if(!document.documentElement.contains(n))return null;do{if(RS(n,e))return n;n=n.parentElement||n.parentNode}while(n!==null&&n.nodeType===1);return null}function RS(n,e){return(n.matches||n.matchesSelector||n.msMatchesSelector).call(n,e)}function HN(n,e){let t=n instanceof HTMLElement?[n]:n,i=[];for(let r=0;r<t.length;r+=1){let s=t[r].querySelectorAll(e);for(let o=0;o<s.length;o+=1)i.push(s[o])}return i}var RQ=/(top|left|right|bottom|width|height)$/i;function Va(n,e){for(let t in e)OS(n,t,e[t])}function OS(n,e,t){t==null?n.style[e]="":typeof t=="number"&&RQ.test(e)?n.style[e]=`${t}px`:n.style[e]=t}function iv(n){var e,t;return(t=(e=n.composedPath)===null||e===void 0?void 0:e.call(n)[0])!==null&&t!==void 0?t:n.target}var wN=0;function Ba(){return wN+=1,"fc-dom-"+wN}function Ch(n){n.preventDefault()}function OQ(n,e){return t=>{let i=pn(t.target,n);i&&e.call(i,t,i)}}function LS(n,e,t,i){let r=OQ(t,i);return n.addEventListener(e,r),()=>{n.removeEventListener(e,r)}}function zN(n,e,t,i){let r;return LS(n,"mouseover",e,(s,o)=>{if(o!==r){r=o,t(s,o);let a=l=>{r=null,i(l,o),o.removeEventListener("mouseleave",a)};o.addEventListener("mouseleave",a)}})}var SN=["webkitTransitionEnd","otransitionend","oTransitionEnd","msTransitionEnd","transitionend"];function NS(n,e){let t=i=>{e(i),SN.forEach(r=>{n.removeEventListener(r,t)})};SN.forEach(i=>{n.addEventListener(i,t)})}function $N(n){return Object.assign({onClick:n},UN(n))}function UN(n){return{tabIndex:0,onKeyDown(e){(e.key==="Enter"||e.key===" ")&&(n(e),e.preventDefault())}}}var EN=0;function Is(){return EN+=1,String(EN)}function wh(){document.body.classList.add("fc-not-allowed")}function Sh(){document.body.classList.remove("fc-not-allowed")}function FS(n){n.style.userSelect="none",n.style.webkitUserSelect="none",n.addEventListener("selectstart",Ch)}function PS(n){n.style.userSelect="",n.style.webkitUserSelect="",n.removeEventListener("selectstart",Ch)}function VS(n){n.addEventListener("contextmenu",Ch)}function BS(n){n.removeEventListener("contextmenu",Ch)}function GN(n){let e=[],t=[],i,r;for(typeof n=="string"?t=n.split(/\s*,\s*/):typeof n=="function"?t=[n]:Array.isArray(n)&&(t=n),i=0;i<t.length;i+=1)r=t[i],typeof r=="string"?e.push(r.charAt(0)==="-"?{field:r.substring(1),order:-1}:{field:r,order:1}):typeof r=="function"&&e.push({func:r});return e}function qN(n,e,t){let i,r;for(i=0;i<t.length;i+=1)if(r=LQ(n,e,t[i]),r)return r;return 0}function LQ(n,e,t){return t.func?t.func(n,e):WN(n[t.field],e[t.field])*(t.order||1)}function WN(n,e){return!n&&!e?0:e==null?-1:n==null?1:typeof n=="string"||typeof e=="string"?String(n).localeCompare(String(e)):n-e}function j0(n,e){let t=String(n);return"000".substr(0,e-t.length)+t}function Mc(n,e,t){return typeof n=="function"?n(...e):typeof n=="string"?e.reduce((i,r,s)=>i.replace("$"+s,r||""),n):t}function jS(n,e){return n-e}function H0(n){return n%1===0}function NQ(n){let e=n.querySelector(".fc-scrollgrid-shrink-frame"),t=n.querySelector(".fc-scrollgrid-shrink-cushion");if(!e)throw new Error("needs fc-scrollgrid-shrink-frame className");if(!t)throw new Error("needs fc-scrollgrid-shrink-cushion className");return n.getBoundingClientRect().width-e.getBoundingClientRect().width+t.getBoundingClientRect().width}var FQ=/^(-?)(?:(\d+)\.)?(\d+):(\d\d)(?::(\d\d)(?:\.(\d\d\d))?)?/;function et(n,e){return typeof n=="string"?PQ(n):typeof n=="object"&&n?DN(n):typeof n=="number"?DN({[e||"milliseconds"]:n}):null}function PQ(n){let e=FQ.exec(n);if(e){let t=e[1]?-1:1;return{years:0,months:0,days:t*(e[2]?parseInt(e[2],10):0),milliseconds:t*((e[3]?parseInt(e[3],10):0)*60*60*1e3+(e[4]?parseInt(e[4],10):0)*60*1e3+(e[5]?parseInt(e[5],10):0)*1e3+(e[6]?parseInt(e[6],10):0))}}return null}function DN(n){let e={years:n.years||n.year||0,months:n.months||n.month||0,days:n.days||n.day||0,milliseconds:(n.hours||n.hour||0)*60*60*1e3+(n.minutes||n.minute||0)*60*1e3+(n.seconds||n.second||0)*1e3+(n.milliseconds||n.millisecond||n.ms||0)},t=n.weeks||n.week;return t&&(e.days+=t*7,e.specifiedWeeks=!0),e}function VQ(n,e){return n.years===e.years&&n.months===e.months&&n.days===e.days&&n.milliseconds===e.milliseconds}function YN(n,e){return{years:n.years-e.years,months:n.months-e.months,days:n.days-e.days,milliseconds:n.milliseconds-e.milliseconds}}function BQ(n){return Sc(n)/365}function jQ(n){return Sc(n)/30}function Sc(n){return Ec(n)/864e5}function Ec(n){return n.years*(365*864e5)+n.months*(30*864e5)+n.days*864e5+n.milliseconds}function eh(n){let e=n.milliseconds;if(e){if(e%1e3!==0)return{unit:"millisecond",value:e};if(e%(1e3*60)!==0)return{unit:"second",value:e/1e3};if(e%(1e3*60*60)!==0)return{unit:"minute",value:e/(1e3*60)};if(e)return{unit:"hour",value:e/(1e3*60*60)}}return n.days?n.specifiedWeeks&&n.days%7===0?{unit:"week",value:n.days/7}:{unit:"day",value:n.days}:n.months?{unit:"month",value:n.months}:n.years?{unit:"year",value:n.years}:{unit:"millisecond",value:0}}function Kr(n,e,t){if(n===e)return!0;let i=n.length,r;if(i!==e.length)return!1;for(r=0;r<i;r+=1)if(!(t?t(n[r],e[r]):n[r]===e[r]))return!1;return!0}var HQ=["sun","mon","tue","wed","thu","fri","sat"];function rv(n,e){let t=Ro(n);return t[2]+=e*7,Ci(t)}function fn(n,e){let t=Ro(n);return t[2]+=e,Ci(t)}function Zr(n,e){let t=Ro(n);return t[6]+=e,Ci(t)}function HS(n,e){return ja(n,e)/7}function ja(n,e){return(e.valueOf()-n.valueOf())/(1e3*60*60*24)}function zQ(n,e){return(e.valueOf()-n.valueOf())/(1e3*60*60)}function $Q(n,e){return(e.valueOf()-n.valueOf())/(1e3*60)}function UQ(n,e){return(e.valueOf()-n.valueOf())/1e3}function QN(n,e){let t=_t(n),i=_t(e);return{years:0,months:0,days:Math.round(ja(t,i)),milliseconds:e.valueOf()-i.valueOf()-(n.valueOf()-t.valueOf())}}function XN(n,e){let t=Dc(n,e);return t!==null&&t%7===0?t/7:null}function Dc(n,e){return Oo(n)===Oo(e)?Math.round(ja(n,e)):null}function _t(n){return Ci([n.getUTCFullYear(),n.getUTCMonth(),n.getUTCDate()])}function GQ(n){return Ci([n.getUTCFullYear(),n.getUTCMonth(),n.getUTCDate(),n.getUTCHours()])}function qQ(n){return Ci([n.getUTCFullYear(),n.getUTCMonth(),n.getUTCDate(),n.getUTCHours(),n.getUTCMinutes()])}function WQ(n){return Ci([n.getUTCFullYear(),n.getUTCMonth(),n.getUTCDate(),n.getUTCHours(),n.getUTCMinutes(),n.getUTCSeconds()])}function YQ(n,e,t){let i=n.getUTCFullYear(),r=dS(n,i,e,t);if(r<1)return dS(n,i-1,e,t);let s=dS(n,i+1,e,t);return s>=1?Math.min(r,s):r}function dS(n,e,t,i){let r=Ci([e,0,1+QQ(e,t,i)]),s=_t(n),o=Math.round(ja(r,s));return Math.floor(o/7)+1}function QQ(n,e,t){let i=7+e-t;return-((7+Ci([n,0,i]).getUTCDay()-e)%7)+i-1}function TN(n){return[n.getFullYear(),n.getMonth(),n.getDate(),n.getHours(),n.getMinutes(),n.getSeconds(),n.getMilliseconds()]}function AN(n){return new Date(n[0],n[1]||0,n[2]==null?1:n[2],n[3]||0,n[4]||0,n[5]||0)}function Ro(n){return[n.getUTCFullYear(),n.getUTCMonth(),n.getUTCDate(),n.getUTCHours(),n.getUTCMinutes(),n.getUTCSeconds(),n.getUTCMilliseconds()]}function Ci(n){return n.length===1&&(n=n.concat([0])),new Date(Date.UTC(...n))}function zS(n){return!isNaN(n.valueOf())}function Oo(n){return n.getUTCHours()*1e3*60*60+n.getUTCMinutes()*1e3*60+n.getUTCSeconds()*1e3+n.getUTCMilliseconds()}function ZN(n,e,t=!1){let i=n.toISOString();return i=i.replace(".000",""),t&&(i=i.replace("T00:00:00Z","")),i.length>10&&(e==null?i=i.replace("Z",""):e!==0&&(i=i.replace("Z",US(e,!0)))),i}function Eh(n){return n.toISOString().replace(/T.*$/,"")}function $S(n){return n.toISOString().match(/^\d{4}-\d{2}/)[0]}function US(n,e=!1){let t=n<0?"-":"+",i=Math.abs(n),r=Math.floor(i/60),s=Math.round(i%60);return e?`${t+j0(r,2)}:${j0(s,2)}`:`GMT${t}${r}${s?`:${j0(s,2)}`:""}`}function tt(n,e,t){let i,r;return function(...s){if(!i)r=n.apply(this,s);else if(!Kr(i,s)){t&&t(r);let o=n.apply(this,s);(!e||!e(o,r))&&(r=o)}return i=s,r}}function kc(n,e,t){let i,r;return s=>{if(!i)r=n.call(this,s);else if(!Oi(i,s)){t&&t(r);let o=n.call(this,s);(!e||!e(o,r))&&(r=o)}return i=s,r}}var IN={week:3,separator:0,omitZeroMinute:0,meridiem:0,omitCommas:0},U0={timeZoneName:7,era:6,year:5,month:4,day:2,weekday:2,hour:1,minute:1,second:1},N0=/\s*([ap])\.?m\.?/i,XQ=/,/g,ZQ=/\s+/g,KQ=/\u200e/g,JQ=/UTC|GMT/,_S=class{constructor(e){let t={},i={},r=0;for(let s in e)s in IN?(i[s]=e[s],r=Math.max(IN[s],r)):(t[s]=e[s],s in U0&&(r=Math.max(U0[s],r)));this.standardDateProps=t,this.extendedSettings=i,this.severity=r,this.buildFormattingFunc=tt(MN)}format(e,t){return this.buildFormattingFunc(this.standardDateProps,this.extendedSettings,t)(e)}formatRange(e,t,i,r){let{standardDateProps:s,extendedSettings:o}=this,a=sX(e.marker,t.marker,i.calendarSystem);if(!a)return this.format(e,i);let l=a;l>1&&(s.year==="numeric"||s.year==="2-digit")&&(s.month==="numeric"||s.month==="2-digit")&&(s.day==="numeric"||s.day==="2-digit")&&(l=1);let c=this.format(e,i),u=this.format(t,i);if(c===u)return c;let p=oX(s,l),m=MN(p,o,i),f=m(e),_=m(t),w=aX(c,f,u,_),S=o.separator||r||i.defaultSeparator||"";return w?w.before+f+S+_+w.after:c+S+u}getLargestUnit(){switch(this.severity){case 7:case 6:case 5:return"year";case 4:return"month";case 3:return"week";case 2:return"day";default:return"time"}}};function MN(n,e,t){let i=Object.keys(n).length;return i===1&&n.timeZoneName==="short"?r=>US(r.timeZoneOffset):i===0&&e.week?r=>rX(t.computeWeekNumber(r.marker),t.weekText,t.weekTextLong,t.locale,e.week):eX(n,e,t)}function eX(n,e,t){n=Object.assign({},n),e=Object.assign({},e),tX(n,e),n.timeZone="UTC";let i=new Intl.DateTimeFormat(t.locale.codes,n),r;if(e.omitZeroMinute){let s=Object.assign({},n);delete s.minute,r=new Intl.DateTimeFormat(t.locale.codes,s)}return s=>{let{marker:o}=s,a;r&&!o.getUTCMinutes()?a=r:a=i;let l=a.format(o);return nX(l,s,n,e,t)}}function tX(n,e){n.timeZoneName&&(n.hour||(n.hour="2-digit"),n.minute||(n.minute="2-digit")),n.timeZoneName==="long"&&(n.timeZoneName="short"),e.omitZeroMinute&&(n.second||n.millisecond)&&delete e.omitZeroMinute}function nX(n,e,t,i,r){return n=n.replace(KQ,""),t.timeZoneName==="short"&&(n=iX(n,r.timeZone==="UTC"||e.timeZoneOffset==null?"UTC":US(e.timeZoneOffset))),i.omitCommas&&(n=n.replace(XQ,"").trim()),i.omitZeroMinute&&(n=n.replace(":00","")),i.meridiem===!1?n=n.replace(N0,"").trim():i.meridiem==="narrow"?n=n.replace(N0,(s,o)=>o.toLocaleLowerCase()):i.meridiem==="short"?n=n.replace(N0,(s,o)=>`${o.toLocaleLowerCase()}m`):i.meridiem==="lowercase"&&(n=n.replace(N0,s=>s.toLocaleLowerCase())),n=n.replace(ZQ," "),n=n.trim(),n}function iX(n,e){let t=!1;return n=n.replace(JQ,()=>(t=!0,e)),t||(n+=` ${e}`),n}function rX(n,e,t,i,r){let s=[];return r==="long"?s.push(t):(r==="short"||r==="narrow")&&s.push(e),(r==="long"||r==="short")&&s.push(" "),s.push(i.simpleNumberFormat.format(n)),i.options.direction==="rtl"&&s.reverse(),s.join("")}function sX(n,e,t){return t.getMarkerYear(n)!==t.getMarkerYear(e)?5:t.getMarkerMonth(n)!==t.getMarkerMonth(e)?4:t.getMarkerDay(n)!==t.getMarkerDay(e)?2:Oo(n)!==Oo(e)?1:0}function oX(n,e){let t={};for(let i in n)(!(i in U0)||U0[i]<=e)&&(t[i]=n[i]);return t}function aX(n,e,t,i){let r=0;for(;r<n.length;){let s=n.indexOf(e,r);if(s===-1)break;let o=n.substr(0,s);r=s+e.length;let a=n.substr(r),l=0;for(;l<t.length;){let c=t.indexOf(i,l);if(c===-1)break;let u=t.substr(0,c);l=c+i.length;let p=t.substr(l);if(o===u&&a===p)return{before:o,after:a}}}return null}function kN(n,e){let t=e.markerToArray(n.marker);return{marker:n.marker,timeZoneOffset:n.timeZoneOffset,array:t,year:t[0],month:t[1],day:t[2],hour:t[3],minute:t[4],second:t[5],millisecond:t[6]}}function G0(n,e,t,i){let r=kN(n,t.calendarSystem),s=e?kN(e,t.calendarSystem):null;return{date:r,start:r,end:s,timeZone:t.timeZone,localeCodes:t.locale.codes,defaultSeparator:i||t.defaultSeparator}}var bS=class{constructor(e){this.cmdStr=e}format(e,t,i){return t.cmdFormatter(this.cmdStr,G0(e,null,t,i))}formatRange(e,t,i,r){return i.cmdFormatter(this.cmdStr,G0(e,t,i,r))}},xS=class{constructor(e){this.func=e}format(e,t,i){return this.func(G0(e,null,t,i))}formatRange(e,t,i,r){return this.func(G0(e,t,i,r))}};function Kt(n){return typeof n=="object"&&n?new _S(n):typeof n=="string"?new bS(n):typeof n=="function"?new xS(n):null}var GS={navLinkDayClick:M,navLinkWeekClick:M,duration:et,bootstrapFontAwesome:M,buttonIcons:M,customButtons:M,defaultAllDayEventDuration:et,defaultTimedEventDuration:et,nextDayThreshold:et,scrollTime:et,scrollTimeReset:Boolean,slotMinTime:et,slotMaxTime:et,dayPopoverFormat:Kt,slotDuration:et,snapDuration:et,headerToolbar:M,footerToolbar:M,defaultRangeSeparator:String,titleRangeSeparator:String,forceEventDuration:Boolean,dayHeaders:Boolean,dayHeaderFormat:Kt,dayHeaderClassNames:M,dayHeaderContent:M,dayHeaderDidMount:M,dayHeaderWillUnmount:M,dayCellClassNames:M,dayCellContent:M,dayCellDidMount:M,dayCellWillUnmount:M,initialView:String,aspectRatio:Number,weekends:Boolean,weekNumberCalculation:M,weekNumbers:Boolean,weekNumberClassNames:M,weekNumberContent:M,weekNumberDidMount:M,weekNumberWillUnmount:M,editable:Boolean,viewClassNames:M,viewDidMount:M,viewWillUnmount:M,nowIndicator:Boolean,nowIndicatorClassNames:M,nowIndicatorContent:M,nowIndicatorDidMount:M,nowIndicatorWillUnmount:M,showNonCurrentDates:Boolean,lazyFetching:Boolean,startParam:String,endParam:String,timeZoneParam:String,timeZone:String,locales:M,locale:M,themeSystem:String,dragRevertDuration:Number,dragScroll:Boolean,allDayMaintainDuration:Boolean,unselectAuto:Boolean,dropAccept:M,eventOrder:GN,eventOrderStrict:Boolean,handleWindowResize:Boolean,windowResizeDelay:Number,longPressDelay:Number,eventDragMinDistance:Number,expandRows:Boolean,height:M,contentHeight:M,direction:String,weekNumberFormat:Kt,eventResizableFromStart:Boolean,displayEventTime:Boolean,displayEventEnd:Boolean,weekText:String,weekTextLong:String,progressiveEventRendering:Boolean,businessHours:M,initialDate:M,now:M,eventDataTransform:M,stickyHeaderDates:M,stickyFooterScrollbar:M,viewHeight:M,defaultAllDay:Boolean,eventSourceFailure:M,eventSourceSuccess:M,eventDisplay:String,eventStartEditable:Boolean,eventDurationEditable:Boolean,eventOverlap:M,eventConstraint:M,eventAllow:M,eventBackgroundColor:String,eventBorderColor:String,eventTextColor:String,eventColor:String,eventClassNames:M,eventContent:M,eventDidMount:M,eventWillUnmount:M,selectConstraint:M,selectOverlap:M,selectAllow:M,droppable:Boolean,unselectCancel:String,slotLabelFormat:M,slotLaneClassNames:M,slotLaneContent:M,slotLaneDidMount:M,slotLaneWillUnmount:M,slotLabelClassNames:M,slotLabelContent:M,slotLabelDidMount:M,slotLabelWillUnmount:M,dayMaxEvents:M,dayMaxEventRows:M,dayMinWidth:Number,slotLabelInterval:et,allDayText:String,allDayClassNames:M,allDayContent:M,allDayDidMount:M,allDayWillUnmount:M,slotMinWidth:Number,navLinks:Boolean,eventTimeFormat:Kt,rerenderDelay:Number,moreLinkText:M,moreLinkHint:M,selectMinDistance:Number,selectable:Boolean,selectLongPressDelay:Number,eventLongPressDelay:Number,selectMirror:Boolean,eventMaxStack:Number,eventMinHeight:Number,eventMinWidth:Number,eventShortHeight:Number,slotEventOverlap:Boolean,plugins:M,firstDay:Number,dayCount:Number,dateAlignment:String,dateIncrement:et,hiddenDays:M,fixedWeekCount:Boolean,validRange:M,visibleRange:M,titleFormat:M,eventInteractive:Boolean,noEventsText:String,viewHint:M,navLinkHint:M,closeHint:String,timeHint:String,eventHint:String,moreLinkClick:M,moreLinkClassNames:M,moreLinkContent:M,moreLinkDidMount:M,moreLinkWillUnmount:M,monthStartFormat:Kt,handleCustomRendering:M,customRenderingMetaMap:M,customRenderingReplaces:Boolean},Fo={eventDisplay:"auto",defaultRangeSeparator:" - ",titleRangeSeparator:" \u2013 ",defaultTimedEventDuration:"01:00:00",defaultAllDayEventDuration:{day:1},forceEventDuration:!1,nextDayThreshold:"00:00:00",dayHeaders:!0,initialView:"",aspectRatio:1.35,headerToolbar:{start:"title",center:"",end:"today prev,next"},weekends:!0,weekNumbers:!1,weekNumberCalculation:"local",editable:!1,nowIndicator:!1,scrollTime:"06:00:00",scrollTimeReset:!0,slotMinTime:"00:00:00",slotMaxTime:"24:00:00",showNonCurrentDates:!0,lazyFetching:!0,startParam:"start",endParam:"end",timeZoneParam:"timeZone",timeZone:"local",locales:[],locale:"",themeSystem:"standard",dragRevertDuration:500,dragScroll:!0,allDayMaintainDuration:!1,unselectAuto:!0,dropAccept:"*",eventOrder:"start,-duration,allDay,title",dayPopoverFormat:{month:"long",day:"numeric",year:"numeric"},handleWindowResize:!0,windowResizeDelay:100,longPressDelay:1e3,eventDragMinDistance:5,expandRows:!1,navLinks:!1,selectable:!1,eventMinHeight:15,eventMinWidth:30,eventShortHeight:30,monthStartFormat:{month:"long",day:"numeric"}},qS={datesSet:M,eventsSet:M,eventAdd:M,eventChange:M,eventRemove:M,windowResize:M,eventClick:M,eventMouseEnter:M,eventMouseLeave:M,select:M,unselect:M,loading:M,_unmount:M,_beforeprint:M,_afterprint:M,_noEventDrop:M,_noEventResize:M,_resize:M,_scrollRequest:M},WS={buttonText:M,buttonHints:M,views:M,plugins:M,initialEvents:M,events:M,eventSources:M},Po={headerToolbar:ka,footerToolbar:ka,buttonText:ka,buttonHints:ka,buttonIcons:ka,dateIncrement:ka,plugins:F0,events:F0,eventSources:F0,resources:F0};function ka(n,e){return typeof n=="object"&&typeof e=="object"&&n&&e?Oi(n,e):n===e}function F0(n,e){return Array.isArray(n)&&Array.isArray(e)?Kr(n,e):n===e}var KN={type:String,component:M,buttonText:String,buttonTextKey:String,dateProfileGeneratorClass:M,usesMinMaxTime:Boolean,classNames:M,content:M,didMount:M,willUnmount:M};function sv(n){return av(n,Po)}function ov(n,e){let t={},i={};for(let r in e)r in n&&(t[r]=e[r](n[r]));for(let r in n)r in e||(i[r]=n[r]);return{refined:t,extra:i}}function M(n){return n}var{hasOwnProperty:q0}=Object.prototype;function av(n,e){let t={};if(e){for(let i in e)if(e[i]===ka){let r=[];for(let s=n.length-1;s>=0;s-=1){let o=n[s][i];if(typeof o=="object"&&o)r.unshift(o);else if(o!==void 0){t[i]=o;break}}r.length&&(t[i]=av(r))}}for(let i=n.length-1;i>=0;i-=1){let r=n[i];for(let s in r)s in t||(t[s]=r[s])}return t}function Es(n,e){let t={};for(let i in n)e(n[i],i)&&(t[i]=n[i]);return t}function Jr(n,e){let t={};for(let i in n)t[i]=e(n[i],i);return t}function YS(n){let e={};for(let t of n)e[t]=!0;return e}function lv(n){let e=[];for(let t in n)e.push(n[t]);return e}function Oi(n,e){if(n===e)return!0;for(let t in n)if(q0.call(n,t)&&!(t in e))return!1;for(let t in e)if(q0.call(e,t)&&n[t]!==e[t])return!1;return!0}var lX=/^on[A-Z]/;function cX(n,e){let t=CS(n,e);for(let i of t)if(!lX.test(i))return!1;return!0}function CS(n,e){let t=[];for(let i in n)q0.call(n,i)&&(i in e||t.push(i));for(let i in e)q0.call(e,i)&&n[i]!==e[i]&&t.push(i);return t}function z0(n,e,t={}){if(n===e)return!0;for(let i in e)if(!(i in n&&uX(n[i],e[i],t[i])))return!1;for(let i in n)if(!(i in e))return!1;return!0}function uX(n,e,t){return n===e||t===!0?!0:t?t(n,e):!1}function JN(n,e=0,t,i=1){let r=[];t==null&&(t=Object.keys(n).length);for(let s=e;s<t;s+=i){let o=n[s];o!==void 0&&r.push(o)}return r}var eF={};function dX(n,e){eF[n]=e}function hX(n){return new eF[n]}var wS=class{getMarkerYear(e){return e.getUTCFullYear()}getMarkerMonth(e){return e.getUTCMonth()}getMarkerDay(e){return e.getUTCDate()}arrayToMarker(e){return Ci(e)}markerToArray(e){return Ro(e)}};dX("gregory",wS);var pX=/^\s*(\d{4})(-?(\d{2})(-?(\d{2})([T ](\d{2}):?(\d{2})(:?(\d{2})(\.(\d+))?)?(Z|(([-+])(\d{2})(:?(\d{2}))?))?)?)?)?$/;function tF(n){let e=pX.exec(n);if(e){let t=new Date(Date.UTC(Number(e[1]),e[3]?Number(e[3])-1:0,Number(e[5]||1),Number(e[7]||0),Number(e[8]||0),Number(e[10]||0),e[12]?+`0.${e[12]}`*1e3:0));if(zS(t)){let i=null;return e[13]&&(i=(e[15]==="-"?-1:1)*(Number(e[16]||0)*60+Number(e[18]||0))),{marker:t,isTimeUnspecified:!e[6],timeZoneOffset:i}}}return null}var th=class{constructor(e){let t=this.timeZone=e.timeZone,i=t!=="local"&&t!=="UTC";e.namedTimeZoneImpl&&i&&(this.namedTimeZoneImpl=new e.namedTimeZoneImpl(t)),this.canComputeOffset=!!(!i||this.namedTimeZoneImpl),this.calendarSystem=hX(e.calendarSystem),this.locale=e.locale,this.weekDow=e.locale.week.dow,this.weekDoy=e.locale.week.doy,e.weekNumberCalculation==="ISO"&&(this.weekDow=1,this.weekDoy=4),typeof e.firstDay=="number"&&(this.weekDow=e.firstDay),typeof e.weekNumberCalculation=="function"&&(this.weekNumberFunc=e.weekNumberCalculation),this.weekText=e.weekText!=null?e.weekText:e.locale.options.weekText,this.weekTextLong=(e.weekTextLong!=null?e.weekTextLong:e.locale.options.weekTextLong)||this.weekText,this.cmdFormatter=e.cmdFormatter,this.defaultSeparator=e.defaultSeparator}createMarker(e){let t=this.createMarkerMeta(e);return t===null?null:t.marker}createNowMarker(){return this.canComputeOffset?this.timestampToMarker(new Date().valueOf()):Ci(TN(new Date))}createMarkerMeta(e){if(typeof e=="string")return this.parse(e);let t=null;return typeof e=="number"?t=this.timestampToMarker(e):e instanceof Date?(e=e.valueOf(),isNaN(e)||(t=this.timestampToMarker(e))):Array.isArray(e)&&(t=Ci(e)),t===null||!zS(t)?null:{marker:t,isTimeUnspecified:!1,forcedTzo:null}}parse(e){let t=tF(e);if(t===null)return null;let{marker:i}=t,r=null;return t.timeZoneOffset!==null&&(this.canComputeOffset?i=this.timestampToMarker(i.valueOf()-t.timeZoneOffset*60*1e3):r=t.timeZoneOffset),{marker:i,isTimeUnspecified:t.isTimeUnspecified,forcedTzo:r}}getYear(e){return this.calendarSystem.getMarkerYear(e)}getMonth(e){return this.calendarSystem.getMarkerMonth(e)}getDay(e){return this.calendarSystem.getMarkerDay(e)}add(e,t){let i=this.calendarSystem.markerToArray(e);return i[0]+=t.years,i[1]+=t.months,i[2]+=t.days,i[6]+=t.milliseconds,this.calendarSystem.arrayToMarker(i)}subtract(e,t){let i=this.calendarSystem.markerToArray(e);return i[0]-=t.years,i[1]-=t.months,i[2]-=t.days,i[6]-=t.milliseconds,this.calendarSystem.arrayToMarker(i)}addYears(e,t){let i=this.calendarSystem.markerToArray(e);return i[0]+=t,this.calendarSystem.arrayToMarker(i)}addMonths(e,t){let i=this.calendarSystem.markerToArray(e);return i[1]+=t,this.calendarSystem.arrayToMarker(i)}diffWholeYears(e,t){let{calendarSystem:i}=this;return Oo(e)===Oo(t)&&i.getMarkerDay(e)===i.getMarkerDay(t)&&i.getMarkerMonth(e)===i.getMarkerMonth(t)?i.getMarkerYear(t)-i.getMarkerYear(e):null}diffWholeMonths(e,t){let{calendarSystem:i}=this;return Oo(e)===Oo(t)&&i.getMarkerDay(e)===i.getMarkerDay(t)?i.getMarkerMonth(t)-i.getMarkerMonth(e)+(i.getMarkerYear(t)-i.getMarkerYear(e))*12:null}greatestWholeUnit(e,t){let i=this.diffWholeYears(e,t);return i!==null?{unit:"year",value:i}:(i=this.diffWholeMonths(e,t),i!==null?{unit:"month",value:i}:(i=XN(e,t),i!==null?{unit:"week",value:i}:(i=Dc(e,t),i!==null?{unit:"day",value:i}:(i=zQ(e,t),H0(i)?{unit:"hour",value:i}:(i=$Q(e,t),H0(i)?{unit:"minute",value:i}:(i=UQ(e,t),H0(i)?{unit:"second",value:i}:{unit:"millisecond",value:t.valueOf()-e.valueOf()}))))))}countDurationsBetween(e,t,i){let r;return i.years&&(r=this.diffWholeYears(e,t),r!==null)?r/BQ(i):i.months&&(r=this.diffWholeMonths(e,t),r!==null)?r/jQ(i):i.days&&(r=Dc(e,t),r!==null)?r/Sc(i):(t.valueOf()-e.valueOf())/Ec(i)}startOf(e,t){return t==="year"?this.startOfYear(e):t==="month"?this.startOfMonth(e):t==="week"?this.startOfWeek(e):t==="day"?_t(e):t==="hour"?GQ(e):t==="minute"?qQ(e):t==="second"?WQ(e):null}startOfYear(e){return this.calendarSystem.arrayToMarker([this.calendarSystem.getMarkerYear(e)])}startOfMonth(e){return this.calendarSystem.arrayToMarker([this.calendarSystem.getMarkerYear(e),this.calendarSystem.getMarkerMonth(e)])}startOfWeek(e){return this.calendarSystem.arrayToMarker([this.calendarSystem.getMarkerYear(e),this.calendarSystem.getMarkerMonth(e),e.getUTCDate()-(e.getUTCDay()-this.weekDow+7)%7])}computeWeekNumber(e){return this.weekNumberFunc?this.weekNumberFunc(this.toDate(e)):YQ(e,this.weekDow,this.weekDoy)}format(e,t,i={}){return t.format({marker:e,timeZoneOffset:i.forcedTzo!=null?i.forcedTzo:this.offsetForMarker(e)},this)}formatRange(e,t,i,r={}){return r.isEndExclusive&&(t=Zr(t,-1)),i.formatRange({marker:e,timeZoneOffset:r.forcedStartTzo!=null?r.forcedStartTzo:this.offsetForMarker(e)},{marker:t,timeZoneOffset:r.forcedEndTzo!=null?r.forcedEndTzo:this.offsetForMarker(t)},this,r.defaultSeparator)}formatIso(e,t={}){let i=null;return t.omitTimeZoneOffset||(t.forcedTzo!=null?i=t.forcedTzo:i=this.offsetForMarker(e)),ZN(e,i,t.omitTime)}timestampToMarker(e){return this.timeZone==="local"?Ci(TN(new Date(e))):this.timeZone==="UTC"||!this.namedTimeZoneImpl?new Date(e):Ci(this.namedTimeZoneImpl.timestampToArray(e))}offsetForMarker(e){return this.timeZone==="local"?-AN(Ro(e)).getTimezoneOffset():this.timeZone==="UTC"?0:this.namedTimeZoneImpl?this.namedTimeZoneImpl.offsetForArray(Ro(e)):null}toDate(e,t){return this.timeZone==="local"?AN(Ro(e)):this.timeZone==="UTC"?new Date(e.valueOf()):this.namedTimeZoneImpl?new Date(e.valueOf()-this.namedTimeZoneImpl.offsetForArray(Ro(e))*1e3*60):new Date(e.valueOf()-(t||0))}},Ds=class{constructor(e){this.iconOverrideOption&&this.setIconOverride(e[this.iconOverrideOption])}setIconOverride(e){let t,i;if(typeof e=="object"&&e){t=Object.assign({},this.iconClasses);for(i in e)t[i]=this.applyIconOverridePrefix(e[i]);this.iconClasses=t}else e===!1&&(this.iconClasses={})}applyIconOverridePrefix(e){let t=this.iconOverridePrefix;return t&&e.indexOf(t)!==0&&(e=t+e),e}getClass(e){return this.classes[e]||""}getIconClass(e,t){let i;return t&&this.rtlIconClasses?i=this.rtlIconClasses[e]||this.iconClasses[e]:i=this.iconClasses[e],i?`${this.baseIconClass} ${i}`:""}getCustomButtonIconClass(e){let t;return this.iconOverrideCustomButtonOption&&(t=e[this.iconOverrideCustomButtonOption],t)?`${this.baseIconClass} ${this.applyIconOverridePrefix(t)}`:""}};Ds.prototype.classes={};Ds.prototype.iconClasses={};Ds.prototype.baseIconClass="";Ds.prototype.iconOverridePrefix="";function nh(n){n();let e=ve.debounceRendering,t=[];function i(r){t.push(r)}for(ve.debounceRendering=i,Mo(k(SS,{}),document.createElement("div"));t.length;)t.shift()();ve.debounceRendering=e}var SS=class extends In{render(){return k("div",{})}componentDidMount(){this.setState({})}};function nF(n){let e=R0(n),t=e.Provider;return e.Provider=function(){let i=!this.getChildContext,r=t.apply(this,arguments);if(i){let s=[];this.shouldComponentUpdate=o=>{this.props.value!==o.value&&s.forEach(a=>{a.context=o.value,a.forceUpdate()})},this.sub=o=>{s.push(o);let a=o.componentWillUnmount;o.componentWillUnmount=()=>{s.splice(s.indexOf(o),1),a&&a.call(o)}}}return r},e}var W0=class{constructor(e,t,i,r){this.execFunc=e,this.emitter=t,this.scrollTime=i,this.scrollTimeReset=r,this.handleScrollRequest=s=>{this.queuedRequest=Object.assign({},this.queuedRequest||{},s),this.drain()},t.on("_scrollRequest",this.handleScrollRequest),this.fireInitialScroll()}detach(){this.emitter.off("_scrollRequest",this.handleScrollRequest)}update(e){e&&this.scrollTimeReset?this.fireInitialScroll():this.drain()}fireInitialScroll(){this.handleScrollRequest({time:this.scrollTime})}drain(){this.queuedRequest&&this.execFunc(this.queuedRequest)&&(this.queuedRequest=null)}},Ms=nF({});function iF(n,e,t,i,r,s,o,a,l,c,u,p,m){return{dateEnv:r,options:t,pluginHooks:o,emitter:c,dispatch:a,getCurrentData:l,calendarApi:u,viewSpec:n,viewApi:e,dateProfileGenerator:i,theme:s,isRtl:t.direction==="rtl",addResizeHandler(f){c.on("_resize",f)},removeResizeHandler(f){c.off("_resize",f)},createScrollResponder(f){return new W0(f,c,et(t.scrollTime),t.scrollTimeReset)},registerInteractiveComponent:p,unregisterInteractiveComponent:m}}var Dh=(()=>{class n extends In{shouldComponentUpdate(t,i){return this.debug&&console.log(CS(t,this.props),CS(i,this.state)),!z0(this.props,t,this.propEquality)||!z0(this.state,i,this.stateEquality)}safeSetState(t){z0(this.state,Object.assign(Object.assign({},this.state),t),this.stateEquality)||this.setState(t)}}return n.addPropsEquality=fX,n.addStateEquality=mX,n.contextType=Ms,n})();Dh.prototype.propEquality={};Dh.prototype.stateEquality={};var Dt=(()=>{class n extends Dh{}return n.contextType=Ms,n})();function fX(n){let e=Object.create(this.prototype.propEquality);Object.assign(e,n),this.prototype.propEquality=e}function mX(n){let e=Object.create(this.prototype.stateEquality);Object.assign(e,n),this.prototype.stateEquality=e}function Yi(n,e){typeof n=="function"?n(e):n&&(n.current=e)}var ih=class extends Dt{constructor(){super(...arguments),this.id=Is(),this.queuedDomNodes=[],this.currentDomNodes=[],this.handleEl=e=>{let{options:t}=this.context,{generatorName:i}=this.props;(!t.customRenderingReplaces||!ES(i,t))&&this.updateElRef(e)},this.updateElRef=e=>{this.props.elRef&&Yi(this.props.elRef,e)}}render(){let{props:e,context:t}=this,{options:i}=t,{customGenerator:r,defaultGenerator:s,renderProps:o}=e,a=QS(e,[],this.handleEl),l=!1,c,u=[],p;if(r!=null){let m=typeof r=="function"?r(o,k):r;if(m===!0)l=!0;else{let f=m&&typeof m=="object";f&&"html"in m?a.dangerouslySetInnerHTML={__html:m.html}:f&&"domNodes"in m?u=Array.prototype.slice.call(m.domNodes):(f?rS(m):typeof m!="function")?c=m:p=m}}else l=!ES(e.generatorName,i);return l&&s&&(c=s(o)),this.queuedDomNodes=u,this.currentGeneratorMeta=p,k(e.elTag,a,c)}componentDidMount(){this.applyQueueudDomNodes(),this.triggerCustomRendering(!0)}componentDidUpdate(){this.applyQueueudDomNodes(),this.triggerCustomRendering(!0)}componentWillUnmount(){this.triggerCustomRendering(!1)}triggerCustomRendering(e){var t;let{props:i,context:r}=this,{handleCustomRendering:s,customRenderingMetaMap:o}=r.options;if(s){let a=(t=this.currentGeneratorMeta)!==null&&t!==void 0?t:o?.[i.generatorName];a&&s(Object.assign(Object.assign({id:this.id,isActive:e,containerEl:this.base,reportNewContainerEl:this.updateElRef,generatorMeta:a},i),{elClasses:(i.elClasses||[]).filter(gX)}))}}applyQueueudDomNodes(){let{queuedDomNodes:e,currentDomNodes:t}=this,i=this.base;if(!Kr(e,t)){t.forEach(xh);for(let r of e)i.appendChild(r);this.currentDomNodes=e}}};ih.addPropsEquality({elClasses:Kr,elStyle:Oi,elAttrs:cX,renderProps:Oi});function ES(n,e){var t;return!!(e.handleCustomRendering&&n&&(!((t=e.customRenderingMetaMap)===null||t===void 0)&&t[n]))}function QS(n,e,t){let i=Object.assign(Object.assign({},n.elAttrs),{ref:t});return(n.elClasses||e)&&(i.className=(n.elClasses||[]).concat(e||[]).concat(i.className||[]).filter(Boolean).join(" ")),n.elStyle&&(i.style=n.elStyle),i}function gX(n){return!!n}var XS=nF(0),es=(()=>{class n extends In{constructor(){super(...arguments),this.InnerContent=vX.bind(void 0,this),this.handleEl=t=>{this.el=t,this.props.elRef&&(Yi(this.props.elRef,t),t&&this.didMountMisfire&&this.componentDidMount())}}render(){let{props:t}=this,i=yX(t.classNameGenerator,t.renderProps);if(t.children){let r=QS(t,i,this.handleEl),s=t.children(this.InnerContent,t.renderProps,r);return t.elTag?k(t.elTag,r,s):s}else return k(ih,Object.assign(Object.assign({},t),{elRef:this.handleEl,elTag:t.elTag||"div",elClasses:(t.elClasses||[]).concat(i),renderId:this.context}))}componentDidMount(){var t,i;this.el?(i=(t=this.props).didMount)===null||i===void 0||i.call(t,Object.assign(Object.assign({},this.props.renderProps),{el:this.el})):this.didMountMisfire=!0}componentWillUnmount(){var t,i;(i=(t=this.props).willUnmount)===null||i===void 0||i.call(t,Object.assign(Object.assign({},this.props.renderProps),{el:this.el}))}}return n.contextType=XS,n})();function vX(n,e){let t=n.props;return k(ih,Object.assign({renderProps:t.renderProps,generatorName:t.generatorName,customGenerator:t.customGenerator,defaultGenerator:t.defaultGenerator,renderId:n.context},e))}function yX(n,e){let t=typeof n=="function"?n(e):n||[];return typeof t=="string"?[t]:t}var Tc=class extends Dt{render(){let{props:e,context:t}=this,{options:i}=t,r={view:t.viewApi};return k(es,Object.assign({},e,{elTag:e.elTag||"div",elClasses:[...ZS(e.viewSpec),...e.elClasses||[]],renderProps:r,classNameGenerator:i.viewClassNames,generatorName:void 0,didMount:i.viewDidMount,willUnmount:i.viewWillUnmount}),()=>e.children)}};function ZS(n){return[`fc-${n.type}-view`,"fc-view"]}function _X(n,e){let t=null,i=null;return n.start&&(t=e.createMarker(n.start)),n.end&&(i=e.createMarker(n.end)),!t&&!i||t&&i&&i<t?null:{start:t,end:i}}function RN(n,e){let t=[],{start:i}=e,r,s;for(n.sort(bX),r=0;r<n.length;r+=1)s=n[r],s.start>i&&t.push({start:i,end:s.start}),s.end>i&&(i=s.end);return i<e.end&&t.push({start:i,end:e.end}),t}function bX(n,e){return n.start.valueOf()-e.start.valueOf()}function Ts(n,e){let{start:t,end:i}=n,r=null;return e.start!==null&&(t===null?t=e.start:t=new Date(Math.max(t.valueOf(),e.start.valueOf()))),e.end!=null&&(i===null?i=e.end:i=new Date(Math.min(i.valueOf(),e.end.valueOf()))),(t===null||i===null||t<i)&&(r={start:t,end:i}),r}function rF(n,e){return(n.start===null?null:n.start.valueOf())===(e.start===null?null:e.start.valueOf())&&(n.end===null?null:n.end.valueOf())===(e.end===null?null:e.end.valueOf())}function cv(n,e){return(n.end===null||e.start===null||n.end>e.start)&&(n.start===null||e.end===null||n.start<e.end)}function Rc(n,e){return(n.start===null||e.start!==null&&e.start>=n.start)&&(n.end===null||e.end!==null&&e.end<=n.end)}function Xr(n,e){return(n.start===null||e>=n.start)&&(n.end===null||e<n.end)}function xX(n,e){return e.start!=null&&n<e.start?e.start:e.end!=null&&n>=e.end?new Date(e.end.valueOf()-1):n}function sF(n){let e=Math.floor(ja(n.start,n.end))||1,t=_t(n.start),i=fn(t,e);return{start:t,end:i}}function KS(n,e=et(0)){let t=null,i=null;if(n.end){i=_t(n.end);let r=n.end.valueOf()-i.valueOf();r&&r>=Ec(e)&&(i=fn(i,1))}return n.start&&(t=_t(n.start),i&&i<=t&&(i=fn(t,1))),{start:t,end:i}}function Lo(n,e,t,i){return i==="year"?et(t.diffWholeYears(n,e),"year"):i==="month"?et(t.diffWholeMonths(n,e),"month"):QN(n,e)}function oF(n,e){switch(e.type){case"CHANGE_DATE":return e.dateMarker;default:return n}}function aF(n,e){let t=n.initialDate;return t!=null?e.createMarker(t):Oc(n.now,e)}function Oc(n,e){return typeof n=="function"&&(n=n()),n==null?e.createNowMarker():e.createMarker(n)}var Oa=class{constructor(e){this.props=e,this.nowDate=Oc(e.nowInput,e.dateEnv),this.initHiddenDays()}buildPrev(e,t,i){let{dateEnv:r}=this.props,s=r.subtract(r.startOf(t,e.currentRangeUnit),e.dateIncrement);return this.build(s,-1,i)}buildNext(e,t,i){let{dateEnv:r}=this.props,s=r.add(r.startOf(t,e.currentRangeUnit),e.dateIncrement);return this.build(s,1,i)}build(e,t,i=!0){let{props:r}=this,s,o,a,l,c,u;return s=this.buildValidRange(),s=this.trimHiddenDays(s),i&&(e=xX(e,s)),o=this.buildCurrentRangeInfo(e,t),a=/^(year|month|week|day)$/.test(o.unit),l=this.buildRenderRange(this.trimHiddenDays(o.range),o.unit,a),l=this.trimHiddenDays(l),c=l,r.showNonCurrentDates||(c=Ts(c,o.range)),c=this.adjustActiveRange(c),c=Ts(c,s),u=cv(o.range,s),Xr(l,e)||(e=l.start),{currentDate:e,validRange:s,currentRange:o.range,currentRangeUnit:o.unit,isRangeAllDay:a,activeRange:c,renderRange:l,slotMinTime:r.slotMinTime,slotMaxTime:r.slotMaxTime,isValid:u,dateIncrement:this.buildDateIncrement(o.duration)}}buildValidRange(){let e=this.props.validRangeInput,t=typeof e=="function"?e.call(this.props.calendarApi,this.nowDate):e;return this.refineRange(t)||{start:null,end:null}}buildCurrentRangeInfo(e,t){let{props:i}=this,r=null,s=null,o=null,a;return i.duration?(r=i.duration,s=i.durationUnit,o=this.buildRangeFromDuration(e,t,r,s)):(a=this.props.dayCount)?(s="day",o=this.buildRangeFromDayCount(e,t,a)):(o=this.buildCustomVisibleRange(e))?s=i.dateEnv.greatestWholeUnit(o.start,o.end).unit:(r=this.getFallbackDuration(),s=eh(r).unit,o=this.buildRangeFromDuration(e,t,r,s)),{duration:r,unit:s,range:o}}getFallbackDuration(){return et({day:1})}adjustActiveRange(e){let{dateEnv:t,usesMinMaxTime:i,slotMinTime:r,slotMaxTime:s}=this.props,{start:o,end:a}=e;return i&&(Sc(r)<0&&(o=_t(o),o=t.add(o,r)),Sc(s)>1&&(a=_t(a),a=fn(a,-1),a=t.add(a,s))),{start:o,end:a}}buildRangeFromDuration(e,t,i,r){let{dateEnv:s,dateAlignment:o}=this.props,a,l,c;if(!o){let{dateIncrement:p}=this.props;p&&Ec(p)<Ec(i)?o=eh(p).unit:o=r}Sc(i)<=1&&this.isHiddenDay(a)&&(a=this.skipHiddenDays(a,t),a=_t(a));function u(){a=s.startOf(e,o),l=s.add(a,i),c={start:a,end:l}}return u(),this.trimHiddenDays(c)||(e=this.skipHiddenDays(e,t),u()),c}buildRangeFromDayCount(e,t,i){let{dateEnv:r,dateAlignment:s}=this.props,o=0,a=e,l;s&&(a=r.startOf(a,s)),a=_t(a),a=this.skipHiddenDays(a,t),l=a;do l=fn(l,1),this.isHiddenDay(l)||(o+=1);while(o<i);return{start:a,end:l}}buildCustomVisibleRange(e){let{props:t}=this,i=t.visibleRangeInput,r=typeof i=="function"?i.call(t.calendarApi,t.dateEnv.toDate(e)):i,s=this.refineRange(r);return s&&(s.start==null||s.end==null)?null:s}buildRenderRange(e,t,i){return e}buildDateIncrement(e){let{dateIncrement:t}=this.props,i;return t||((i=this.props.dateAlignment)?et(1,i):e||et({days:1}))}refineRange(e){if(e){let t=_X(e,this.props.dateEnv);return t&&(t=KS(t)),t}return null}initHiddenDays(){let e=this.props.hiddenDays||[],t=[],i=0,r;for(this.props.weekends===!1&&e.push(0,6),r=0;r<7;r+=1)(t[r]=e.indexOf(r)!==-1)||(i+=1);if(!i)throw new Error("invalid hiddenDays");this.isHiddenDayHash=t}trimHiddenDays(e){let{start:t,end:i}=e;return t&&(t=this.skipHiddenDays(t)),i&&(i=this.skipHiddenDays(i,-1,!0)),t==null||i==null||t<i?{start:t,end:i}:null}isHiddenDay(e){return e instanceof Date&&(e=e.getUTCDay()),this.isHiddenDayHash[e]}skipHiddenDays(e,t=1,i=!1){for(;this.isHiddenDayHash[(e.getUTCDay()+(i?t:0)+7)%7];)e=fn(e,t);return e}};function Th(n,e,t,i){return{instanceId:Is(),defId:n,range:e,forcedStartTzo:t??null,forcedEndTzo:i??null}}function CX(n,e,t,i){for(let r=0;r<i.length;r+=1){let s=i[r].parse(n,t);if(s){let{allDay:o}=n;return o==null&&(o=e,o==null&&(o=s.allDayGuess,o==null&&(o=!1))),{allDay:o,duration:s.duration,typeData:s.typeData,typeId:r}}}return null}function La(n,e,t){let{dateEnv:i,pluginHooks:r,options:s}=t,{defs:o,instances:a}=n;a=Es(a,l=>!o[l.defId].recurringDef);for(let l in o){let c=o[l];if(c.recurringDef){let{duration:u}=c.recurringDef;u||(u=c.allDay?s.defaultAllDayEventDuration:s.defaultTimedEventDuration);let p=wX(c,u,e,i,r.recurringTypes);for(let m of p){let f=Th(l,{start:m,end:i.add(m,u)});a[f.instanceId]=f}}}return{defs:o,instances:a}}function wX(n,e,t,i,r){let o=r[n.recurringDef.typeId].expand(n.recurringDef.typeData,{start:i.subtract(t.start,e),end:t.end},i);return n.allDay&&(o=o.map(_t)),o}var $0={id:String,groupId:String,title:String,url:String,interactive:Boolean},lF={start:M,end:M,date:M,allDay:Boolean},SX=Object.assign(Object.assign(Object.assign({},$0),lF),{extendedProps:M});function cF(n,e,t,i,r=JS(t),s,o){let{refined:a,extra:l}=uv(n,t,r),c=DX(e,t),u=CX(a,c,t.dateEnv,t.pluginHooks.recurringTypes);if(u){let m=rh(a,l,e?e.sourceId:"",u.allDay,!!u.duration,t,s);return m.recurringDef={typeId:u.typeId,typeData:u.typeData,duration:u.duration},{def:m,instance:null}}let p=EX(a,c,t,i);if(p){let m=rh(a,l,e?e.sourceId:"",p.allDay,p.hasEnd,t,s),f=Th(m.defId,p.range,p.forcedStartTzo,p.forcedEndTzo);return o&&m.publicId&&o[m.publicId]&&(f.instanceId=o[m.publicId]),{def:m,instance:f}}return null}function uv(n,e,t=JS(e)){return ov(n,t)}function JS(n){return Object.assign(Object.assign(Object.assign({},Y0),SX),n.pluginHooks.eventRefiners)}function rh(n,e,t,i,r,s,o){let a={title:n.title||"",groupId:n.groupId||"",publicId:n.id||"",url:n.url||"",recurringDef:null,defId:(o&&n.id?o[n.id]:"")||Is(),sourceId:t,allDay:i,hasEnd:r,interactive:n.interactive,ui:Lc(n,s),extendedProps:Object.assign(Object.assign({},n.extendedProps||{}),e)};for(let l of s.pluginHooks.eventDefMemberAdders)Object.assign(a,l(n));return Object.freeze(a.ui.classNames),Object.freeze(a.extendedProps),a}function EX(n,e,t,i){let{allDay:r}=n,s,o=null,a=!1,l,c=null,u=n.start!=null?n.start:n.date;if(s=t.dateEnv.createMarkerMeta(u),s)o=s.marker;else if(!i)return null;return n.end!=null&&(l=t.dateEnv.createMarkerMeta(n.end)),r==null&&(e!=null?r=e:r=(!s||s.isTimeUnspecified)&&(!l||l.isTimeUnspecified)),r&&o&&(o=_t(o)),l&&(c=l.marker,r&&(c=_t(c)),o&&c<=o&&(c=null)),c?a=!0:i||(a=t.options.forceEventDuration||!1,c=t.dateEnv.add(o,r?t.options.defaultAllDayEventDuration:t.options.defaultTimedEventDuration)),{allDay:r,hasEnd:a,range:{start:o,end:c},forcedStartTzo:s?s.forcedTzo:null,forcedEndTzo:l?l.forcedTzo:null}}function DX(n,e){let t=null;return n&&(t=n.defaultAllDay),t==null&&(t=e.options.defaultAllDay),t}function sh(n,e,t,i,r,s){let o=oi(),a=JS(t);for(let l of n){let c=cF(l,e,t,i,a,r,s);c&&oh(c,o)}return o}function oh(n,e=oi()){return e.defs[n.def.defId]=n.def,n.instance&&(e.instances[n.instance.instanceId]=n.instance),e}function Ah(n,e){let t=n.instances[e];if(t){let i=n.defs[t.defId],r=hv(n,s=>TX(i,s));return r.defs[i.defId]=i,r.instances[t.instanceId]=t,r}return oi()}function TX(n,e){return!!(n.groupId&&n.groupId===e.groupId)}function oi(){return{defs:{},instances:{}}}function dv(n,e){return{defs:Object.assign(Object.assign({},n.defs),e.defs),instances:Object.assign(Object.assign({},n.instances),e.instances)}}function hv(n,e){let t=Es(n.defs,e),i=Es(n.instances,r=>t[r.defId]);return{defs:t,instances:i}}function AX(n,e){let{defs:t,instances:i}=n,r={},s={};for(let o in t)e.defs[o]||(r[o]=t[o]);for(let o in i)!e.instances[o]&&r[i[o].defId]&&(s[o]=i[o]);return{defs:r,instances:s}}function IX(n,e){return Array.isArray(n)?sh(n,null,e,!0):typeof n=="object"&&n?sh([n],null,e,!0):n!=null?String(n):null}function DS(n){return Array.isArray(n)?n:typeof n=="string"?n.split(/\s+/):[]}var Y0={display:String,editable:Boolean,startEditable:Boolean,durationEditable:Boolean,constraint:M,overlap:M,allow:M,className:DS,classNames:DS,color:String,backgroundColor:String,borderColor:String,textColor:String},MX={display:null,startEditable:null,durationEditable:null,constraints:[],overlap:null,allows:[],backgroundColor:"",borderColor:"",textColor:"",classNames:[]};function Lc(n,e){let t=IX(n.constraint,e);return{display:n.display||null,startEditable:n.startEditable!=null?n.startEditable:n.editable,durationEditable:n.durationEditable!=null?n.durationEditable:n.editable,constraints:t!=null?[t]:[],overlap:n.overlap!=null?n.overlap:null,allows:n.allow!=null?[n.allow]:[],backgroundColor:n.backgroundColor||n.color||"",borderColor:n.borderColor||n.color||"",textColor:n.textColor||"",classNames:(n.className||[]).concat(n.classNames||[])}}function uF(n){return n.reduce(kX,MX)}function kX(n,e){return{display:e.display!=null?e.display:n.display,startEditable:e.startEditable!=null?e.startEditable:n.startEditable,durationEditable:e.durationEditable!=null?e.durationEditable:n.durationEditable,constraints:n.constraints.concat(e.constraints),overlap:typeof e.overlap=="boolean"?e.overlap:n.overlap,allows:n.allows.concat(e.allows),backgroundColor:e.backgroundColor||n.backgroundColor,borderColor:e.borderColor||n.borderColor,textColor:e.textColor||n.textColor,classNames:n.classNames.concat(e.classNames)}}var RX={id:String,defaultAllDay:Boolean,url:String,format:String,events:M,eventDataTransform:M,success:M,failure:M};function e1(n,e,t=t1(e)){let i;if(typeof n=="string"?i={url:n}:typeof n=="function"||Array.isArray(n)?i={events:n}:typeof n=="object"&&n&&(i=n),i){let{refined:r,extra:s}=ov(i,t),o=OX(r,e);if(o)return{_raw:n,isFetching:!1,latestFetchId:"",fetchRange:null,defaultAllDay:r.defaultAllDay,eventDataTransform:r.eventDataTransform,success:r.success,failure:r.failure,publicId:r.id||"",sourceId:Is(),sourceDefId:o.sourceDefId,meta:o.meta,ui:Lc(r,e),extendedProps:s}}return null}function t1(n){return Object.assign(Object.assign(Object.assign({},Y0),RX),n.pluginHooks.eventSourceRefiners)}function OX(n,e){let t=e.pluginHooks.eventSourceDefs;for(let i=t.length-1;i>=0;i-=1){let s=t[i].parseMeta(n);if(s)return{sourceDefId:i,meta:s}}return null}function dF(n,e,t,i,r){switch(e.type){case"RECEIVE_EVENTS":return LX(n,t[e.sourceId],e.fetchId,e.fetchRange,e.rawEvents,r);case"RESET_RAW_EVENTS":return NX(n,t[e.sourceId],e.rawEvents,i.activeRange,r);case"ADD_EVENTS":return FX(n,e.eventStore,i?i.activeRange:null,r);case"RESET_EVENTS":return e.eventStore;case"MERGE_EVENTS":return dv(n,e.eventStore);case"PREV":case"NEXT":case"CHANGE_DATE":case"CHANGE_VIEW_TYPE":return i?La(n,i.activeRange,r):n;case"REMOVE_EVENTS":return AX(n,e.eventStore);case"REMOVE_EVENT_SOURCE":return pF(n,e.sourceId);case"REMOVE_ALL_EVENT_SOURCES":return hv(n,s=>!s.sourceId);case"REMOVE_ALL_EVENTS":return oi();default:return n}}function LX(n,e,t,i,r,s){if(e&&t===e.latestFetchId){let o=sh(hF(r,e,s),e,s);return i&&(o=La(o,i,s)),dv(pF(n,e.sourceId),o)}return n}function NX(n,e,t,i,r){let{defIdMap:s,instanceIdMap:o}=VX(n),a=sh(hF(t,e,r),e,r,!1,s,o);return La(a,i,r)}function hF(n,e,t){let i=t.options.eventDataTransform,r=e?e.eventDataTransform:null;return r&&(n=ON(n,r)),i&&(n=ON(n,i)),n}function ON(n,e){let t;if(!e)t=n;else{t=[];for(let i of n){let r=e(i);r?t.push(r):r==null&&t.push(i)}}return t}function FX(n,e,t,i){return t&&(e=La(e,t,i)),dv(n,e)}function n1(n,e,t){let{defs:i}=n,r=Jr(n.instances,s=>i[s.defId].allDay?s:Object.assign(Object.assign({},s),{range:{start:t.createMarker(e.toDate(s.range.start,s.forcedStartTzo)),end:t.createMarker(e.toDate(s.range.end,s.forcedEndTzo))},forcedStartTzo:t.canComputeOffset?null:s.forcedStartTzo,forcedEndTzo:t.canComputeOffset?null:s.forcedEndTzo}));return{defs:i,instances:r}}function pF(n,e){return hv(n,t=>t.sourceId!==e)}function PX(n,e){return{defs:n.defs,instances:Es(n.instances,t=>!e[t.instanceId])}}function VX(n){let{defs:e,instances:t}=n,i={},r={};for(let s in e){let o=e[s],{publicId:a}=o;a&&(i[a]=s)}for(let s in t){let o=t[s],a=e[o.defId],{publicId:l}=a;l&&(r[l]=s)}return{defIdMap:i,instanceIdMap:r}}var As=class{constructor(){this.handlers={},this.thisContext=null}setThisContext(e){this.thisContext=e}setOptions(e){this.options=e}on(e,t){BX(this.handlers,e,t)}off(e,t){jX(this.handlers,e,t)}trigger(e,...t){let i=this.handlers[e]||[],r=this.options&&this.options[e],s=[].concat(r||[],i);for(let o of s)o.apply(this.thisContext,t)}hasHandlers(e){return!!(this.handlers[e]&&this.handlers[e].length||this.options&&this.options[e])}};function BX(n,e,t){(n[e]||(n[e]=[])).push(t)}function jX(n,e,t){t?n[e]&&(n[e]=n[e].filter(i=>i!==t)):delete n[e]}var HX={startTime:"09:00",endTime:"17:00",daysOfWeek:[1,2,3,4,5],display:"inverse-background",classNames:"fc-non-business",groupId:"_businessHours"};function i1(n,e){return sh(zX(n),null,e)}function zX(n){let e;return n===!0?e=[{}]:Array.isArray(n)?e=n.filter(t=>t.daysOfWeek):typeof n=="object"&&n?e=[n]:e=[],e=e.map(t=>Object.assign(Object.assign({},HX),t)),e}function pv(n,e,t){t.emitter.trigger("select",Object.assign(Object.assign({},r1(n,t)),{jsEvent:e?e.origEvent:null,view:t.viewApi||t.calendarApi.view}))}function $X(n,e){e.emitter.trigger("unselect",{jsEvent:n?n.origEvent:null,view:e.viewApi||e.calendarApi.view})}function r1(n,e){let t={};for(let i of e.pluginHooks.dateSpanTransforms)Object.assign(t,i(n,e));return Object.assign(t,tZ(n,e.dateEnv)),t}function Q0(n,e,t){let{dateEnv:i,options:r}=t,s=e;return n?(s=_t(s),s=i.add(s,r.defaultAllDayEventDuration)):s=i.add(s,r.defaultTimedEventDuration),s}function Ih(n,e,t,i){let r=Z0(n.defs,e),s=oi();for(let o in n.defs){let a=n.defs[o];s.defs[o]=UX(a,r[o],t,i)}for(let o in n.instances){let a=n.instances[o],l=s.defs[a.defId];s.instances[o]=GX(a,l,r[a.defId],t,i)}return s}function UX(n,e,t,i){let r=t.standardProps||{};r.hasEnd==null&&e.durationEditable&&(t.startDelta||t.endDelta)&&(r.hasEnd=!0);let s=Object.assign(Object.assign(Object.assign({},n),r),{ui:Object.assign(Object.assign({},n.ui),r.ui)});t.extendedProps&&(s.extendedProps=Object.assign(Object.assign({},s.extendedProps),t.extendedProps));for(let o of i.pluginHooks.eventDefMutationAppliers)o(s,t,i);return!s.hasEnd&&i.options.forceEventDuration&&(s.hasEnd=!0),s}function GX(n,e,t,i,r){let{dateEnv:s}=r,o=i.standardProps&&i.standardProps.allDay===!0,a=i.standardProps&&i.standardProps.hasEnd===!1,l=Object.assign({},n);return o&&(l.range=sF(l.range)),i.datesDelta&&t.startEditable&&(l.range={start:s.add(l.range.start,i.datesDelta),end:s.add(l.range.end,i.datesDelta)}),i.startDelta&&t.durationEditable&&(l.range={start:s.add(l.range.start,i.startDelta),end:l.range.end}),i.endDelta&&t.durationEditable&&(l.range={start:l.range.start,end:s.add(l.range.end,i.endDelta)}),a&&(l.range={start:l.range.start,end:Q0(e.allDay,l.range.start,r)}),e.allDay&&(l.range={start:_t(l.range.start),end:_t(l.range.end)}),l.range.end<l.range.start&&(l.range.end=Q0(e.allDay,l.range.start,r)),l}var ko=class{constructor(e,t){this.context=e,this.internalEventSource=t}remove(){this.context.dispatch({type:"REMOVE_EVENT_SOURCE",sourceId:this.internalEventSource.sourceId})}refetch(){this.context.dispatch({type:"FETCH_EVENT_SOURCES",sourceIds:[this.internalEventSource.sourceId],isRefetch:!0})}get id(){return this.internalEventSource.publicId}get url(){return this.internalEventSource.meta.url}get format(){return this.internalEventSource.meta.format}},bt=class n{constructor(e,t,i){this._context=e,this._def=t,this._instance=i||null}setProp(e,t){if(e in lF)console.warn("Could not set date-related prop 'name'. Use one of the date-related methods instead.");else if(e==="id")t=$0[e](t),this.mutate({standardProps:{publicId:t}});else if(e in $0)t=$0[e](t),this.mutate({standardProps:{[e]:t}});else if(e in Y0){let i=Y0[e](t);e==="color"?i={backgroundColor:t,borderColor:t}:e==="editable"?i={startEditable:t,durationEditable:t}:i={[e]:t},this.mutate({standardProps:{ui:i}})}else console.warn(`Could not set prop '${e}'. Use setExtendedProp instead.`)}setExtendedProp(e,t){this.mutate({extendedProps:{[e]:t}})}setStart(e,t={}){let{dateEnv:i}=this._context,r=i.createMarker(e);if(r&&this._instance){let s=this._instance.range,o=Lo(s.start,r,i,t.granularity);t.maintainDuration?this.mutate({datesDelta:o}):this.mutate({startDelta:o})}}setEnd(e,t={}){let{dateEnv:i}=this._context,r;if(!(e!=null&&(r=i.createMarker(e),!r))&&this._instance)if(r){let s=Lo(this._instance.range.end,r,i,t.granularity);this.mutate({endDelta:s})}else this.mutate({standardProps:{hasEnd:!1}})}setDates(e,t,i={}){let{dateEnv:r}=this._context,s={allDay:i.allDay},o=r.createMarker(e),a;if(o&&!(t!=null&&(a=r.createMarker(t),!a))&&this._instance){let l=this._instance.range;i.allDay===!0&&(l=sF(l));let c=Lo(l.start,o,r,i.granularity);if(a){let u=Lo(l.end,a,r,i.granularity);VQ(c,u)?this.mutate({datesDelta:c,standardProps:s}):this.mutate({startDelta:c,endDelta:u,standardProps:s})}else s.hasEnd=!1,this.mutate({datesDelta:c,standardProps:s})}}moveStart(e){let t=et(e);t&&this.mutate({startDelta:t})}moveEnd(e){let t=et(e);t&&this.mutate({endDelta:t})}moveDates(e){let t=et(e);t&&this.mutate({datesDelta:t})}setAllDay(e,t={}){let i={allDay:e},{maintainDuration:r}=t;r==null&&(r=this._context.options.allDayMaintainDuration),this._def.allDay!==e&&(i.hasEnd=r),this.mutate({standardProps:i})}formatRange(e){let{dateEnv:t}=this._context,i=this._instance,r=Kt(e);return this._def.hasEnd?t.formatRange(i.range.start,i.range.end,r,{forcedStartTzo:i.forcedStartTzo,forcedEndTzo:i.forcedEndTzo}):t.format(i.range.start,r,{forcedTzo:i.forcedStartTzo})}mutate(e){let t=this._instance;if(t){let i=this._def,r=this._context,{eventStore:s}=r.getCurrentData(),o=Ah(s,t.instanceId);o=Ih(o,{"":{display:"",startEditable:!0,durationEditable:!0,constraints:[],overlap:null,allows:[],backgroundColor:"",borderColor:"",textColor:"",classNames:[]}},e,r);let l=new n(r,i,t);this._def=o.defs[i.defId],this._instance=o.instances[t.instanceId],r.dispatch({type:"MERGE_EVENTS",eventStore:o}),r.emitter.trigger("eventChange",{oldEvent:l,event:this,relatedEvents:ts(o,r,t),revert(){r.dispatch({type:"RESET_EVENTS",eventStore:s})}})}}remove(){let e=this._context,t=fF(this);e.dispatch({type:"REMOVE_EVENTS",eventStore:t}),e.emitter.trigger("eventRemove",{event:this,relatedEvents:[],revert(){e.dispatch({type:"MERGE_EVENTS",eventStore:t})}})}get source(){let{sourceId:e}=this._def;return e?new ko(this._context,this._context.getCurrentData().eventSources[e]):null}get start(){return this._instance?this._context.dateEnv.toDate(this._instance.range.start):null}get end(){return this._instance&&this._def.hasEnd?this._context.dateEnv.toDate(this._instance.range.end):null}get startStr(){let e=this._instance;return e?this._context.dateEnv.formatIso(e.range.start,{omitTime:this._def.allDay,forcedTzo:e.forcedStartTzo}):""}get endStr(){let e=this._instance;return e&&this._def.hasEnd?this._context.dateEnv.formatIso(e.range.end,{omitTime:this._def.allDay,forcedTzo:e.forcedEndTzo}):""}get id(){return this._def.publicId}get groupId(){return this._def.groupId}get allDay(){return this._def.allDay}get title(){return this._def.title}get url(){return this._def.url}get display(){return this._def.ui.display||"auto"}get startEditable(){return this._def.ui.startEditable}get durationEditable(){return this._def.ui.durationEditable}get constraint(){return this._def.ui.constraints[0]||null}get overlap(){return this._def.ui.overlap}get allow(){return this._def.ui.allows[0]||null}get backgroundColor(){return this._def.ui.backgroundColor}get borderColor(){return this._def.ui.borderColor}get textColor(){return this._def.ui.textColor}get classNames(){return this._def.ui.classNames}get extendedProps(){return this._def.extendedProps}toPlainObject(e={}){let t=this._def,{ui:i}=t,{startStr:r,endStr:s}=this,o={allDay:t.allDay};return t.title&&(o.title=t.title),r&&(o.start=r),s&&(o.end=s),t.publicId&&(o.id=t.publicId),t.groupId&&(o.groupId=t.groupId),t.url&&(o.url=t.url),i.display&&i.display!=="auto"&&(o.display=i.display),e.collapseColor&&i.backgroundColor&&i.backgroundColor===i.borderColor?o.color=i.backgroundColor:(i.backgroundColor&&(o.backgroundColor=i.backgroundColor),i.borderColor&&(o.borderColor=i.borderColor)),i.textColor&&(o.textColor=i.textColor),i.classNames.length&&(o.classNames=i.classNames),Object.keys(t.extendedProps).length&&(e.collapseExtendedProps?Object.assign(o,t.extendedProps):o.extendedProps=t.extendedProps),o}toJSON(){return this.toPlainObject()}};function fF(n){let e=n._def,t=n._instance;return{defs:{[e.defId]:e},instances:t?{[t.instanceId]:t}:{}}}function ts(n,e,t){let{defs:i,instances:r}=n,s=[],o=t?t.instanceId:"";for(let a in r){let l=r[a],c=i[l.defId];l.instanceId!==o&&s.push(new bt(e,c,l))}return s}function X0(n,e,t,i){let r={},s={},o={},a=[],l=[],c=Z0(n.defs,e);for(let u in n.defs){let p=n.defs[u];c[p.defId].display==="inverse-background"&&(p.groupId?(r[p.groupId]=[],o[p.groupId]||(o[p.groupId]=p)):s[u]=[])}for(let u in n.instances){let p=n.instances[u],m=n.defs[p.defId],f=c[m.defId],_=p.range,w=!m.allDay&&i?KS(_,i):_,S=Ts(w,t);S&&(f.display==="inverse-background"?m.groupId?r[m.groupId].push(S):s[p.defId].push(S):f.display!=="none"&&(f.display==="background"?a:l).push({def:m,ui:f,instance:p,range:S,isStart:w.start&&w.start.valueOf()===S.start.valueOf(),isEnd:w.end&&w.end.valueOf()===S.end.valueOf()}))}for(let u in r){let p=r[u],m=RN(p,t);for(let f of m){let _=o[u],w=c[_.defId];a.push({def:_,ui:w,instance:null,range:f,isStart:!1,isEnd:!1})}}for(let u in s){let p=s[u],m=RN(p,t);for(let f of m)a.push({def:n.defs[u],ui:c[u],instance:null,range:f,isStart:!1,isEnd:!1})}return{bg:a,fg:l}}function LN(n,e){n.fcSeg=e}function ks(n){return n.fcSeg||n.parentNode.fcSeg||null}function Z0(n,e){return Jr(n,t=>mF(t,e))}function mF(n,e){let t=[];return e[""]&&t.push(e[""]),e[n.defId]&&t.push(e[n.defId]),t.push(n.ui),uF(t)}function s1(n,e){let t=n.map(qX);return t.sort((i,r)=>qN(i,r,e)),t.map(i=>i._seg)}function qX(n){let{eventRange:e}=n,t=e.def,i=e.instance?e.instance.range:e.range,r=i.start?i.start.valueOf():0,s=i.end?i.end.valueOf():0;return Object.assign(Object.assign(Object.assign({},t.extendedProps),t),{id:t.publicId,start:r,end:s,duration:s-r,allDay:Number(t.allDay),_seg:n})}function WX(n,e){let{pluginHooks:t}=e,i=t.isDraggableTransformers,{def:r,ui:s}=n.eventRange,o=s.startEditable;for(let a of i)o=a(o,r,s,e);return o}function YX(n,e){return n.isStart&&n.eventRange.ui.durationEditable&&e.options.eventResizableFromStart}function QX(n,e){return n.isEnd&&n.eventRange.ui.durationEditable}function fv(n,e,t,i,r,s,o){let{dateEnv:a,options:l}=t,{displayEventTime:c,displayEventEnd:u}=l,p=n.eventRange.def,m=n.eventRange.instance;c==null&&(c=i!==!1),u==null&&(u=r!==!1);let f=m.range.start,_=m.range.end,w=s||n.start||n.eventRange.range.start,S=o||n.end||n.eventRange.range.end,D=_t(f).valueOf()===_t(w).valueOf(),R=_t(Zr(_,-1)).valueOf()===_t(Zr(S,-1)).valueOf();return c&&!p.allDay&&(D||R)?(w=D?f:w,S=R?_:S,u&&p.hasEnd?a.formatRange(w,S,e,{forcedStartTzo:s?null:m.forcedStartTzo,forcedEndTzo:o?null:m.forcedEndTzo}):a.format(w,e,{forcedTzo:s?null:m.forcedStartTzo})):""}function Ha(n,e,t){let i=n.eventRange.range;return{isPast:i.end<=(t||e.start),isFuture:i.start>=(t||e.end),isToday:e&&Xr(e,i.start)}}function XX(n){let e=["fc-event"];return n.isMirror&&e.push("fc-event-mirror"),n.isDraggable&&e.push("fc-event-draggable"),(n.isStartResizable||n.isEndResizable)&&e.push("fc-event-resizable"),n.isDragging&&e.push("fc-event-dragging"),n.isResizing&&e.push("fc-event-resizing"),n.isSelected&&e.push("fc-event-selected"),n.isStart&&e.push("fc-event-start"),n.isEnd&&e.push("fc-event-end"),n.isPast&&e.push("fc-event-past"),n.isToday&&e.push("fc-event-today"),n.isFuture&&e.push("fc-event-future"),e}function o1(n){return n.instance?n.instance.instanceId:`${n.def.defId}:${n.range.start.toISOString()}`}function mv(n,e){let{def:t,instance:i}=n.eventRange,{url:r}=t;if(r)return{href:r};let{emitter:s,options:o}=e,{eventInteractive:a}=o;return a==null&&(a=t.interactive,a==null&&(a=!!s.hasHandlers("eventClick"))),a?UN(l=>{s.trigger("eventClick",{el:l.target,event:new bt(e,t,i),jsEvent:l,view:e.viewApi})}):{}}var ZX={start:M,end:M,allDay:Boolean};function KX(n,e,t){let i=JX(n,e),{range:r}=i;if(!r.start)return null;if(!r.end){if(t==null)return null;r.end=e.add(r.start,t)}return i}function JX(n,e){let{refined:t,extra:i}=ov(n,ZX),r=t.start?e.createMarkerMeta(t.start):null,s=t.end?e.createMarkerMeta(t.end):null,{allDay:o}=t;return o==null&&(o=r&&r.isTimeUnspecified&&(!s||s.isTimeUnspecified)),Object.assign({range:{start:r?r.marker:null,end:s?s.marker:null},allDay:o},i)}function a1(n,e){return rF(n.range,e.range)&&n.allDay===e.allDay&&eZ(n,e)}function eZ(n,e){for(let t in e)if(t!=="range"&&t!=="allDay"&&n[t]!==e[t])return!1;for(let t in n)if(!(t in e))return!1;return!0}function tZ(n,e){return Object.assign(Object.assign({},gF(n.range,e,n.allDay)),{allDay:n.allDay})}function l1(n,e,t){return Object.assign(Object.assign({},gF(n,e,t)),{timeZone:e.timeZone})}function gF(n,e,t){return{start:e.toDate(n.start),end:e.toDate(n.end),startStr:e.formatIso(n.start,{omitTime:t}),endStr:e.formatIso(n.end,{omitTime:t})}}function nZ(n,e,t){let i=uv({editable:!1},t),r=rh(i.refined,i.extra,"",n.allDay,!0,t);return{def:r,ui:mF(r,e),instance:Th(r.defId,n.range),range:n.range,isStart:!0,isEnd:!0}}function c1(n,e,t){let i=!1,r=function(a){i||(i=!0,e(a))},s=function(a){i||(i=!0,t(a))},o=n(r,s);o&&typeof o.then=="function"&&o.then(r,s)}var K0=class extends Error{constructor(e,t){super(e),this.response=t}};function u1(n,e,t){n=n.toUpperCase();let i={method:n};return n==="GET"?e+=(e.indexOf("?")===-1?"?":"&")+new URLSearchParams(t):(i.body=new URLSearchParams(t),i.headers={"Content-Type":"application/x-www-form-urlencoded"}),fetch(e,i).then(r=>{if(r.ok)return r.json().then(s=>[s,r],()=>{throw new K0("Failure parsing JSON",r)});throw new K0("Request failed",r)})}var hS;function d1(){return hS==null&&(hS=iZ()),hS}function iZ(){if(typeof document>"u")return!0;let n=document.createElement("div");n.style.position="absolute",n.style.top="0px",n.style.left="0px",n.innerHTML="<table><tr><td><div></div></td></tr></table>",n.querySelector("table").style.height="100px",n.querySelector("div").style.height="100%",document.body.appendChild(n);let t=n.querySelector("div").offsetHeight>0;return document.body.removeChild(n),t}var ah=class extends Dt{constructor(){super(...arguments),this.state={forPrint:!1},this.handleBeforePrint=()=>{nh(()=>{this.setState({forPrint:!0})})},this.handleAfterPrint=()=>{nh(()=>{this.setState({forPrint:!1})})}}render(){let{props:e}=this,{options:t}=e,{forPrint:i}=this.state,r=i||t.height==="auto"||t.contentHeight==="auto",s=!r&&t.height!=null?t.height:"",o=["fc",i?"fc-media-print":"fc-media-screen",`fc-direction-${t.direction}`,e.theme.getClass("root")];return d1()||o.push("fc-liquid-hack"),e.children(o,s,r,i)}componentDidMount(){let{emitter:e}=this.props;e.on("_beforeprint",this.handleBeforePrint),e.on("_afterprint",this.handleAfterPrint)}componentWillUnmount(){let{emitter:e}=this.props;e.off("_beforeprint",this.handleBeforePrint),e.off("_afterprint",this.handleAfterPrint)}},pr=class{constructor(e){this.component=e.component,this.isHitComboAllowed=e.isHitComboAllowed||null}destroy(){}};function vF(n,e){return{component:n,el:e.el,useEventCenter:e.useEventCenter!=null?e.useEventCenter:!0,isHitComboAllowed:e.isHitComboAllowed||null}}function Mh(n){return{[n.component.uid]:n}}var Nc={},lh=class{getCurrentData(){return this.currentDataManager.getCurrentData()}dispatch(e){this.currentDataManager.dispatch(e)}get view(){return this.getCurrentData().viewApi}batchRendering(e){e()}updateSize(){this.trigger("_resize",!0)}setOption(e,t){this.dispatch({type:"SET_OPTION",optionName:e,rawOptionValue:t})}getOption(e){return this.currentDataManager.currentCalendarOptionsInput[e]}getAvailableLocaleCodes(){return Object.keys(this.getCurrentData().availableRawLocales)}on(e,t){let{currentDataManager:i}=this;i.currentCalendarOptionsRefiners[e]?i.emitter.on(e,t):console.warn(`Unknown listener name '${e}'`)}off(e,t){this.currentDataManager.emitter.off(e,t)}trigger(e,...t){this.currentDataManager.emitter.trigger(e,...t)}changeView(e,t){this.batchRendering(()=>{if(this.unselect(),t)if(t.start&&t.end)this.dispatch({type:"CHANGE_VIEW_TYPE",viewType:e}),this.dispatch({type:"SET_OPTION",optionName:"visibleRange",rawOptionValue:t});else{let{dateEnv:i}=this.getCurrentData();this.dispatch({type:"CHANGE_VIEW_TYPE",viewType:e,dateMarker:i.createMarker(t)})}else this.dispatch({type:"CHANGE_VIEW_TYPE",viewType:e})})}zoomTo(e,t){let i=this.getCurrentData(),r;t=t||"day",r=i.viewSpecs[t]||this.getUnitViewSpec(t),this.unselect(),r?this.dispatch({type:"CHANGE_VIEW_TYPE",viewType:r.type,dateMarker:e}):this.dispatch({type:"CHANGE_DATE",dateMarker:e})}getUnitViewSpec(e){let{viewSpecs:t,toolbarConfig:i}=this.getCurrentData(),r=[].concat(i.header?i.header.viewsWithButtons:[],i.footer?i.footer.viewsWithButtons:[]),s,o;for(let a in t)r.push(a);for(s=0;s<r.length;s+=1)if(o=t[r[s]],o&&o.singleUnit===e)return o;return null}prev(){this.unselect(),this.dispatch({type:"PREV"})}next(){this.unselect(),this.dispatch({type:"NEXT"})}prevYear(){let e=this.getCurrentData();this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:e.dateEnv.addYears(e.currentDate,-1)})}nextYear(){let e=this.getCurrentData();this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:e.dateEnv.addYears(e.currentDate,1)})}today(){let e=this.getCurrentData();this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:Oc(e.calendarOptions.now,e.dateEnv)})}gotoDate(e){let t=this.getCurrentData();this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:t.dateEnv.createMarker(e)})}incrementDate(e){let t=this.getCurrentData(),i=et(e);i&&(this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:t.dateEnv.add(t.currentDate,i)}))}getDate(){let e=this.getCurrentData();return e.dateEnv.toDate(e.currentDate)}formatDate(e,t){let{dateEnv:i}=this.getCurrentData();return i.format(i.createMarker(e),Kt(t))}formatRange(e,t,i){let{dateEnv:r}=this.getCurrentData();return r.formatRange(r.createMarker(e),r.createMarker(t),Kt(i),i)}formatIso(e,t){let{dateEnv:i}=this.getCurrentData();return i.formatIso(i.createMarker(e),{omitTime:t})}select(e,t){let i;t==null?e.start!=null?i=e:i={start:e,end:null}:i={start:e,end:t};let r=this.getCurrentData(),s=KX(i,r.dateEnv,et({days:1}));s&&(this.dispatch({type:"SELECT_DATES",selection:s}),pv(s,null,r))}unselect(e){let t=this.getCurrentData();t.dateSelection&&(this.dispatch({type:"UNSELECT_DATES"}),$X(e,t))}addEvent(e,t){if(e instanceof bt){let o=e._def,a=e._instance;return this.getCurrentData().eventStore.defs[o.defId]||(this.dispatch({type:"ADD_EVENTS",eventStore:oh({def:o,instance:a})}),this.triggerEventAdd(e)),e}let i=this.getCurrentData(),r;if(t instanceof ko)r=t.internalEventSource;else if(typeof t=="boolean")t&&([r]=lv(i.eventSources));else if(t!=null){let o=this.getEventSourceById(t);if(!o)return console.warn(`Could not find an event source with ID "${t}"`),null;r=o.internalEventSource}let s=cF(e,r,i,!1);if(s){let o=new bt(i,s.def,s.def.recurringDef?null:s.instance);return this.dispatch({type:"ADD_EVENTS",eventStore:oh(s)}),this.triggerEventAdd(o),o}return null}triggerEventAdd(e){let{emitter:t}=this.getCurrentData();t.trigger("eventAdd",{event:e,relatedEvents:[],revert:()=>{this.dispatch({type:"REMOVE_EVENTS",eventStore:fF(e)})}})}getEventById(e){let t=this.getCurrentData(),{defs:i,instances:r}=t.eventStore;e=String(e);for(let s in i){let o=i[s];if(o.publicId===e){if(o.recurringDef)return new bt(t,o,null);for(let a in r){let l=r[a];if(l.defId===o.defId)return new bt(t,o,l)}}}return null}getEvents(){let e=this.getCurrentData();return ts(e.eventStore,e)}removeAllEvents(){this.dispatch({type:"REMOVE_ALL_EVENTS"})}getEventSources(){let e=this.getCurrentData(),t=e.eventSources,i=[];for(let r in t)i.push(new ko(e,t[r]));return i}getEventSourceById(e){let t=this.getCurrentData(),i=t.eventSources;e=String(e);for(let r in i)if(i[r].publicId===e)return new ko(t,i[r]);return null}addEventSource(e){let t=this.getCurrentData();if(e instanceof ko)return t.eventSources[e.internalEventSource.sourceId]||this.dispatch({type:"ADD_EVENT_SOURCES",sources:[e.internalEventSource]}),e;let i=e1(e,t);return i?(this.dispatch({type:"ADD_EVENT_SOURCES",sources:[i]}),new ko(t,i)):null}removeAllEventSources(){this.dispatch({type:"REMOVE_ALL_EVENT_SOURCES"})}refetchEvents(){this.dispatch({type:"FETCH_EVENT_SOURCES",isRefetch:!0})}scrollToTime(e){let t=et(e);t&&this.trigger("_scrollRequest",{time:t})}};function h1(n,e){return n.left>=e.left&&n.left<e.right&&n.top>=e.top&&n.top<e.bottom}function gv(n,e){let t={left:Math.max(n.left,e.left),right:Math.min(n.right,e.right),top:Math.max(n.top,e.top),bottom:Math.min(n.bottom,e.bottom)};return t.left<t.right&&t.top<t.bottom?t:!1}function p1(n,e){return{left:Math.min(Math.max(n.left,e.left),e.right),top:Math.min(Math.max(n.top,e.top),e.bottom)}}function f1(n){return{left:(n.left+n.right)/2,top:(n.top+n.bottom)/2}}function m1(n,e){return{left:n.left-e.left,top:n.top-e.top}}var IIe=oi();function g1(n,e,t,i){return{dow:n.getUTCDay(),isDisabled:!!(i&&!Xr(i.activeRange,n)),isOther:!!(i&&!Xr(i.currentRange,n)),isToday:!!(e&&Xr(e,n)),isPast:!!(t?n<t:e&&n<e.start),isFuture:!!(t?n>t:e&&n>=e.end)}}function vv(n,e){let t=["fc-day",`fc-day-${HQ[n.dow]}`];return n.isDisabled?t.push("fc-day-disabled"):(n.isToday&&(t.push("fc-day-today"),t.push(e.getClass("today"))),n.isPast&&t.push("fc-day-past"),n.isFuture&&t.push("fc-day-future"),n.isOther&&t.push("fc-day-other")),t}var rZ=Kt({year:"numeric",month:"long",day:"numeric"}),sZ=Kt({week:"long"});function kh(n,e,t="day",i=!0){let{dateEnv:r,options:s,calendarApi:o}=n,a=r.format(e,t==="week"?sZ:rZ);if(s.navLinks){let l=r.toDate(e),c=u=>{let p=t==="day"?s.navLinkDayClick:t==="week"?s.navLinkWeekClick:null;typeof p=="function"?p.call(o,r.toDate(e),u):(typeof p=="string"&&(t=p),o.zoomTo(e,t))};return Object.assign({title:Mc(s.navLinkHint,[a,l],a),"data-navlink":""},i?$N(c):{onClick:c})}return{"aria-label":a}}var pS=null;function yF(){return pS===null&&(pS=oZ()),pS}function oZ(){let n=document.createElement("div");Va(n,{position:"absolute",top:-1e3,left:0,border:0,padding:0,overflow:"scroll",direction:"rtl"}),n.innerHTML="<div></div>",document.body.appendChild(n);let t=n.firstChild.getBoundingClientRect().left>n.getBoundingClientRect().left;return xh(n),t}var fS;function _F(){return fS||(fS=aZ()),fS}function aZ(){let n=document.createElement("div");n.style.overflow="scroll",n.style.position="absolute",n.style.top="-9999px",n.style.left="-9999px",document.body.appendChild(n);let e=bF(n);return document.body.removeChild(n),e}function bF(n){return{x:n.offsetHeight-n.clientHeight,y:n.offsetWidth-n.clientWidth}}function xF(n,e=!1){let t=window.getComputedStyle(n),i=parseInt(t.borderLeftWidth,10)||0,r=parseInt(t.borderRightWidth,10)||0,s=parseInt(t.borderTopWidth,10)||0,o=parseInt(t.borderBottomWidth,10)||0,a=bF(n),l=a.y-i-r,c=a.x-s-o,u={borderLeft:i,borderRight:r,borderTop:s,borderBottom:o,scrollbarBottom:c,scrollbarLeft:0,scrollbarRight:0};return yF()&&t.direction==="rtl"?u.scrollbarLeft=l:u.scrollbarRight=l,e&&(u.paddingLeft=parseInt(t.paddingLeft,10)||0,u.paddingRight=parseInt(t.paddingRight,10)||0,u.paddingTop=parseInt(t.paddingTop,10)||0,u.paddingBottom=parseInt(t.paddingBottom,10)||0),u}function v1(n,e=!1,t){let i=t?n.getBoundingClientRect():Rh(n),r=xF(n,e),s={left:i.left+r.borderLeft+r.scrollbarLeft,right:i.right-r.borderRight-r.scrollbarRight,top:i.top+r.borderTop,bottom:i.bottom-r.borderBottom-r.scrollbarBottom};return e&&(s.left+=r.paddingLeft,s.right-=r.paddingRight,s.top+=r.paddingTop,s.bottom-=r.paddingBottom),s}function Rh(n){let e=n.getBoundingClientRect();return{left:e.left+window.scrollX,top:e.top+window.scrollY,right:e.right+window.scrollX,bottom:e.bottom+window.scrollY}}function lZ(n){let e=yv(n),t=n.getBoundingClientRect();for(let i of e){let r=gv(t,i.getBoundingClientRect());if(r)t=r;else return null}return t}function yv(n){let e=[];for(;n instanceof HTMLElement;){let t=window.getComputedStyle(n);if(t.position==="fixed")break;/(auto|scroll)/.test(t.overflow+t.overflowY+t.overflowX)&&e.push(n),n=n.parentNode}return e}var No=class{constructor(e,t,i,r){this.els=t;let s=this.originClientRect=e.getBoundingClientRect();i&&this.buildElHorizontals(s.left),r&&this.buildElVerticals(s.top)}buildElHorizontals(e){let t=[],i=[];for(let r of this.els){let s=r.getBoundingClientRect();t.push(s.left-e),i.push(s.right-e)}this.lefts=t,this.rights=i}buildElVerticals(e){let t=[],i=[];for(let r of this.els){let s=r.getBoundingClientRect();t.push(s.top-e),i.push(s.bottom-e)}this.tops=t,this.bottoms=i}leftToIndex(e){let{lefts:t,rights:i}=this,r=t.length,s;for(s=0;s<r;s+=1)if(e>=t[s]&&e<i[s])return s}topToIndex(e){let{tops:t,bottoms:i}=this,r=t.length,s;for(s=0;s<r;s+=1)if(e>=t[s]&&e<i[s])return s}getWidth(e){return this.rights[e]-this.lefts[e]}getHeight(e){return this.bottoms[e]-this.tops[e]}similarTo(e){return P0(this.tops||[],e.tops||[])&&P0(this.bottoms||[],e.bottoms||[])&&P0(this.lefts||[],e.lefts||[])&&P0(this.rights||[],e.rights||[])}};function P0(n,e){let t=n.length;if(t!==e.length)return!1;for(let i=0;i<t;i++)if(Math.round(n[i])!==Math.round(e[i]))return!1;return!0}var Na=class{getMaxScrollTop(){return this.getScrollHeight()-this.getClientHeight()}getMaxScrollLeft(){return this.getScrollWidth()-this.getClientWidth()}canScrollVertically(){return this.getMaxScrollTop()>0}canScrollHorizontally(){return this.getMaxScrollLeft()>0}canScrollUp(){return this.getScrollTop()>0}canScrollDown(){return this.getScrollTop()<this.getMaxScrollTop()}canScrollLeft(){return this.getScrollLeft()>0}canScrollRight(){return this.getScrollLeft()<this.getMaxScrollLeft()}},ch=class extends Na{constructor(e){super(),this.el=e}getScrollTop(){return this.el.scrollTop}getScrollLeft(){return this.el.scrollLeft}setScrollTop(e){this.el.scrollTop=e}setScrollLeft(e){this.el.scrollLeft=e}getScrollWidth(){return this.el.scrollWidth}getScrollHeight(){return this.el.scrollHeight}getClientHeight(){return this.el.clientHeight}getClientWidth(){return this.el.clientWidth}},uh=class extends Na{getScrollTop(){return window.scrollY}getScrollLeft(){return window.scrollX}setScrollTop(e){window.scroll(window.scrollX,e)}setScrollLeft(e){window.scroll(e,window.scrollY)}getScrollWidth(){return document.documentElement.scrollWidth}getScrollHeight(){return document.documentElement.scrollHeight}getClientHeight(){return document.documentElement.clientHeight}getClientWidth(){return document.documentElement.clientWidth}},fr=class extends Dt{constructor(){super(...arguments),this.uid=Is()}prepareHits(){}queryHit(e,t,i,r){return null}isValidSegDownEl(e){return!this.props.eventDrag&&!this.props.eventResize&&!pn(e,".fc-event-mirror")}isValidDateDownEl(e){return!pn(e,".fc-event:not(.fc-bg-event)")&&!pn(e,".fc-more-link")&&!pn(e,"a[data-navlink]")&&!pn(e,".fc-popover")}};var dh=class{constructor(e=t=>t.thickness||1){this.getEntryThickness=e,this.strictOrder=!1,this.allowReslicing=!1,this.maxCoord=-1,this.maxStackCnt=-1,this.levelCoords=[],this.entriesByLevel=[],this.stackCnts={}}addSegs(e){let t=[];for(let i of e)this.insertEntry(i,t);return t}insertEntry(e,t){let i=this.findInsertion(e);this.isInsertionValid(i,e)?this.insertEntryAt(e,i):this.handleInvalidInsertion(i,e,t)}isInsertionValid(e,t){return(this.maxCoord===-1||e.levelCoord+this.getEntryThickness(t)<=this.maxCoord)&&(this.maxStackCnt===-1||e.stackCnt<this.maxStackCnt)}handleInvalidInsertion(e,t,i){if(this.allowReslicing&&e.touchingEntry){let r=Object.assign(Object.assign({},t),{span:_v(t.span,e.touchingEntry.span)});i.push(r),this.splitEntry(t,e.touchingEntry,i)}else i.push(t)}splitEntry(e,t,i){let r=e.span,s=t.span;r.start<s.start&&this.insertEntry({index:e.index,thickness:e.thickness,span:{start:r.start,end:s.start}},i),r.end>s.end&&this.insertEntry({index:e.index,thickness:e.thickness,span:{start:s.end,end:r.end}},i)}insertEntryAt(e,t){let{entriesByLevel:i,levelCoords:r}=this;t.lateral===-1?(mS(r,t.level,t.levelCoord),mS(i,t.level,[e])):mS(i[t.level],t.lateral,e),this.stackCnts[Fa(e)]=t.stackCnt}findInsertion(e){let{levelCoords:t,entriesByLevel:i,strictOrder:r,stackCnts:s}=this,o=t.length,a=0,l=-1,c=-1,u=null,p=0;for(let _=0;_<o;_+=1){let w=t[_];if(!r&&w>=a+this.getEntryThickness(e))break;let S=i[_],D,R=AS(S,e.span.start,TS),F=R[0]+R[1];for(;(D=S[F])&&D.span.start<e.span.end;){let U=w+this.getEntryThickness(D);U>a&&(a=U,u=D,l=_,c=F),U===a&&(p=Math.max(p,s[Fa(D)]+1)),F+=1}}let m=0;if(u)for(m=l+1;m<o&&t[m]<a;)m+=1;let f=-1;return m<o&&t[m]===a&&(f=AS(i[m],e.span.end,TS)[0]),{touchingLevel:l,touchingLateral:c,touchingEntry:u,stackCnt:p,levelCoord:a,level:m,lateral:f}}toRects(){let{entriesByLevel:e,levelCoords:t}=this,i=e.length,r=[];for(let s=0;s<i;s+=1){let o=e[s],a=t[s];for(let l of o)r.push(Object.assign(Object.assign({},l),{thickness:this.getEntryThickness(l),levelCoord:a}))}return r}};function TS(n){return n.span.end}function Fa(n){return n.index+":"+n.span.start}function _v(n,e){let t=Math.max(n.start,e.start),i=Math.min(n.end,e.end);return t<i?{start:t,end:i}:null}function mS(n,e,t){n.splice(e,0,t)}function AS(n,e,t){let i=0,r=n.length;if(!r||e<t(n[i]))return[0,0];if(e>t(n[r-1]))return[r,0];for(;i<r;){let s=Math.floor(i+(r-i)/2),o=t(n[s]);if(e<o)r=s;else if(e>o)i=s+1;else return[s,1]}return[i,0]}var hh=class{constructor(e,t){this.emitter=new As}destroy(){}setMirrorIsVisible(e){}setMirrorNeedsRevert(e){}setAutoScrollEnabled(e){}},Oh={};function CF(n,e){return!n||e>10?Kt({weekday:"short"}):e>1?Kt({weekday:"short",month:"numeric",day:"numeric",omitCommas:!0}):Kt({weekday:"long"})}var wF="fc-col-header-cell";function SF(n){return n.text}var J0=class extends Dt{render(){let{dateEnv:e,options:t,theme:i,viewApi:r}=this.context,{props:s}=this,{date:o,dateProfile:a}=s,l=g1(o,s.todayRange,null,a),c=[wF].concat(vv(l,i)),u=e.format(o,s.dayHeaderFormat),p=!l.isDisabled&&s.colCnt>1?kh(this.context,o):{},m=Object.assign(Object.assign(Object.assign({date:e.toDate(o),view:r},s.extraRenderProps),{text:u}),l);return k(es,{elTag:"th",elClasses:c,elAttrs:Object.assign({role:"columnheader",colSpan:s.colSpan,"data-date":l.isDisabled?void 0:Eh(o)},s.extraDataAttrs),renderProps:m,generatorName:"dayHeaderContent",customGenerator:t.dayHeaderContent,defaultGenerator:SF,classNameGenerator:t.dayHeaderClassNames,didMount:t.dayHeaderDidMount,willUnmount:t.dayHeaderWillUnmount},f=>k("div",{className:"fc-scrollgrid-sync-inner"},!l.isDisabled&&k(f,{elTag:"a",elAttrs:p,elClasses:["fc-col-header-cell-cushion",s.isSticky&&"fc-sticky"]})))}},cZ=Kt({weekday:"long"}),ev=class extends Dt{render(){let{props:e}=this,{dateEnv:t,theme:i,viewApi:r,options:s}=this.context,o=fn(new Date(2592e5),e.dow),a={dow:e.dow,isDisabled:!1,isFuture:!1,isPast:!1,isToday:!1,isOther:!1},l=t.format(o,e.dayHeaderFormat),c=Object.assign(Object.assign(Object.assign(Object.assign({date:o},a),{view:r}),e.extraRenderProps),{text:l});return k(es,{elTag:"th",elClasses:[wF,...vv(a,i),...e.extraClassNames||[]],elAttrs:Object.assign({role:"columnheader",colSpan:e.colSpan},e.extraDataAttrs),renderProps:c,generatorName:"dayHeaderContent",customGenerator:s.dayHeaderContent,defaultGenerator:SF,classNameGenerator:s.dayHeaderClassNames,didMount:s.dayHeaderDidMount,willUnmount:s.dayHeaderWillUnmount},u=>k("div",{className:"fc-scrollgrid-sync-inner"},k(u,{elTag:"a",elClasses:["fc-col-header-cell-cushion",e.isSticky&&"fc-sticky"],elAttrs:{"aria-label":t.format(o,cZ)}})))}},bv=(()=>{class n extends In{constructor(t,i){super(t,i),this.initialNowDate=Oc(i.options.now,i.dateEnv),this.initialNowQueriedMs=new Date().valueOf(),this.state=this.computeTiming().currentState}render(){let{props:t,state:i}=this;return t.children(i.nowDate,i.todayRange)}componentDidMount(){this.setTimeout()}componentDidUpdate(t){t.unit!==this.props.unit&&(this.clearTimeout(),this.setTimeout())}componentWillUnmount(){this.clearTimeout()}computeTiming(){let{props:t,context:i}=this,r=Zr(this.initialNowDate,new Date().valueOf()-this.initialNowQueriedMs),s=i.dateEnv.startOf(r,t.unit),o=i.dateEnv.add(s,et(1,t.unit)),a=o.valueOf()-r.valueOf();return a=Math.min(1e3*60*60*24,a),{currentState:{nowDate:s,todayRange:NN(s)},nextState:{nowDate:o,todayRange:NN(o)},waitMs:a}}setTimeout(){let{nextState:t,waitMs:i}=this.computeTiming();this.timeoutId=setTimeout(()=>{this.setState(t,()=>{this.setTimeout()})},i)}clearTimeout(){this.timeoutId&&clearTimeout(this.timeoutId)}}return n.contextType=Ms,n})();function NN(n){let e=_t(n),t=fn(e,1);return{start:e,end:t}}var ph=class extends Dt{constructor(){super(...arguments),this.createDayHeaderFormatter=tt(uZ)}render(){let{context:e}=this,{dates:t,dateProfile:i,datesRepDistinctDays:r,renderIntro:s}=this.props,o=this.createDayHeaderFormatter(e.options.dayHeaderFormat,r,t.length);return k(bv,{unit:"day"},(a,l)=>k("tr",{role:"row"},s&&s("day"),t.map(c=>r?k(J0,{key:c.toISOString(),date:c,dateProfile:i,todayRange:l,colCnt:t.length,dayHeaderFormat:o}):k(ev,{key:c.getUTCDay(),dow:c.getUTCDay(),dayHeaderFormat:o}))))}};function uZ(n,e,t){return n||CF(e,t)}var fh=class{constructor(e,t){let i=e.start,{end:r}=e,s=[],o=[],a=-1;for(;i<r;)t.isHiddenDay(i)?s.push(a+.5):(a+=1,s.push(a),o.push(i)),i=fn(i,1);this.dates=o,this.indices=s,this.cnt=o.length}sliceRange(e){let t=this.getDateDayIndex(e.start),i=this.getDateDayIndex(fn(e.end,-1)),r=Math.max(0,t),s=Math.min(this.cnt-1,i);return r=Math.ceil(r),s=Math.floor(s),r<=s?{firstIndex:r,lastIndex:s,isStart:t===r,isEnd:i===s}:null}getDateDayIndex(e){let{indices:t}=this,i=Math.floor(ja(this.dates[0],e));return i<0?t[0]-1:i>=t.length?t[t.length-1]+1:t[i]}},mh=class{constructor(e,t){let{dates:i}=e,r,s,o;if(t){for(s=i[0].getUTCDay(),r=1;r<i.length&&i[r].getUTCDay()!==s;r+=1);o=Math.ceil(i.length/r)}else o=1,r=i.length;this.rowCnt=o,this.colCnt=r,this.daySeries=e,this.cells=this.buildCells(),this.headerDates=this.buildHeaderDates()}buildCells(){let e=[];for(let t=0;t<this.rowCnt;t+=1){let i=[];for(let r=0;r<this.colCnt;r+=1)i.push(this.buildCell(t,r));e.push(i)}return e}buildCell(e,t){let i=this.daySeries.dates[e*this.colCnt+t];return{key:i.toISOString(),date:i}}buildHeaderDates(){let e=[];for(let t=0;t<this.colCnt;t+=1)e.push(this.cells[0][t].date);return e}sliceRange(e){let{colCnt:t}=this,i=this.daySeries.sliceRange(e),r=[];if(i){let{firstIndex:s,lastIndex:o}=i,a=s;for(;a<=o;){let l=Math.floor(a/t),c=Math.min((l+1)*t,o+1);r.push({row:l,firstCol:a%t,lastCol:(c-1)%t,isStart:i.isStart&&a===s,isEnd:i.isEnd&&c-1===o}),a=c}}return r}},gh=class{constructor(){this.sliceBusinessHours=tt(this._sliceBusinessHours),this.sliceDateSelection=tt(this._sliceDateSpan),this.sliceEventStore=tt(this._sliceEventStore),this.sliceEventDrag=tt(this._sliceInteraction),this.sliceEventResize=tt(this._sliceInteraction),this.forceDayIfListItem=!1}sliceProps(e,t,i,r,...s){let{eventUiBases:o}=e,a=this.sliceEventStore(e.eventStore,o,t,i,...s);return{dateSelectionSegs:this.sliceDateSelection(e.dateSelection,t,i,o,r,...s),businessHourSegs:this.sliceBusinessHours(e.businessHours,t,i,r,...s),fgEventSegs:a.fg,bgEventSegs:a.bg,eventDrag:this.sliceEventDrag(e.eventDrag,o,t,i,...s),eventResize:this.sliceEventResize(e.eventResize,o,t,i,...s),eventSelection:e.eventSelection}}sliceNowDate(e,t,i,r,...s){return this._sliceDateSpan({range:{start:e,end:Zr(e,1)},allDay:!1},t,i,{},r,...s)}_sliceBusinessHours(e,t,i,r,...s){return e?this._sliceEventStore(La(e,V0(t,!!i),r),{},t,i,...s).bg:[]}_sliceEventStore(e,t,i,r,...s){if(e){let o=X0(e,t,V0(i,!!r),r);return{bg:this.sliceEventRanges(o.bg,s),fg:this.sliceEventRanges(o.fg,s)}}return{bg:[],fg:[]}}_sliceInteraction(e,t,i,r,...s){if(!e)return null;let o=X0(e.mutatedEvents,t,V0(i,!!r),r);return{segs:this.sliceEventRanges(o.fg,s),affectedInstances:e.affectedEvents.instances,isEvent:e.isEvent}}_sliceDateSpan(e,t,i,r,s,...o){if(!e)return[];let a=V0(t,!!i),l=Ts(e.range,a);if(l){e=Object.assign(Object.assign({},e),{range:l});let c=nZ(e,r,s),u=this.sliceRange(e.range,...o);for(let p of u)p.eventRange=c;return u}return[]}sliceEventRanges(e,t){let i=[];for(let r of e)i.push(...this.sliceEventRange(r,t));return i}sliceEventRange(e,t){let i=e.range;this.forceDayIfListItem&&e.ui.display==="list-item"&&(i={start:i.start,end:fn(i.start,1)});let r=this.sliceRange(i,...t);for(let s of r)s.eventRange=e,s.isStart=e.isStart&&s.isStart,s.isEnd=e.isEnd&&s.isEnd;return r}};function V0(n,e){let t=n.activeRange;return e?t:{start:Zr(t.start,n.slotMinTime.milliseconds),end:Zr(t.end,n.slotMaxTime.milliseconds-864e5)}}function xv(n,e,t){let{instances:i}=n.mutatedEvents;for(let r in i)if(!Rc(e.validRange,i[r].range))return!1;return EF({eventDrag:n},t)}function y1(n,e,t){return Rc(e.validRange,n.range)?EF({dateSelection:n},t):!1}function EF(n,e){let t=e.getCurrentData(),i=Object.assign({businessHours:t.businessHours,dateSelection:"",eventStore:t.eventStore,eventUiBases:t.eventUiBases,eventSelection:"",eventDrag:null,eventResize:null},n);return(e.pluginHooks.isPropsValid||DF)(i,e)}function DF(n,e,t={},i){return!(n.eventDrag&&!dZ(n,e,t,i)||n.dateSelection&&!hZ(n,e,t,i))}function dZ(n,e,t,i){let r=e.getCurrentData(),s=n.eventDrag,o=s.mutatedEvents,a=o.defs,l=o.instances,c=Z0(a,s.isEvent?n.eventUiBases:{"":r.selectionConfig});i&&(c=Jr(c,i));let u=PX(n.eventStore,s.affectedEvents.instances),p=u.defs,m=u.instances,f=Z0(p,n.eventUiBases);for(let _ in l){let w=l[_],S=w.range,D=c[w.defId],R=a[w.defId];if(!TF(D.constraints,S,u,n.businessHours,e))return!1;let{eventOverlap:F}=e.options,U=typeof F=="function"?F:null;for(let le in m){let me=m[le];if(cv(S,me.range)&&(f[me.defId].overlap===!1&&s.isEvent||D.overlap===!1||U&&!U(new bt(e,p[me.defId],me),new bt(e,R,w))))return!1}let ne=r.eventStore;for(let le of D.allows){let me=Object.assign(Object.assign({},t),{range:w.range,allDay:R.allDay}),ue=ne.defs[R.defId],ft=ne.instances[_],Tt;if(ue?Tt=new bt(e,ue,ft):Tt=new bt(e,R),!le(r1(me,e),Tt))return!1}}return!0}function hZ(n,e,t,i){let r=n.eventStore,s=r.defs,o=r.instances,a=n.dateSelection,l=a.range,{selectionConfig:c}=e.getCurrentData();if(i&&(c=i(c)),!TF(c.constraints,l,r,n.businessHours,e))return!1;let{selectOverlap:u}=e.options,p=typeof u=="function"?u:null;for(let m in o){let f=o[m];if(cv(l,f.range)&&(c.overlap===!1||p&&!p(new bt(e,s[f.defId],f),null)))return!1}for(let m of c.allows){let f=Object.assign(Object.assign({},t),a);if(!m(r1(f,e),null))return!1}return!0}function TF(n,e,t,i,r){for(let s of n)if(!fZ(pZ(s,e,t,i,r),e))return!1;return!0}function pZ(n,e,t,i,r){return n==="businessHours"?gS(La(i,e,r)):typeof n=="string"?gS(hv(t,s=>s.groupId===n)):typeof n=="object"&&n?gS(La(n,e,r)):[]}function gS(n){let{instances:e}=n,t=[];for(let i in e)t.push(e[i].range);return t}function fZ(n,e){for(let t of n)if(Rc(t,e))return!0;return!1}var B0=/^(visible|hidden)$/,tv=class extends Dt{constructor(){super(...arguments),this.handleEl=e=>{this.el=e,Yi(this.props.elRef,e)}}render(){let{props:e}=this,{liquid:t,liquidIsAbsolute:i}=e,r=t&&i,s=["fc-scroller"];return t&&(i?s.push("fc-scroller-liquid-absolute"):s.push("fc-scroller-liquid")),k("div",{ref:this.handleEl,className:s.join(" "),style:{overflowX:e.overflowX,overflowY:e.overflowY,left:r&&-(e.overcomeLeft||0)||"",right:r&&-(e.overcomeRight||0)||"",bottom:r&&-(e.overcomeBottom||0)||"",marginLeft:!r&&-(e.overcomeLeft||0)||"",marginRight:!r&&-(e.overcomeRight||0)||"",marginBottom:!r&&-(e.overcomeBottom||0)||"",maxHeight:e.maxHeight||""}},e.children)}needsXScrolling(){if(B0.test(this.props.overflowX))return!1;let{el:e}=this,t=this.el.getBoundingClientRect().width-this.getYScrollbarWidth(),{children:i}=e;for(let r=0;r<i.length;r+=1)if(i[r].getBoundingClientRect().width>t)return!0;return!1}needsYScrolling(){if(B0.test(this.props.overflowY))return!1;let{el:e}=this,t=this.el.getBoundingClientRect().height-this.getXScrollbarWidth(),{children:i}=e;for(let r=0;r<i.length;r+=1)if(i[r].getBoundingClientRect().height>t)return!0;return!1}getXScrollbarWidth(){return B0.test(this.props.overflowX)?0:this.el.offsetHeight-this.el.clientHeight}getYScrollbarWidth(){return B0.test(this.props.overflowY)?0:this.el.offsetWidth-this.el.clientWidth}},mr=class{constructor(e){this.masterCallback=e,this.currentMap={},this.depths={},this.callbackMap={},this.handleValue=(t,i)=>{let{depths:r,currentMap:s}=this,o=!1,a=!1;t!==null?(o=i in s,s[i]=t,r[i]=(r[i]||0)+1,a=!0):(r[i]-=1,r[i]||(delete s[i],delete this.callbackMap[i],o=!0)),this.masterCallback&&(o&&this.masterCallback(null,String(i)),a&&this.masterCallback(t,String(i)))}}createRef(e){let t=this.callbackMap[e];return t||(t=this.callbackMap[e]=i=>{this.handleValue(i,String(e))}),t}collect(e,t,i){return JN(this.currentMap,e,t,i)}getAll(){return lv(this.currentMap)}};function AF(n){let e=HN(n,".fc-scrollgrid-shrink"),t=0;for(let i of e)t=Math.max(t,NQ(i));return Math.ceil(t)}function _1(n,e){return n.liquid&&e.liquid}function IF(n,e){return e.maxHeight!=null||_1(n,e)}function MF(n,e,t,i){let{expandRows:r}=t;return typeof e.content=="function"?e.content(t):k("table",{role:"presentation",className:[e.tableClassName,n.syncRowHeights?"fc-scrollgrid-sync-table":""].join(" "),style:{minWidth:t.tableMinWidth,width:t.clientWidth,height:r?t.clientHeight:""}},t.tableColGroupNode,k(i?"thead":"tbody",{role:"presentation"},typeof e.rowContent=="function"?e.rowContent(t):e.rowContent))}function kF(n,e){return Kr(n,e,Oi)}function RF(n,e){let t=[];for(let i of n){let r=i.span||1;for(let s=0;s<r;s+=1)t.push(k("col",{style:{width:i.width==="shrink"?OF(e):i.width||"",minWidth:i.minWidth||""}}))}return k("colgroup",{},...t)}function OF(n){return n??4}function LF(n){for(let e of n)if(e.width==="shrink")return!0;return!1}function NF(n,e){let t=["fc-scrollgrid",e.theme.getClass("table")];return n&&t.push("fc-scrollgrid-liquid"),t}function FF(n,e){let t=["fc-scrollgrid-section",`fc-scrollgrid-section-${n.type}`,n.className];return e&&n.liquid&&n.maxHeight==null&&t.push("fc-scrollgrid-section-liquid"),n.isSticky&&t.push("fc-scrollgrid-section-sticky"),t}function b1(n){return k("div",{className:"fc-scrollgrid-sticky-shim",style:{width:n.clientWidth,minWidth:n.tableMinWidth}})}function Cv(n){let{stickyHeaderDates:e}=n;return(e==null||e==="auto")&&(e=n.height==="auto"||n.viewHeight==="auto"),e}function x1(n){let{stickyFooterScrollbar:e}=n;return(e==null||e==="auto")&&(e=n.height==="auto"||n.viewHeight==="auto"),e}var Ac=class extends Dt{constructor(){super(...arguments),this.processCols=tt(e=>e,kF),this.renderMicroColGroup=tt(RF),this.scrollerRefs=new mr,this.scrollerElRefs=new mr(this._handleScrollerEl.bind(this)),this.state={shrinkWidth:null,forceYScrollbars:!1,scrollerClientWidths:{},scrollerClientHeights:{}},this.handleSizing=()=>{this.safeSetState(Object.assign({shrinkWidth:this.computeShrinkWidth()},this.computeScrollerDims()))}}render(){let{props:e,state:t,context:i}=this,r=e.sections||[],s=this.processCols(e.cols),o=this.renderMicroColGroup(s,t.shrinkWidth),a=NF(e.liquid,i);e.collapsibleWidth&&a.push("fc-scrollgrid-collapsible");let l=r.length,c=0,u,p=[],m=[],f=[];for(;c<l&&(u=r[c]).type==="header";)p.push(this.renderSection(u,o,!0)),c+=1;for(;c<l&&(u=r[c]).type==="body";)m.push(this.renderSection(u,o,!1)),c+=1;for(;c<l&&(u=r[c]).type==="footer";)f.push(this.renderSection(u,o,!0)),c+=1;let _=!d1(),w={role:"rowgroup"};return k("table",{role:"grid",className:a.join(" "),style:{height:e.height}},!!(!_&&p.length)&&k("thead",w,...p),!!(!_&&m.length)&&k("tbody",w,...m),!!(!_&&f.length)&&k("tfoot",w,...f),_&&k("tbody",w,...p,...m,...f))}renderSection(e,t,i){return"outerContent"in e?k(Et,{key:e.key},e.outerContent):k("tr",{key:e.key,role:"presentation",className:FF(e,this.props.liquid).join(" ")},this.renderChunkTd(e,t,e.chunk,i))}renderChunkTd(e,t,i,r){if("outerContent"in i)return i.outerContent;let{props:s}=this,{forceYScrollbars:o,scrollerClientWidths:a,scrollerClientHeights:l}=this.state,c=IF(s,e),u=_1(s,e),p=s.liquid?o?"scroll":c?"auto":"hidden":"visible",m=e.key,f=MF(e,i,{tableColGroupNode:t,tableMinWidth:"",clientWidth:!s.collapsibleWidth&&a[m]!==void 0?a[m]:null,clientHeight:l[m]!==void 0?l[m]:null,expandRows:e.expandRows,syncRowHeights:!1,rowSyncHeights:[],reportRowHeightChange:()=>{}},r);return k(r?"th":"td",{ref:i.elRef,role:"presentation"},k("div",{className:`fc-scroller-harness${u?" fc-scroller-harness-liquid":""}`},k(tv,{ref:this.scrollerRefs.createRef(m),elRef:this.scrollerElRefs.createRef(m),overflowY:p,overflowX:s.liquid?"hidden":"visible",maxHeight:e.maxHeight,liquid:u,liquidIsAbsolute:!0},f)))}_handleScrollerEl(e,t){let i=mZ(this.props.sections,t);i&&Yi(i.chunk.scrollerElRef,e)}componentDidMount(){this.handleSizing(),this.context.addResizeHandler(this.handleSizing)}componentDidUpdate(){this.handleSizing()}componentWillUnmount(){this.context.removeResizeHandler(this.handleSizing)}computeShrinkWidth(){return LF(this.props.cols)?AF(this.scrollerElRefs.getAll()):0}computeScrollerDims(){let e=_F(),{scrollerRefs:t,scrollerElRefs:i}=this,r=!1,s={},o={};for(let a in t.currentMap){let l=t.currentMap[a];if(l&&l.needsYScrolling()){r=!0;break}}for(let a of this.props.sections){let l=a.key,c=i.currentMap[l];if(c){let u=c.parentNode;s[l]=Math.floor(u.getBoundingClientRect().width-(r?e.y:0)),o[l]=Math.floor(u.getBoundingClientRect().height)}}return{forceYScrollbars:r,scrollerClientWidths:s,scrollerClientHeights:o}}};Ac.addStateEquality({scrollerClientWidths:Oi,scrollerClientHeights:Oi});function mZ(n,e){for(let t of n)if(t.key===e)return t;return null}var Pa=class extends Dt{constructor(){super(...arguments),this.handleEl=e=>{this.el=e,e&&LN(e,this.props.seg)}}render(){let{props:e,context:t}=this,{options:i}=t,{seg:r}=e,{eventRange:s}=r,{ui:o}=s,a={event:new bt(t,s.def,s.instance),view:t.viewApi,timeText:e.timeText,textColor:o.textColor,backgroundColor:o.backgroundColor,borderColor:o.borderColor,isDraggable:!e.disableDragging&&WX(r,t),isStartResizable:!e.disableResizing&&YX(r,t),isEndResizable:!e.disableResizing&&QX(r),isMirror:!!(e.isDragging||e.isResizing||e.isDateSelecting),isStart:!!r.isStart,isEnd:!!r.isEnd,isPast:!!e.isPast,isFuture:!!e.isFuture,isToday:!!e.isToday,isSelected:!!e.isSelected,isDragging:!!e.isDragging,isResizing:!!e.isResizing};return k(es,Object.assign({},e,{elRef:this.handleEl,elClasses:[...XX(a),...r.eventRange.ui.classNames,...e.elClasses||[]],renderProps:a,generatorName:"eventContent",customGenerator:i.eventContent,defaultGenerator:e.defaultGenerator,classNameGenerator:i.eventClassNames,didMount:i.eventDidMount,willUnmount:i.eventWillUnmount}))}componentDidUpdate(e){this.el&&this.props.seg!==e.seg&&LN(this.el,this.props.seg)}},vh=class extends Dt{render(){let{props:e,context:t}=this,{options:i}=t,{seg:r}=e,{ui:s}=r.eventRange,o=i.eventTimeFormat||e.defaultTimeFormat,a=fv(r,o,t,e.defaultDisplayEventTime,e.defaultDisplayEventEnd);return k(Pa,Object.assign({},e,{elTag:"a",elStyle:{borderColor:s.borderColor,backgroundColor:s.backgroundColor},elAttrs:mv(r,t),defaultGenerator:gZ,timeText:a}),(l,c)=>k(Et,null,k(l,{elTag:"div",elClasses:["fc-event-main"],elStyle:{color:c.textColor}}),!!c.isStartResizable&&k("div",{className:"fc-event-resizer fc-event-resizer-start"}),!!c.isEndResizable&&k("div",{className:"fc-event-resizer fc-event-resizer-end"})))}};function gZ(n){return k("div",{className:"fc-event-main-frame"},n.timeText&&k("div",{className:"fc-event-time"},n.timeText),k("div",{className:"fc-event-title-container"},k("div",{className:"fc-event-title fc-sticky"},n.event.title||k(Et,null,"\xA0"))))}var vZ=Kt({day:"numeric"}),Ic=class extends Dt{constructor(){super(...arguments),this.refineRenderProps=kc(yZ)}render(){let{props:e,context:t}=this,{options:i}=t,r=this.refineRenderProps({date:e.date,dateProfile:e.dateProfile,todayRange:e.todayRange,isMonthStart:e.isMonthStart||!1,showDayNumber:e.showDayNumber,extraRenderProps:e.extraRenderProps,viewApi:t.viewApi,dateEnv:t.dateEnv,monthStartFormat:i.monthStartFormat});return k(es,Object.assign({},e,{elClasses:[...vv(r,t.theme),...e.elClasses||[]],elAttrs:Object.assign(Object.assign({},e.elAttrs),r.isDisabled?{}:{"data-date":Eh(e.date)}),renderProps:r,generatorName:"dayCellContent",customGenerator:i.dayCellContent,defaultGenerator:e.defaultGenerator,classNameGenerator:r.isDisabled?void 0:i.dayCellClassNames,didMount:i.dayCellDidMount,willUnmount:i.dayCellWillUnmount}))}};function wv(n){return!!(n.dayCellContent||ES("dayCellContent",n))}function yZ(n){let{date:e,dateEnv:t,dateProfile:i,isMonthStart:r}=n,s=g1(e,n.todayRange,null,i),o=n.showDayNumber?t.format(e,r?n.monthStartFormat:vZ):"";return Object.assign(Object.assign(Object.assign({date:t.toDate(e),view:n.viewApi},s),{isMonthStart:r,dayNumberText:o}),n.extraRenderProps)}var yh=class extends Dt{render(){let{props:e}=this,{seg:t}=e;return k(Pa,{elTag:"div",elClasses:["fc-bg-event"],elStyle:{backgroundColor:t.eventRange.ui.backgroundColor},defaultGenerator:_Z,seg:t,timeText:"",isDragging:!1,isResizing:!1,isDateSelecting:!1,isSelected:!1,isPast:e.isPast,isFuture:e.isFuture,isToday:e.isToday,disableDragging:!0,disableResizing:!0})}};function _Z(n){let{title:e}=n.event;return e&&k("div",{className:"fc-event-title"},n.event.title)}function C1(n){return k("div",{className:`fc-${n}`})}var w1=n=>k(Ms.Consumer,null,e=>{let{dateEnv:t,options:i}=e,{date:r}=n,s=i.weekNumberFormat||n.defaultFormat,o=t.computeWeekNumber(r),a=t.format(r,s);return k(es,Object.assign({},n,{renderProps:{num:o,text:a,date:r},generatorName:"weekNumberContent",customGenerator:i.weekNumberContent,defaultGenerator:bZ,classNameGenerator:i.weekNumberClassNames,didMount:i.weekNumberDidMount,willUnmount:i.weekNumberWillUnmount}))});function bZ(n){return n.text}var vS=10,IS=class extends Dt{constructor(){super(...arguments),this.state={titleId:Ba()},this.handleRootEl=e=>{this.rootEl=e,this.props.elRef&&Yi(this.props.elRef,e)},this.handleDocumentMouseDown=e=>{let t=iv(e);this.rootEl.contains(t)||this.handleCloseClick()},this.handleDocumentKeyDown=e=>{e.key==="Escape"&&this.handleCloseClick()},this.handleCloseClick=()=>{let{onClose:e}=this.props;e&&e()}}render(){let{theme:e,options:t}=this.context,{props:i,state:r}=this,s=["fc-popover",e.getClass("popover")].concat(i.extraClassNames||[]);return CN(k("div",Object.assign({},i.extraAttrs,{id:i.id,className:s.join(" "),"aria-labelledby":r.titleId,ref:this.handleRootEl}),k("div",{className:"fc-popover-header "+e.getClass("popoverHeader")},k("span",{className:"fc-popover-title",id:r.titleId},i.title),k("span",{className:"fc-popover-close "+e.getIconClass("close"),title:t.closeHint,onClick:this.handleCloseClick})),k("div",{className:"fc-popover-body "+e.getClass("popoverContent")},i.children)),i.parentEl)}componentDidMount(){document.addEventListener("mousedown",this.handleDocumentMouseDown),document.addEventListener("keydown",this.handleDocumentKeyDown),this.updateSize()}componentWillUnmount(){document.removeEventListener("mousedown",this.handleDocumentMouseDown),document.removeEventListener("keydown",this.handleDocumentKeyDown)}updateSize(){let{isRtl:e}=this.context,{alignmentEl:t,alignGridTop:i}=this.props,{rootEl:r}=this,s=lZ(t);if(s){let o=r.getBoundingClientRect(),a=i?pn(t,".fc-scrollgrid").getBoundingClientRect().top:s.top,l=e?s.right-o.width:s.left;a=Math.max(a,vS),l=Math.min(l,document.documentElement.clientWidth-vS-o.width),l=Math.max(l,vS);let c=r.offsetParent.getBoundingClientRect();Va(r,{top:a-c.top,left:l-c.left})}}},MS=class extends fr{constructor(){super(...arguments),this.handleRootEl=e=>{this.rootEl=e,e?this.context.registerInteractiveComponent(this,{el:e,useEventCenter:!1}):this.context.unregisterInteractiveComponent(this)}}render(){let{options:e,dateEnv:t}=this.context,{props:i}=this,{startDate:r,todayRange:s,dateProfile:o}=i,a=t.format(r,e.dayPopoverFormat);return k(Ic,{elRef:this.handleRootEl,date:r,dateProfile:o,todayRange:s},(l,c,u)=>k(IS,{elRef:u.ref,id:i.id,title:a,extraClassNames:["fc-more-popover"].concat(u.className||[]),extraAttrs:u,parentEl:i.parentEl,alignmentEl:i.alignmentEl,alignGridTop:i.alignGridTop,onClose:i.onClose},wv(e)&&k(l,{elTag:"div",elClasses:["fc-more-popover-misc"]}),i.children))}queryHit(e,t,i,r){let{rootEl:s,props:o}=this;return e>=0&&e<i&&t>=0&&t<r?{dateProfile:o.dateProfile,dateSpan:Object.assign({allDay:!o.forceTimed,range:{start:o.startDate,end:o.endDate}},o.extraDateSpan),dayEl:s,rect:{left:0,top:0,right:i,bottom:r},layer:1}:null}},_h=class extends Dt{constructor(){super(...arguments),this.state={isPopoverOpen:!1,popoverId:Ba()},this.handleLinkEl=e=>{this.linkEl=e,this.props.elRef&&Yi(this.props.elRef,e)},this.handleClick=e=>{let{props:t,context:i}=this,{moreLinkClick:r}=i.options,s=FN(t).start;function o(a){let{def:l,instance:c,range:u}=a.eventRange;return{event:new bt(i,l,c),start:i.dateEnv.toDate(u.start),end:i.dateEnv.toDate(u.end),isStart:a.isStart,isEnd:a.isEnd}}typeof r=="function"&&(r=r({date:s,allDay:!!t.allDayDate,allSegs:t.allSegs.map(o),hiddenSegs:t.hiddenSegs.map(o),jsEvent:e,view:i.viewApi})),!r||r==="popover"?this.setState({isPopoverOpen:!0}):typeof r=="string"&&i.calendarApi.zoomTo(s,r)},this.handlePopoverClose=()=>{this.setState({isPopoverOpen:!1})}}render(){let{props:e,state:t}=this;return k(Ms.Consumer,null,i=>{let{viewApi:r,options:s,calendarApi:o}=i,{moreLinkText:a}=s,{moreCnt:l}=e,c=FN(e),u=typeof a=="function"?a.call(o,l):`+${l} ${a}`,p=Mc(s.moreLinkHint,[l],u),m={num:l,shortText:`+${l}`,text:u,view:r};return k(Et,null,!!e.moreCnt&&k(es,{elTag:e.elTag||"a",elRef:this.handleLinkEl,elClasses:[...e.elClasses||[],"fc-more-link"],elStyle:e.elStyle,elAttrs:Object.assign(Object.assign(Object.assign({},e.elAttrs),$N(this.handleClick)),{title:p,"aria-expanded":t.isPopoverOpen,"aria-controls":t.isPopoverOpen?t.popoverId:""}),renderProps:m,generatorName:"moreLinkContent",customGenerator:s.moreLinkContent,defaultGenerator:e.defaultGenerator||xZ,classNameGenerator:s.moreLinkClassNames,didMount:s.moreLinkDidMount,willUnmount:s.moreLinkWillUnmount},e.children),t.isPopoverOpen&&k(MS,{id:t.popoverId,startDate:c.start,endDate:c.end,dateProfile:e.dateProfile,todayRange:e.todayRange,extraDateSpan:e.extraDateSpan,parentEl:this.parentEl,alignmentEl:e.alignmentElRef?e.alignmentElRef.current:this.linkEl,alignGridTop:e.alignGridTop,forceTimed:e.forceTimed,onClose:this.handlePopoverClose},e.popoverContent()))})}componentDidMount(){this.updateParentEl()}componentDidUpdate(){this.updateParentEl()}updateParentEl(){this.linkEl&&(this.parentEl=pn(this.linkEl,".fc-view-harness"))}};function xZ(n){return n.text}function FN(n){if(n.allDayDate)return{start:n.allDayDate,end:fn(n.allDayDate,1)};let{hiddenSegs:e}=n;return{start:PF(e),end:wZ(e)}}function PF(n){return n.reduce(CZ).eventRange.range.start}function CZ(n,e){return n.eventRange.range.start<e.eventRange.range.start?n:e}function wZ(n){return n.reduce(SZ).eventRange.range.end}function SZ(n,e){return n.eventRange.range.end>e.eventRange.range.end?n:e}var kS=class{constructor(){this.handlers=[]}set(e){this.currentValue=e;for(let t of this.handlers)t(e)}subscribe(e){this.handlers.push(e),this.currentValue!==void 0&&e(this.currentValue)}},bh=class extends kS{constructor(){super(...arguments),this.map=new Map}handle(e){let{map:t}=this,i=!1;e.isActive?(t.set(e.id,e),i=!0):t.has(e.id)&&(t.delete(e.id),i=!0),i&&this.set(t)}};var EZ=[],UF={code:"en",week:{dow:0,doy:4},direction:"ltr",buttonText:{prev:"prev",next:"next",prevYear:"prev year",nextYear:"next year",year:"year",today:"today",month:"month",week:"week",day:"day",list:"list"},weekText:"W",weekTextLong:"Week",closeHint:"Close",timeHint:"Time",eventHint:"Event",allDayText:"all-day",moreLinkText:"more",noEventsText:"No events to display"},GF=Object.assign(Object.assign({},UF),{buttonHints:{prev:"Previous $0",next:"Next $0",today(n,e){return e==="day"?"Today":`This ${n}`}},viewHint:"$0 view",navLinkHint:"Go to $0",moreLinkHint(n){return`Show ${n} more event${n===1?"":"s"}`}});function DZ(n){let e=n.length>0?n[0].code:"en",t=EZ.concat(n),i={en:GF};for(let r of t)i[r.code]=r;return{map:i,defaultCode:e}}function qF(n,e){return typeof n=="object"&&!Array.isArray(n)?WF(n.code,[n.code],n):TZ(n,e)}function TZ(n,e){let t=[].concat(n||[]),i=AZ(t,e)||GF;return WF(n,t,i)}function AZ(n,e){for(let t=0;t<n.length;t+=1){let i=n[t].toLocaleLowerCase().split("-");for(let r=i.length;r>0;r-=1){let s=i.slice(0,r).join("-");if(e[s])return e[s]}}return null}function WF(n,e,t){let i=av([UF,t],["buttonText"]);delete i.code;let{week:r}=i;return delete i.week,{codeArg:n,codes:e,week:r,simpleNumberFormat:new Intl.NumberFormat(n),options:i}}function is(n){return{id:Is(),name:n.name,premiumReleaseDate:n.premiumReleaseDate?new Date(n.premiumReleaseDate):void 0,deps:n.deps||[],reducers:n.reducers||[],isLoadingFuncs:n.isLoadingFuncs||[],contextInit:[].concat(n.contextInit||[]),eventRefiners:n.eventRefiners||{},eventDefMemberAdders:n.eventDefMemberAdders||[],eventSourceRefiners:n.eventSourceRefiners||{},isDraggableTransformers:n.isDraggableTransformers||[],eventDragMutationMassagers:n.eventDragMutationMassagers||[],eventDefMutationAppliers:n.eventDefMutationAppliers||[],dateSelectionTransformers:n.dateSelectionTransformers||[],datePointTransforms:n.datePointTransforms||[],dateSpanTransforms:n.dateSpanTransforms||[],views:n.views||{},viewPropsTransformers:n.viewPropsTransformers||[],isPropsValid:n.isPropsValid||null,externalDefTransforms:n.externalDefTransforms||[],viewContainerAppends:n.viewContainerAppends||[],eventDropTransformers:n.eventDropTransformers||[],componentInteractions:n.componentInteractions||[],calendarInteractions:n.calendarInteractions||[],themeClasses:n.themeClasses||{},eventSourceDefs:n.eventSourceDefs||[],cmdFormatter:n.cmdFormatter,recurringTypes:n.recurringTypes||[],namedTimeZonedImpl:n.namedTimeZonedImpl,initialView:n.initialView||"",elementDraggingImpl:n.elementDraggingImpl,optionChangeHandlers:n.optionChangeHandlers||{},scrollGridImpl:n.scrollGridImpl||null,listenerRefiners:n.listenerRefiners||{},optionRefiners:n.optionRefiners||{},propSetHandlers:n.propSetHandlers||{}}}function IZ(n,e){let t={},i={premiumReleaseDate:void 0,reducers:[],isLoadingFuncs:[],contextInit:[],eventRefiners:{},eventDefMemberAdders:[],eventSourceRefiners:{},isDraggableTransformers:[],eventDragMutationMassagers:[],eventDefMutationAppliers:[],dateSelectionTransformers:[],datePointTransforms:[],dateSpanTransforms:[],views:{},viewPropsTransformers:[],isPropsValid:null,externalDefTransforms:[],viewContainerAppends:[],eventDropTransformers:[],componentInteractions:[],calendarInteractions:[],themeClasses:{},eventSourceDefs:[],cmdFormatter:null,recurringTypes:[],namedTimeZonedImpl:null,initialView:"",elementDraggingImpl:null,optionChangeHandlers:{},scrollGridImpl:null,listenerRefiners:{},optionRefiners:{},propSetHandlers:{}};function r(s){for(let o of s){let a=o.name,l=t[a];l===void 0?(t[a]=o.id,r(o.deps),i=kZ(i,o)):l!==o.id&&console.warn(`Duplicate plugin '${a}'`)}}return n&&r(n),r(e),i}function MZ(){let n=[],e=[],t;return(i,r)=>((!t||!Kr(i,n)||!Kr(r,e))&&(t=IZ(i,r)),n=i,e=r,t)}function kZ(n,e){return{premiumReleaseDate:RZ(n.premiumReleaseDate,e.premiumReleaseDate),reducers:n.reducers.concat(e.reducers),isLoadingFuncs:n.isLoadingFuncs.concat(e.isLoadingFuncs),contextInit:n.contextInit.concat(e.contextInit),eventRefiners:Object.assign(Object.assign({},n.eventRefiners),e.eventRefiners),eventDefMemberAdders:n.eventDefMemberAdders.concat(e.eventDefMemberAdders),eventSourceRefiners:Object.assign(Object.assign({},n.eventSourceRefiners),e.eventSourceRefiners),isDraggableTransformers:n.isDraggableTransformers.concat(e.isDraggableTransformers),eventDragMutationMassagers:n.eventDragMutationMassagers.concat(e.eventDragMutationMassagers),eventDefMutationAppliers:n.eventDefMutationAppliers.concat(e.eventDefMutationAppliers),dateSelectionTransformers:n.dateSelectionTransformers.concat(e.dateSelectionTransformers),datePointTransforms:n.datePointTransforms.concat(e.datePointTransforms),dateSpanTransforms:n.dateSpanTransforms.concat(e.dateSpanTransforms),views:Object.assign(Object.assign({},n.views),e.views),viewPropsTransformers:n.viewPropsTransformers.concat(e.viewPropsTransformers),isPropsValid:e.isPropsValid||n.isPropsValid,externalDefTransforms:n.externalDefTransforms.concat(e.externalDefTransforms),viewContainerAppends:n.viewContainerAppends.concat(e.viewContainerAppends),eventDropTransformers:n.eventDropTransformers.concat(e.eventDropTransformers),calendarInteractions:n.calendarInteractions.concat(e.calendarInteractions),componentInteractions:n.componentInteractions.concat(e.componentInteractions),themeClasses:Object.assign(Object.assign({},n.themeClasses),e.themeClasses),eventSourceDefs:n.eventSourceDefs.concat(e.eventSourceDefs),cmdFormatter:e.cmdFormatter||n.cmdFormatter,recurringTypes:n.recurringTypes.concat(e.recurringTypes),namedTimeZonedImpl:e.namedTimeZonedImpl||n.namedTimeZonedImpl,initialView:n.initialView||e.initialView,elementDraggingImpl:n.elementDraggingImpl||e.elementDraggingImpl,optionChangeHandlers:Object.assign(Object.assign({},n.optionChangeHandlers),e.optionChangeHandlers),scrollGridImpl:e.scrollGridImpl||n.scrollGridImpl,listenerRefiners:Object.assign(Object.assign({},n.listenerRefiners),e.listenerRefiners),optionRefiners:Object.assign(Object.assign({},n.optionRefiners),e.optionRefiners),propSetHandlers:Object.assign(Object.assign({},n.propSetHandlers),e.propSetHandlers)}}function RZ(n,e){return n===void 0?e:e===void 0?n:new Date(Math.max(n.valueOf(),e.valueOf()))}var ns=class extends Ds{};ns.prototype.classes={root:"fc-theme-standard",tableCellShaded:"fc-cell-shaded",buttonGroup:"fc-button-group",button:"fc-button fc-button-primary",buttonActive:"fc-button-active"};ns.prototype.baseIconClass="fc-icon";ns.prototype.iconClasses={close:"fc-icon-x",prev:"fc-icon-chevron-left",next:"fc-icon-chevron-right",prevYear:"fc-icon-chevrons-left",nextYear:"fc-icon-chevrons-right"};ns.prototype.rtlIconClasses={prev:"fc-icon-chevron-right",next:"fc-icon-chevron-left",prevYear:"fc-icon-chevrons-right",nextYear:"fc-icon-chevrons-left"};ns.prototype.iconOverrideOption="buttonIcons";ns.prototype.iconOverrideCustomButtonOption="icon";ns.prototype.iconOverridePrefix="fc-icon-";function OZ(n,e){let t={},i;for(i in n)E1(i,t,n,e);for(i in e)E1(i,t,n,e);return t}function E1(n,e,t,i){if(e[n])return e[n];let r=LZ(n,e,t,i);return r&&(e[n]=r),r}function LZ(n,e,t,i){let r=t[n],s=i[n],o=u=>r&&r[u]!==null?r[u]:s&&s[u]!==null?s[u]:null,a=o("component"),l=o("superType"),c=null;if(l){if(l===n)throw new Error("Can't have a custom view type that references itself");c=E1(l,e,t,i)}return!a&&c&&(a=c.component),a?{type:n,component:a,defaults:Object.assign(Object.assign({},c?c.defaults:{}),r?r.rawOptions:{}),overrides:Object.assign(Object.assign({},c?c.overrides:{}),s?s.rawOptions:{})}:null}function VF(n){return Jr(n,NZ)}function NZ(n){let e=typeof n=="function"?{component:n}:n,{component:t}=e;return e.content?t=BF(e):t&&!(t.prototype instanceof Dt)&&(t=BF(Object.assign(Object.assign({},e),{content:t}))),{superType:e.type,component:t,rawOptions:e}}function BF(n){return e=>k(Ms.Consumer,null,t=>k(es,{elTag:"div",elClasses:ZS(t.viewSpec),renderProps:Object.assign(Object.assign({},e),{nextDayThreshold:t.options.nextDayThreshold}),generatorName:void 0,customGenerator:n.content,classNameGenerator:n.classNames,didMount:n.didMount,willUnmount:n.willUnmount}))}function FZ(n,e,t,i){let r=VF(n),s=VF(e.views),o=OZ(r,s);return Jr(o,a=>PZ(a,s,e,t,i))}function PZ(n,e,t,i,r){let s=n.overrides.duration||n.defaults.duration||i.duration||t.duration,o=null,a="",l="",c={};if(s&&(o=VZ(s),o)){let m=eh(o);a=m.unit,m.value===1&&(l=a,c=e[a]?e[a].rawOptions:{})}let u=m=>{let f=m.buttonText||{},_=n.defaults.buttonTextKey;return _!=null&&f[_]!=null?f[_]:f[n.type]!=null?f[n.type]:f[l]!=null?f[l]:null},p=m=>{let f=m.buttonHints||{},_=n.defaults.buttonTextKey;return _!=null&&f[_]!=null?f[_]:f[n.type]!=null?f[n.type]:f[l]!=null?f[l]:null};return{type:n.type,component:n.component,duration:o,durationUnit:a,singleUnit:l,optionDefaults:n.defaults,optionOverrides:Object.assign(Object.assign({},c),n.overrides),buttonTextOverride:u(i)||u(t)||n.overrides.buttonText,buttonTextDefault:u(r)||n.defaults.buttonText||u(Fo)||n.type,buttonTitleOverride:p(i)||p(t)||n.overrides.buttonHint,buttonTitleDefault:p(r)||n.defaults.buttonHint||p(Fo)}}var jF={};function VZ(n){let e=JSON.stringify(n),t=jF[e];return t===void 0&&(t=et(n),jF[e]=t),t}function BZ(n,e){switch(e.type){case"CHANGE_VIEW_TYPE":n=e.viewType}return n}function jZ(n,e){switch(e.type){case"SET_OPTION":return Object.assign(Object.assign({},n),{[e.optionName]:e.rawOptionValue});default:return n}}function HZ(n,e,t,i){let r;switch(e.type){case"CHANGE_VIEW_TYPE":return i.build(e.dateMarker||t);case"CHANGE_DATE":return i.build(e.dateMarker);case"PREV":if(r=i.buildPrev(n,t),r.isValid)return r;break;case"NEXT":if(r=i.buildNext(n,t),r.isValid)return r;break}return n}function zZ(n,e,t){let i=e?e.activeRange:null;return QF({},QZ(n,t),i,t)}function $Z(n,e,t,i){let r=t?t.activeRange:null;switch(e.type){case"ADD_EVENT_SOURCES":return QF(n,e.sources,r,i);case"REMOVE_EVENT_SOURCE":return GZ(n,e.sourceId);case"PREV":case"NEXT":case"CHANGE_DATE":case"CHANGE_VIEW_TYPE":return t?XF(n,r,i):n;case"FETCH_EVENT_SOURCES":return L1(n,e.sourceIds?YS(e.sourceIds):ZF(n,i),r,e.isRefetch||!1,i);case"RECEIVE_EVENTS":case"RECEIVE_EVENT_ERROR":return YZ(n,e.sourceId,e.fetchId,e.fetchRange);case"REMOVE_ALL_EVENT_SOURCES":return{};default:return n}}function UZ(n,e,t){let i=e?e.activeRange:null;return L1(n,ZF(n,t),i,!0,t)}function YF(n){for(let e in n)if(n[e].isFetching)return!0;return!1}function QF(n,e,t,i){let r={};for(let s of e)r[s.sourceId]=s;return t&&(r=XF(r,t,i)),Object.assign(Object.assign({},n),r)}function GZ(n,e){return Es(n,t=>t.sourceId!==e)}function XF(n,e,t){return L1(n,Es(n,i=>qZ(i,e,t)),e,!1,t)}function qZ(n,e,t){return KF(n,t)?!t.options.lazyFetching||!n.fetchRange||n.isFetching||e.start<n.fetchRange.start||e.end>n.fetchRange.end:!n.latestFetchId}function L1(n,e,t,i,r){let s={};for(let o in n){let a=n[o];e[o]?s[o]=WZ(a,t,i,r):s[o]=a}return s}function WZ(n,e,t,i){let{options:r,calendarApi:s}=i,o=i.pluginHooks.eventSourceDefs[n.sourceDefId],a=Is();return o.fetch({eventSource:n,range:e,isRefetch:t,context:i},l=>{let{rawEvents:c}=l;r.eventSourceSuccess&&(c=r.eventSourceSuccess.call(s,c,l.response)||c),n.success&&(c=n.success.call(s,c,l.response)||c),i.dispatch({type:"RECEIVE_EVENTS",sourceId:n.sourceId,fetchId:a,fetchRange:e,rawEvents:c})},l=>{let c=!1;r.eventSourceFailure&&(r.eventSourceFailure.call(s,l),c=!0),n.failure&&(n.failure(l),c=!0),c||console.warn(l.message,l),i.dispatch({type:"RECEIVE_EVENT_ERROR",sourceId:n.sourceId,fetchId:a,fetchRange:e,error:l})}),Object.assign(Object.assign({},n),{isFetching:!0,latestFetchId:a})}function YZ(n,e,t,i){let r=n[e];return r&&t===r.latestFetchId?Object.assign(Object.assign({},n),{[e]:Object.assign(Object.assign({},r),{isFetching:!1,fetchRange:i})}):n}function ZF(n,e){return Es(n,t=>KF(t,e))}function QZ(n,e){let t=t1(e),i=[].concat(n.eventSources||[]),r=[];n.initialEvents&&i.unshift(n.initialEvents),n.events&&i.unshift(n.events);for(let s of i){let o=e1(s,e,t);o&&r.push(o)}return r}function KF(n,e){return!e.pluginHooks.eventSourceDefs[n.sourceDefId].ignoreRange}function XZ(n,e){switch(e.type){case"UNSELECT_DATES":return null;case"SELECT_DATES":return e.selection;default:return n}}function ZZ(n,e){switch(e.type){case"UNSELECT_EVENT":return"";case"SELECT_EVENT":return e.eventInstanceId;default:return n}}function KZ(n,e){let t;switch(e.type){case"UNSET_EVENT_DRAG":return null;case"SET_EVENT_DRAG":return t=e.state,{affectedEvents:t.affectedEvents,mutatedEvents:t.mutatedEvents,isEvent:t.isEvent};default:return n}}function JZ(n,e){let t;switch(e.type){case"UNSET_EVENT_RESIZE":return null;case"SET_EVENT_RESIZE":return t=e.state,{affectedEvents:t.affectedEvents,mutatedEvents:t.mutatedEvents,isEvent:t.isEvent};default:return n}}function eK(n,e,t,i,r){let s=n.headerToolbar?HF(n.headerToolbar,n,e,t,i,r):null,o=n.footerToolbar?HF(n.footerToolbar,n,e,t,i,r):null;return{header:s,footer:o}}function HF(n,e,t,i,r,s){let o={},a=[],l=!1;for(let c in n){let u=n[c],p=tK(u,e,t,i,r,s);o[c]=p.widgets,a.push(...p.viewsWithButtons),l=l||p.hasTitle}return{sectionWidgets:o,viewsWithButtons:a,hasTitle:l}}function tK(n,e,t,i,r,s){let o=e.direction==="rtl",a=e.customButtons||{},l=t.buttonText||{},c=e.buttonText||{},u=t.buttonHints||{},p=e.buttonHints||{},m=n?n.split(" "):[],f=[],_=!1;return{widgets:m.map(S=>S.split(",").map(D=>{if(D==="title")return _=!0,{buttonName:D};let R,F,U,ne,le,me;if(R=a[D])U=ue=>{R.click&&R.click.call(ue.target,ue,ue.target)},(ne=i.getCustomButtonIconClass(R))||(ne=i.getIconClass(D,o))||(le=R.text),me=R.hint||R.text;else if(F=r[D]){f.push(D),U=()=>{s.changeView(D)},(le=F.buttonTextOverride)||(ne=i.getIconClass(D,o))||(le=F.buttonTextDefault);let ue=F.buttonTextOverride||F.buttonTextDefault;me=Mc(F.buttonTitleOverride||F.buttonTitleDefault||e.viewHint,[ue,D],ue)}else if(s[D])if(U=()=>{s[D]()},(le=l[D])||(ne=i.getIconClass(D,o))||(le=c[D]),D==="prevYear"||D==="nextYear"){let ue=D==="prevYear"?"prev":"next";me=Mc(u[ue]||p[ue],[c.year||"year","year"],c[D])}else me=ue=>Mc(u[D]||p[D],[c[ue]||ue,ue],c[D]);return{buttonName:D,buttonClick:U,buttonIcon:ne,buttonText:le,buttonHint:me}})),viewsWithButtons:f,hasTitle:_}}var D1=class{constructor(e,t,i){this.type=e,this.getCurrentData=t,this.dateEnv=i}get calendar(){return this.getCurrentData().calendarApi}get title(){return this.getCurrentData().viewTitle}get activeStart(){return this.dateEnv.toDate(this.getCurrentData().dateProfile.activeRange.start)}get activeEnd(){return this.dateEnv.toDate(this.getCurrentData().dateProfile.activeRange.end)}get currentStart(){return this.dateEnv.toDate(this.getCurrentData().dateProfile.currentRange.start)}get currentEnd(){return this.dateEnv.toDate(this.getCurrentData().dateProfile.currentRange.end)}getOption(e){return this.getCurrentData().options[e]}},nK={ignoreRange:!0,parseMeta(n){return Array.isArray(n.events)?n.events:null},fetch(n,e){e({rawEvents:n.eventSource.meta})}},iK=is({name:"array-event-source",eventSourceDefs:[nK]}),rK={parseMeta(n){return typeof n.events=="function"?n.events:null},fetch(n,e,t){let{dateEnv:i}=n.context,r=n.eventSource.meta;c1(r.bind(null,l1(n.range,i)),s=>e({rawEvents:s}),t)}},sK=is({name:"func-event-source",eventSourceDefs:[rK]}),oK={method:String,extraParams:M,startParam:String,endParam:String,timeZoneParam:String},aK={parseMeta(n){return n.url&&(n.format==="json"||!n.format)?{url:n.url,format:"json",method:(n.method||"GET").toUpperCase(),extraParams:n.extraParams,startParam:n.startParam,endParam:n.endParam,timeZoneParam:n.timeZoneParam}:null},fetch(n,e,t){let{meta:i}=n.eventSource,r=cK(i,n.range,n.context);u1(i.method,i.url,r).then(([s,o])=>{e({rawEvents:s,response:o})},t)}},lK=is({name:"json-event-source",eventSourceRefiners:oK,eventSourceDefs:[aK]});function cK(n,e,t){let{dateEnv:i,options:r}=t,s,o,a,l,c={};return s=n.startParam,s==null&&(s=r.startParam),o=n.endParam,o==null&&(o=r.endParam),a=n.timeZoneParam,a==null&&(a=r.timeZoneParam),typeof n.extraParams=="function"?l=n.extraParams():l=n.extraParams||{},Object.assign(c,l),c[s]=i.formatIso(e.start),c[o]=i.formatIso(e.end),i.timeZone!=="local"&&(c[a]=i.timeZone),c}var uK={daysOfWeek:M,startTime:et,endTime:et,duration:et,startRecur:M,endRecur:M},dK={parse(n,e){if(n.daysOfWeek||n.startTime||n.endTime||n.startRecur||n.endRecur){let t={daysOfWeek:n.daysOfWeek||null,startTime:n.startTime||null,endTime:n.endTime||null,startRecur:n.startRecur?e.createMarker(n.startRecur):null,endRecur:n.endRecur?e.createMarker(n.endRecur):null},i;return n.duration&&(i=n.duration),!i&&n.startTime&&n.endTime&&(i=YN(n.endTime,n.startTime)),{allDayGuess:!n.startTime&&!n.endTime,duration:i,typeData:t}}return null},expand(n,e,t){let i=Ts(e,{start:n.startRecur,end:n.endRecur});return i?pK(n.daysOfWeek,n.startTime,i,t):[]}},hK=is({name:"simple-recurring-event",recurringTypes:[dK],eventRefiners:uK});function pK(n,e,t,i){let r=n?YS(n):null,s=_t(t.start),o=t.end,a=[];for(;s<o;){let l;(!r||r[s.getUTCDay()])&&(e?l=i.add(s,e):l=s,a.push(l)),s=fn(s,1)}return a}var fK=is({name:"change-handler",optionChangeHandlers:{events(n,e){zF([n],e)},eventSources:zF}});function zF(n,e){let t=lv(e.getCurrentData().eventSources);if(t.length===1&&n.length===1&&Array.isArray(t[0]._raw)&&Array.isArray(n[0])){e.dispatch({type:"RESET_RAW_EVENTS",sourceId:t[0].sourceId,rawEvents:n[0]});return}let i=[];for(let r of n){let s=!1;for(let o=0;o<t.length;o+=1)if(t[o]._raw===r){t.splice(o,1),s=!0;break}s||i.push(r)}for(let r of t)e.dispatch({type:"REMOVE_EVENT_SOURCE",sourceId:r.sourceId});for(let r of i)e.calendarApi.addEventSource(r)}function mK(n,e){e.emitter.trigger("datesSet",Object.assign(Object.assign({},l1(n.activeRange,e.dateEnv)),{view:e.viewApi}))}function gK(n,e){let{emitter:t}=e;t.hasHandlers("eventsSet")&&t.trigger("eventsSet",ts(n,e))}var vK=[iK,sK,lK,hK,fK,is({name:"misc",isLoadingFuncs:[n=>YF(n.eventSources)],propSetHandlers:{dateProfile:mK,eventStore:gK}})],T1=class{constructor(e,t){this.runTaskOption=e,this.drainedOption=t,this.queue=[],this.delayedRunner=new Ra(this.drain.bind(this))}request(e,t){this.queue.push(e),this.delayedRunner.request(t)}pause(e){this.delayedRunner.pause(e)}resume(e,t){this.delayedRunner.resume(e,t)}drain(){let{queue:e}=this;for(;e.length;){let t=[],i;for(;i=e.shift();)this.runTask(i),t.push(i);this.drained(t)}}runTask(e){this.runTaskOption&&this.runTaskOption(e)}drained(e){this.drainedOption&&this.drainedOption(e)}};function yK(n,e,t){let i;return/^(year|month)$/.test(n.currentRangeUnit)?i=n.currentRange:i=n.activeRange,t.formatRange(i.start,i.end,Kt(e.titleFormat||_K(n)),{isEndExclusive:n.isRangeAllDay,defaultSeparator:e.titleRangeSeparator})}function _K(n){let{currentRangeUnit:e}=n;if(e==="year")return{year:"numeric"};if(e==="month")return{year:"numeric",month:"long"};let t=Dc(n.currentRange.start,n.currentRange.end);return t!==null&&t>1?{year:"numeric",month:"short",day:"numeric"}:{year:"numeric",month:"long",day:"numeric"}}var A1=class{constructor(e){this.computeCurrentViewData=tt(this._computeCurrentViewData),this.organizeRawLocales=tt(DZ),this.buildLocale=tt(qF),this.buildPluginHooks=MZ(),this.buildDateEnv=tt(bK),this.buildTheme=tt(xK),this.parseToolbars=tt(eK),this.buildViewSpecs=tt(FZ),this.buildDateProfileGenerator=kc(CK),this.buildViewApi=tt(wK),this.buildViewUiProps=kc(DK),this.buildEventUiBySource=tt(SK,Oi),this.buildEventUiBases=tt(EK),this.parseContextBusinessHours=kc(TK),this.buildTitle=tt(yK),this.emitter=new As,this.actionRunner=new T1(this._handleAction.bind(this),this.updateData.bind(this)),this.currentCalendarOptionsInput={},this.currentCalendarOptionsRefined={},this.currentViewOptionsInput={},this.currentViewOptionsRefined={},this.currentCalendarOptionsRefiners={},this.optionsForRefining=[],this.optionsForHandling=[],this.getCurrentData=()=>this.data,this.dispatch=m=>{this.actionRunner.request(m)},this.props=e,this.actionRunner.pause();let t={},i=this.computeOptionsData(e.optionOverrides,t,e.calendarApi),r=i.calendarOptions.initialView||i.pluginHooks.initialView,s=this.computeCurrentViewData(r,i,e.optionOverrides,t);e.calendarApi.currentDataManager=this,this.emitter.setThisContext(e.calendarApi),this.emitter.setOptions(s.options);let o=aF(i.calendarOptions,i.dateEnv),a=s.dateProfileGenerator.build(o);Xr(a.activeRange,o)||(o=a.currentRange.start);let l={dateEnv:i.dateEnv,options:i.calendarOptions,pluginHooks:i.pluginHooks,calendarApi:e.calendarApi,dispatch:this.dispatch,emitter:this.emitter,getCurrentData:this.getCurrentData};for(let m of i.pluginHooks.contextInit)m(l);let c=zZ(i.calendarOptions,a,l),u={dynamicOptionOverrides:t,currentViewType:r,currentDate:o,dateProfile:a,businessHours:this.parseContextBusinessHours(l),eventSources:c,eventUiBases:{},eventStore:oi(),renderableEventStore:oi(),dateSelection:null,eventSelection:"",eventDrag:null,eventResize:null,selectionConfig:this.buildViewUiProps(l).selectionConfig},p=Object.assign(Object.assign({},l),u);for(let m of i.pluginHooks.reducers)Object.assign(u,m(null,null,p));S1(u,l)&&this.emitter.trigger("loading",!0),this.state=u,this.updateData(),this.actionRunner.resume()}resetOptions(e,t){let{props:i}=this;t===void 0?i.optionOverrides=e:(i.optionOverrides=Object.assign(Object.assign({},i.optionOverrides||{}),e),this.optionsForRefining.push(...t)),(t===void 0||t.length)&&this.actionRunner.request({type:"NOTHING"})}_handleAction(e){let{props:t,state:i,emitter:r}=this,s=jZ(i.dynamicOptionOverrides,e),o=this.computeOptionsData(t.optionOverrides,s,t.calendarApi),a=BZ(i.currentViewType,e),l=this.computeCurrentViewData(a,o,t.optionOverrides,s);t.calendarApi.currentDataManager=this,r.setThisContext(t.calendarApi),r.setOptions(l.options);let c={dateEnv:o.dateEnv,options:o.calendarOptions,pluginHooks:o.pluginHooks,calendarApi:t.calendarApi,dispatch:this.dispatch,emitter:r,getCurrentData:this.getCurrentData},{currentDate:u,dateProfile:p}=i;this.data&&this.data.dateProfileGenerator!==l.dateProfileGenerator&&(p=l.dateProfileGenerator.build(u)),u=oF(u,e),p=HZ(p,e,u,l.dateProfileGenerator),(e.type==="PREV"||e.type==="NEXT"||!Xr(p.currentRange,u))&&(u=p.currentRange.start);let m=$Z(i.eventSources,e,p,c),f=dF(i.eventStore,e,m,p,c),w=YF(m)&&!l.options.progressiveEventRendering&&i.renderableEventStore||f,{eventUiSingleBase:S,selectionConfig:D}=this.buildViewUiProps(c),R=this.buildEventUiBySource(m),F=this.buildEventUiBases(w.defs,S,R),U={dynamicOptionOverrides:s,currentViewType:a,currentDate:u,dateProfile:p,eventSources:m,eventStore:f,renderableEventStore:w,selectionConfig:D,eventUiBases:F,businessHours:this.parseContextBusinessHours(c),dateSelection:XZ(i.dateSelection,e),eventSelection:ZZ(i.eventSelection,e),eventDrag:KZ(i.eventDrag,e),eventResize:JZ(i.eventResize,e)},ne=Object.assign(Object.assign({},c),U);for(let ue of o.pluginHooks.reducers)Object.assign(U,ue(i,e,ne));let le=S1(i,c),me=S1(U,c);!le&&me?r.trigger("loading",!0):le&&!me&&r.trigger("loading",!1),this.state=U,t.onAction&&t.onAction(e)}updateData(){let{props:e,state:t}=this,i=this.data,r=this.computeOptionsData(e.optionOverrides,t.dynamicOptionOverrides,e.calendarApi),s=this.computeCurrentViewData(t.currentViewType,r,e.optionOverrides,t.dynamicOptionOverrides),o=this.data=Object.assign(Object.assign(Object.assign({viewTitle:this.buildTitle(t.dateProfile,s.options,r.dateEnv),calendarApi:e.calendarApi,dispatch:this.dispatch,emitter:this.emitter,getCurrentData:this.getCurrentData},r),s),t),a=r.pluginHooks.optionChangeHandlers,l=i&&i.calendarOptions,c=r.calendarOptions;if(l&&l!==c){l.timeZone!==c.timeZone&&(t.eventSources=o.eventSources=UZ(o.eventSources,t.dateProfile,o),t.eventStore=o.eventStore=n1(o.eventStore,i.dateEnv,o.dateEnv),t.renderableEventStore=o.renderableEventStore=n1(o.renderableEventStore,i.dateEnv,o.dateEnv));for(let u in a)(this.optionsForHandling.indexOf(u)!==-1||l[u]!==c[u])&&a[u](c[u],o)}this.optionsForHandling=[],e.onData&&e.onData(o)}computeOptionsData(e,t,i){if(!this.optionsForRefining.length&&e===this.stableOptionOverrides&&t===this.stableDynamicOptionOverrides)return this.stableCalendarOptionsData;let{refinedOptions:r,pluginHooks:s,localeDefaults:o,availableLocaleData:a,extra:l}=this.processRawCalendarOptions(e,t);$F(l);let c=this.buildDateEnv(r.timeZone,r.locale,r.weekNumberCalculation,r.firstDay,r.weekText,s,a,r.defaultRangeSeparator),u=this.buildViewSpecs(s.views,this.stableOptionOverrides,this.stableDynamicOptionOverrides,o),p=this.buildTheme(r,s),m=this.parseToolbars(r,this.stableOptionOverrides,p,u,i);return this.stableCalendarOptionsData={calendarOptions:r,pluginHooks:s,dateEnv:c,viewSpecs:u,theme:p,toolbarConfig:m,localeDefaults:o,availableRawLocales:a.map}}processRawCalendarOptions(e,t){let{locales:i,locale:r}=sv([Fo,e,t]),s=this.organizeRawLocales(i),o=s.map,a=this.buildLocale(r||s.defaultCode,o).options,l=this.buildPluginHooks(e.plugins||[],vK),c=this.currentCalendarOptionsRefiners=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},GS),qS),WS),l.listenerRefiners),l.optionRefiners),u={},p=sv([Fo,a,e,t]),m={},f=this.currentCalendarOptionsInput,_=this.currentCalendarOptionsRefined,w=!1;for(let S in p)this.optionsForRefining.indexOf(S)===-1&&(p[S]===f[S]||Po[S]&&S in f&&Po[S](f[S],p[S]))?m[S]=_[S]:c[S]?(m[S]=c[S](p[S]),w=!0):u[S]=f[S];return w&&(this.currentCalendarOptionsInput=p,this.currentCalendarOptionsRefined=m,this.stableOptionOverrides=e,this.stableDynamicOptionOverrides=t),this.optionsForHandling.push(...this.optionsForRefining),this.optionsForRefining=[],{rawOptions:this.currentCalendarOptionsInput,refinedOptions:this.currentCalendarOptionsRefined,pluginHooks:l,availableLocaleData:s,localeDefaults:a,extra:u}}_computeCurrentViewData(e,t,i,r){let s=t.viewSpecs[e];if(!s)throw new Error(`viewType "${e}" is not available. Please make sure you've loaded all neccessary plugins`);let{refinedOptions:o,extra:a}=this.processRawViewOptions(s,t.pluginHooks,t.localeDefaults,i,r);$F(a);let l=this.buildDateProfileGenerator({dateProfileGeneratorClass:s.optionDefaults.dateProfileGeneratorClass,duration:s.duration,durationUnit:s.durationUnit,usesMinMaxTime:s.optionDefaults.usesMinMaxTime,dateEnv:t.dateEnv,calendarApi:this.props.calendarApi,slotMinTime:o.slotMinTime,slotMaxTime:o.slotMaxTime,showNonCurrentDates:o.showNonCurrentDates,dayCount:o.dayCount,dateAlignment:o.dateAlignment,dateIncrement:o.dateIncrement,hiddenDays:o.hiddenDays,weekends:o.weekends,nowInput:o.now,validRangeInput:o.validRange,visibleRangeInput:o.visibleRange,fixedWeekCount:o.fixedWeekCount}),c=this.buildViewApi(e,this.getCurrentData,t.dateEnv);return{viewSpec:s,options:o,dateProfileGenerator:l,viewApi:c}}processRawViewOptions(e,t,i,r,s){let o=sv([Fo,e.optionDefaults,i,r,e.optionOverrides,s]),a=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},GS),qS),WS),KN),t.listenerRefiners),t.optionRefiners),l={},c=this.currentViewOptionsInput,u=this.currentViewOptionsRefined,p=!1,m={};for(let f in o)o[f]===c[f]||Po[f]&&Po[f](o[f],c[f])?l[f]=u[f]:(o[f]===this.currentCalendarOptionsInput[f]||Po[f]&&Po[f](o[f],this.currentCalendarOptionsInput[f])?f in this.currentCalendarOptionsRefined&&(l[f]=this.currentCalendarOptionsRefined[f]):a[f]?l[f]=a[f](o[f]):m[f]=o[f],p=!0);return p&&(this.currentViewOptionsInput=o,this.currentViewOptionsRefined=l),{rawOptions:this.currentViewOptionsInput,refinedOptions:this.currentViewOptionsRefined,extra:m}}};function bK(n,e,t,i,r,s,o,a){let l=qF(e||o.defaultCode,o.map);return new th({calendarSystem:"gregory",timeZone:n,namedTimeZoneImpl:s.namedTimeZonedImpl,locale:l,weekNumberCalculation:t,firstDay:i,weekText:r,cmdFormatter:s.cmdFormatter,defaultSeparator:a})}function xK(n,e){let t=e.themeClasses[n.themeSystem]||ns;return new t(n)}function CK(n){let e=n.dateProfileGeneratorClass||Oa;return new e(n)}function wK(n,e,t){return new D1(n,e,t)}function SK(n){return Jr(n,e=>e.ui)}function EK(n,e,t){let i={"":e};for(let r in n){let s=n[r];s.sourceId&&t[s.sourceId]&&(i[r]=t[s.sourceId])}return i}function DK(n){let{options:e}=n;return{eventUiSingleBase:Lc({display:e.eventDisplay,editable:e.editable,startEditable:e.eventStartEditable,durationEditable:e.eventDurationEditable,constraint:e.eventConstraint,overlap:typeof e.eventOverlap=="boolean"?e.eventOverlap:void 0,allow:e.eventAllow,backgroundColor:e.eventBackgroundColor,borderColor:e.eventBorderColor,textColor:e.eventTextColor,color:e.eventColor},n),selectionConfig:Lc({constraint:e.selectConstraint,overlap:typeof e.selectOverlap=="boolean"?e.selectOverlap:void 0,allow:e.selectAllow},n)}}function S1(n,e){for(let t of e.pluginHooks.isLoadingFuncs)if(t(n))return!0;return!1}function TK(n){return i1(n.options.businessHours,n)}function $F(n,e){for(let t in n)console.warn(`Unknown option '${t}'`+(e?` for view '${e}'`:""))}var I1=class extends Dt{render(){let e=this.props.widgetGroups.map(t=>this.renderWidgetGroup(t));return k("div",{className:"fc-toolbar-chunk"},...e)}renderWidgetGroup(e){let{props:t}=this,{theme:i}=this.context,r=[],s=!0;for(let o of e){let{buttonName:a,buttonClick:l,buttonText:c,buttonIcon:u,buttonHint:p}=o;if(a==="title")s=!1,r.push(k("h2",{className:"fc-toolbar-title",id:t.titleId},t.title));else{let m=a===t.activeButton,f=!t.isTodayEnabled&&a==="today"||!t.isPrevEnabled&&a==="prev"||!t.isNextEnabled&&a==="next",_=[`fc-${a}-button`,i.getClass("button")];m&&_.push(i.getClass("buttonActive")),r.push(k("button",{type:"button",title:typeof p=="function"?p(t.navUnit):p,disabled:f,"aria-pressed":m,className:_.join(" "),onClick:l},c||(u?k("span",{className:u,role:"img"}):"")))}}if(r.length>1){let o=s&&i.getClass("buttonGroup")||"";return k("div",{className:o},...r)}return r[0]}},Sv=class extends Dt{render(){let{model:e,extraClassName:t}=this.props,i=!1,r,s,o=e.sectionWidgets,a=o.center;return o.left?(i=!0,r=o.left):r=o.start,o.right?(i=!0,s=o.right):s=o.end,k("div",{className:[t||"","fc-toolbar",i?"fc-toolbar-ltr":""].join(" ")},this.renderSection("start",r||[]),this.renderSection("center",a||[]),this.renderSection("end",s||[]))}renderSection(e,t){let{props:i}=this;return k(I1,{key:e,widgetGroups:t,title:i.title,navUnit:i.navUnit,activeButton:i.activeButton,isTodayEnabled:i.isTodayEnabled,isPrevEnabled:i.isPrevEnabled,isNextEnabled:i.isNextEnabled,titleId:i.titleId})}},M1=class extends Dt{constructor(){super(...arguments),this.state={availableWidth:null},this.handleEl=e=>{this.el=e,Yi(this.props.elRef,e),this.updateAvailableWidth()},this.handleResize=()=>{this.updateAvailableWidth()}}render(){let{props:e,state:t}=this,{aspectRatio:i}=e,r=["fc-view-harness",i||e.liquid||e.height?"fc-view-harness-active":"fc-view-harness-passive"],s="",o="";return i?t.availableWidth!==null?s=t.availableWidth/i:o=`${1/i*100}%`:s=e.height||"",k("div",{"aria-labelledby":e.labeledById,ref:this.handleEl,className:r.join(" "),style:{height:s,paddingBottom:o}},e.children)}componentDidMount(){this.context.addResizeHandler(this.handleResize)}componentWillUnmount(){this.context.removeResizeHandler(this.handleResize)}updateAvailableWidth(){this.el&&this.props.aspectRatio&&this.setState({availableWidth:this.el.offsetWidth})}},k1=class extends pr{constructor(e){super(e),this.handleSegClick=(t,i)=>{let{component:r}=this,{context:s}=r,o=ks(i);if(o&&r.isValidSegDownEl(t.target)){let a=pn(t.target,".fc-event-forced-url"),l=a?a.querySelector("a[href]").href:"";s.emitter.trigger("eventClick",{el:i,event:new bt(r.context,o.eventRange.def,o.eventRange.instance),jsEvent:t,view:s.viewApi}),l&&!t.defaultPrevented&&(window.location.href=l)}},this.destroy=LS(e.el,"click",".fc-event",this.handleSegClick)}},R1=class extends pr{constructor(e){super(e),this.handleEventElRemove=t=>{t===this.currentSegEl&&this.handleSegLeave(null,this.currentSegEl)},this.handleSegEnter=(t,i)=>{ks(i)&&(this.currentSegEl=i,this.triggerEvent("eventMouseEnter",t,i))},this.handleSegLeave=(t,i)=>{this.currentSegEl&&(this.currentSegEl=null,this.triggerEvent("eventMouseLeave",t,i))},this.removeHoverListeners=zN(e.el,".fc-event",this.handleSegEnter,this.handleSegLeave)}destroy(){this.removeHoverListeners()}triggerEvent(e,t,i){let{component:r}=this,{context:s}=r,o=ks(i);(!t||r.isValidSegDownEl(t.target))&&s.emitter.trigger(e,{el:i,event:new bt(s,o.eventRange.def,o.eventRange.instance),jsEvent:t,view:s.viewApi})}},O1=class extends Dh{constructor(){super(...arguments),this.buildViewContext=tt(iF),this.buildViewPropTransformers=tt(IK),this.buildToolbarProps=tt(AK),this.headerRef=Ri(),this.footerRef=Ri(),this.interactionsStore={},this.state={viewLabelId:Ba()},this.registerInteractiveComponent=(e,t)=>{let i=vF(e,t),o=[k1,R1].concat(this.props.pluginHooks.componentInteractions).map(a=>new a(i));this.interactionsStore[e.uid]=o,Nc[e.uid]=i},this.unregisterInteractiveComponent=e=>{let t=this.interactionsStore[e.uid];if(t){for(let i of t)i.destroy();delete this.interactionsStore[e.uid]}delete Nc[e.uid]},this.resizeRunner=new Ra(()=>{this.props.emitter.trigger("_resize",!0),this.props.emitter.trigger("windowResize",{view:this.props.viewApi})}),this.handleWindowResize=e=>{let{options:t}=this.props;t.handleWindowResize&&e.target===window&&this.resizeRunner.request(t.windowResizeDelay)}}render(){let{props:e}=this,{toolbarConfig:t,options:i}=e,r=this.buildToolbarProps(e.viewSpec,e.dateProfile,e.dateProfileGenerator,e.currentDate,Oc(e.options.now,e.dateEnv),e.viewTitle),s=!1,o="",a;e.isHeightAuto||e.forPrint?o="":i.height!=null?s=!0:i.contentHeight!=null?o=i.contentHeight:a=Math.max(i.aspectRatio,.5);let l=this.buildViewContext(e.viewSpec,e.viewApi,e.options,e.dateProfileGenerator,e.dateEnv,e.theme,e.pluginHooks,e.dispatch,e.getCurrentData,e.emitter,e.calendarApi,this.registerInteractiveComponent,this.unregisterInteractiveComponent),c=t.header&&t.header.hasTitle?this.state.viewLabelId:void 0;return k(Ms.Provider,{value:l},t.header&&k(Sv,Object.assign({ref:this.headerRef,extraClassName:"fc-header-toolbar",model:t.header,titleId:c},r)),k(M1,{liquid:s,height:o,aspectRatio:a,labeledById:c},this.renderView(e),this.buildAppendContent()),t.footer&&k(Sv,Object.assign({ref:this.footerRef,extraClassName:"fc-footer-toolbar",model:t.footer,titleId:""},r)))}componentDidMount(){let{props:e}=this;this.calendarInteractions=e.pluginHooks.calendarInteractions.map(i=>new i(e)),window.addEventListener("resize",this.handleWindowResize);let{propSetHandlers:t}=e.pluginHooks;for(let i in t)t[i](e[i],e)}componentDidUpdate(e){let{props:t}=this,{propSetHandlers:i}=t.pluginHooks;for(let r in i)t[r]!==e[r]&&i[r](t[r],t)}componentWillUnmount(){window.removeEventListener("resize",this.handleWindowResize),this.resizeRunner.clear();for(let e of this.calendarInteractions)e.destroy();this.props.emitter.trigger("_unmount")}buildAppendContent(){let{props:e}=this,t=e.pluginHooks.viewContainerAppends.map(i=>i(e));return k(Et,{},...t)}renderView(e){let{pluginHooks:t}=e,{viewSpec:i}=e,r={dateProfile:e.dateProfile,businessHours:e.businessHours,eventStore:e.renderableEventStore,eventUiBases:e.eventUiBases,dateSelection:e.dateSelection,eventSelection:e.eventSelection,eventDrag:e.eventDrag,eventResize:e.eventResize,isHeightAuto:e.isHeightAuto,forPrint:e.forPrint},s=this.buildViewPropTransformers(t.viewPropsTransformers);for(let a of s)Object.assign(r,a.transform(r,e));let o=i.component;return k(o,Object.assign({},r))}};function AK(n,e,t,i,r,s){let o=t.build(r,void 0,!1),a=t.buildPrev(e,i,!1),l=t.buildNext(e,i,!1);return{title:s,activeButton:n.type,navUnit:n.singleUnit,isTodayEnabled:o.isValid&&!Xr(e.currentRange,r),isPrevEnabled:a.isValid,isNextEnabled:l.isValid}}function IK(n){return n.map(e=>new e)}var Ev=class extends lh{constructor(e,t={}){super(),this.isRendering=!1,this.isRendered=!1,this.currentClassNames=[],this.customContentRenderId=0,this.handleAction=i=>{switch(i.type){case"SET_EVENT_DRAG":case"SET_EVENT_RESIZE":this.renderRunner.tryDrain()}},this.handleData=i=>{this.currentData=i,this.renderRunner.request(i.calendarOptions.rerenderDelay)},this.handleRenderRequest=()=>{if(this.isRendering){this.isRendered=!0;let{currentData:i}=this;nh(()=>{Mo(k(ah,{options:i.calendarOptions,theme:i.theme,emitter:i.emitter},(r,s,o,a)=>(this.setClassNames(r),this.setHeight(s),k(XS.Provider,{value:this.customContentRenderId},k(O1,Object.assign({isHeightAuto:o,forPrint:a},i))))),this.el)})}else this.isRendered&&(this.isRendered=!1,Mo(null,this.el),this.setClassNames([]),this.setHeight(""))},VN(e),this.el=e,this.renderRunner=new Ra(this.handleRenderRequest),new A1({optionOverrides:t,calendarApi:this,onAction:this.handleAction,onData:this.handleData})}render(){let e=this.isRendering;e?this.customContentRenderId+=1:this.isRendering=!0,this.renderRunner.request(),e&&this.updateSize()}destroy(){this.isRendering&&(this.isRendering=!1,this.renderRunner.request())}updateSize(){nh(()=>{super.updateSize()})}batchRendering(e){this.renderRunner.pause("batchRendering"),e(),this.renderRunner.resume("batchRendering")}pauseRendering(){this.renderRunner.pause("pauseRendering")}resumeRendering(){this.renderRunner.resume("pauseRendering",!0)}resetOptions(e,t){this.currentDataManager.resetOptions(e,t)}setClassNames(e){if(!Kr(e,this.currentClassNames)){let{classList:t}=this.el;for(let i of this.currentClassNames)t.remove(i);for(let i of e)t.add(i);this.currentClassNames=e}}setHeight(e){OS(this.el,"height",e)}};var N1=class extends fr{constructor(){super(...arguments),this.headerElRef=Ri()}renderSimpleLayout(e,t){let{props:i,context:r}=this,s=[],o=Cv(r.options);return e&&s.push({type:"header",key:"header",isSticky:o,chunk:{elRef:this.headerElRef,tableClassName:"fc-col-header",rowContent:e}}),s.push({type:"body",key:"body",liquid:!0,chunk:{content:t}}),k(Tc,{elClasses:["fc-daygrid"],viewSpec:r.viewSpec},k(Ac,{liquid:!i.isHeightAuto&&!i.forPrint,collapsibleWidth:i.forPrint,cols:[],sections:s}))}renderHScrollLayout(e,t,i,r){let s=this.context.pluginHooks.scrollGridImpl;if(!s)throw new Error("No ScrollGrid implementation");let{props:o,context:a}=this,l=!o.forPrint&&Cv(a.options),c=!o.forPrint&&x1(a.options),u=[];return e&&u.push({type:"header",key:"header",isSticky:l,chunks:[{key:"main",elRef:this.headerElRef,tableClassName:"fc-col-header",rowContent:e}]}),u.push({type:"body",key:"body",liquid:!0,chunks:[{key:"main",content:t}]}),c&&u.push({type:"footer",key:"footer",isSticky:!0,chunks:[{key:"main",content:b1}]}),k(Tc,{elClasses:["fc-daygrid"],viewSpec:a.viewSpec},k(s,{liquid:!o.isHeightAuto&&!o.forPrint,forPrint:o.forPrint,collapsibleWidth:o.forPrint,colGroups:[{cols:[{span:i,minWidth:r}]}],sections:u}))}};function Dv(n,e){let t=[];for(let i=0;i<e;i+=1)t[i]=[];for(let i of n)t[i.row].push(i);return t}function Tv(n,e){let t=[];for(let i=0;i<e;i+=1)t[i]=[];for(let i of n)t[i.firstCol].push(i);return t}function JF(n,e){let t=[];if(n){for(let i=0;i<e;i+=1)t[i]={affectedInstances:n.affectedInstances,isEvent:n.isEvent,segs:[]};for(let i of n.segs)t[i.row].segs.push(i)}else for(let i=0;i<e;i+=1)t[i]=null;return t}var eP=Kt({hour:"numeric",minute:"2-digit",omitZeroMinute:!0,meridiem:"narrow"});function tP(n){let{display:e}=n.eventRange.ui;return e==="list-item"||e==="auto"&&!n.eventRange.def.allDay&&n.firstCol===n.lastCol&&n.isStart&&n.isEnd}var Av=class extends Dt{render(){let{props:e}=this;return k(vh,Object.assign({},e,{elClasses:["fc-daygrid-event","fc-daygrid-block-event","fc-h-event"],defaultTimeFormat:eP,defaultDisplayEventEnd:e.defaultDisplayEventEnd,disableResizing:!e.seg.eventRange.def.allDay}))}},Iv=class extends Dt{render(){let{props:e,context:t}=this,{options:i}=t,{seg:r}=e,s=i.eventTimeFormat||eP,o=fv(r,s,t,!0,e.defaultDisplayEventEnd);return k(Pa,Object.assign({},e,{elTag:"a",elClasses:["fc-daygrid-event","fc-daygrid-dot-event"],elAttrs:mv(e.seg,t),defaultGenerator:kK,timeText:o,isResizing:!1,isDateSelecting:!1}))}};function kK(n){return k(Et,null,k("div",{className:"fc-daygrid-event-dot",style:{borderColor:n.borderColor||n.backgroundColor}}),n.timeText&&k("div",{className:"fc-event-time"},n.timeText),k("div",{className:"fc-event-title"},n.event.title||k(Et,null,"\xA0")))}var F1=class extends Dt{constructor(){super(...arguments),this.compileSegs=tt(RK)}render(){let{props:e}=this,{allSegs:t,invisibleSegs:i}=this.compileSegs(e.singlePlacements);return k(_h,{elClasses:["fc-daygrid-more-link"],dateProfile:e.dateProfile,todayRange:e.todayRange,allDayDate:e.allDayDate,moreCnt:e.moreCnt,allSegs:t,hiddenSegs:i,alignmentElRef:e.alignmentElRef,alignGridTop:e.alignGridTop,extraDateSpan:e.extraDateSpan,popoverContent:()=>{let r=(e.eventDrag?e.eventDrag.affectedInstances:null)||(e.eventResize?e.eventResize.affectedInstances:null)||{};return k(Et,null,t.map(s=>{let o=s.eventRange.instance.instanceId;return k("div",{className:"fc-daygrid-event-harness",key:o,style:{visibility:r[o]?"hidden":""}},tP(s)?k(Iv,Object.assign({seg:s,isDragging:!1,isSelected:o===e.eventSelection,defaultDisplayEventEnd:!1},Ha(s,e.todayRange))):k(Av,Object.assign({seg:s,isDragging:!1,isResizing:!1,isDateSelecting:!1,isSelected:o===e.eventSelection,defaultDisplayEventEnd:!1},Ha(s,e.todayRange))))}))}})}};function RK(n){let e=[],t=[];for(let i of n)e.push(i.seg),i.isVisible||t.push(i.seg);return{allSegs:e,invisibleSegs:t}}var OK=Kt({week:"narrow"}),P1=class extends fr{constructor(){super(...arguments),this.rootElRef=Ri(),this.state={dayNumberId:Ba()},this.handleRootEl=e=>{Yi(this.rootElRef,e),Yi(this.props.elRef,e)}}render(){let{context:e,props:t,state:i,rootElRef:r}=this,{options:s,dateEnv:o}=e,{date:a,dateProfile:l}=t,c=t.showDayNumber&&NK(a,l.currentRange,o);return k(Ic,{elTag:"td",elRef:this.handleRootEl,elClasses:["fc-daygrid-day",...t.extraClassNames||[]],elAttrs:Object.assign(Object.assign(Object.assign({},t.extraDataAttrs),t.showDayNumber?{"aria-labelledby":i.dayNumberId}:{}),{role:"gridcell"}),defaultGenerator:LK,date:a,dateProfile:l,todayRange:t.todayRange,showDayNumber:t.showDayNumber,isMonthStart:c,extraRenderProps:t.extraRenderProps},(u,p)=>k("div",{ref:t.innerElRef,className:"fc-daygrid-day-frame fc-scrollgrid-sync-inner",style:{minHeight:t.minHeight}},t.showWeekNumber&&k(w1,{elTag:"a",elClasses:["fc-daygrid-week-number"],elAttrs:kh(e,a,"week"),date:a,defaultFormat:OK}),!p.isDisabled&&(t.showDayNumber||wv(s)||t.forceDayTop)?k("div",{className:"fc-daygrid-day-top"},k(u,{elTag:"a",elClasses:["fc-daygrid-day-number",c&&"fc-daygrid-month-start"],elAttrs:Object.assign(Object.assign({},kh(e,a)),{id:i.dayNumberId})})):t.showDayNumber?k("div",{className:"fc-daygrid-day-top",style:{visibility:"hidden"}},k("a",{className:"fc-daygrid-day-number"},"\xA0")):void 0,k("div",{className:"fc-daygrid-day-events",ref:t.fgContentElRef},t.fgContent,k("div",{className:"fc-daygrid-day-bottom",style:{marginTop:t.moreMarginTop}},k(F1,{allDayDate:a,singlePlacements:t.singlePlacements,moreCnt:t.moreCnt,alignmentElRef:r,alignGridTop:!t.showDayNumber,extraDateSpan:t.extraDateSpan,dateProfile:t.dateProfile,eventSelection:t.eventSelection,eventDrag:t.eventDrag,eventResize:t.eventResize,todayRange:t.todayRange}))),k("div",{className:"fc-daygrid-day-bg"},t.bgContent)))}};function LK(n){return n.dayNumberText||k(Et,null,"\xA0")}function NK(n,e,t){let{start:i,end:r}=e,s=Zr(r,-1),o=t.getYear(i),a=t.getMonth(i),l=t.getYear(s),c=t.getMonth(s);return!(o===l&&a===c)&&(n.valueOf()===i.valueOf()||t.getDay(n)===1&&n.valueOf()<r.valueOf())}function nP(n){return n.eventRange.instance.instanceId+":"+n.firstCol}function iP(n){return nP(n)+":"+n.lastCol}function FK(n,e,t,i,r,s,o){let a=new V1(D=>{let R=n[D.index].eventRange.instance.instanceId+":"+D.span.start+":"+(D.span.end-1);return r[R]||1});a.allowReslicing=!0,a.strictOrder=i,e===!0||t===!0?(a.maxCoord=s,a.hiddenConsumes=!0):typeof e=="number"?a.maxStackCnt=e:typeof t=="number"&&(a.maxStackCnt=t,a.hiddenConsumes=!0);let l=[],c=[];for(let D=0;D<n.length;D+=1){let R=n[D],F=iP(R);r[F]!=null?l.push({index:D,span:{start:R.firstCol,end:R.lastCol+1}}):c.push(R)}let u=a.addSegs(l),p=a.toRects(),{singleColPlacements:m,multiColPlacements:f,leftoverMargins:_}=PK(p,n,o),w=[],S=[];for(let D of c){f[D.firstCol].push({seg:D,isVisible:!1,isAbsolute:!0,absoluteTop:0,marginTop:0});for(let R=D.firstCol;R<=D.lastCol;R+=1)m[R].push({seg:Fc(D,R,R+1,o),isVisible:!1,isAbsolute:!1,absoluteTop:0,marginTop:0})}for(let D=0;D<o.length;D+=1)w.push(0);for(let D of u){let R=n[D.index],F=D.span;f[F.start].push({seg:Fc(R,F.start,F.end,o),isVisible:!1,isAbsolute:!0,absoluteTop:0,marginTop:0});for(let U=F.start;U<F.end;U+=1)w[U]+=1,m[U].push({seg:Fc(R,U,U+1,o),isVisible:!1,isAbsolute:!1,absoluteTop:0,marginTop:0})}for(let D=0;D<o.length;D+=1)S.push(_[D]);return{singleColPlacements:m,multiColPlacements:f,moreCnts:w,moreMarginTops:S}}function PK(n,e,t){let i=VK(n,t.length),r=[],s=[],o=[];for(let a=0;a<t.length;a+=1){let l=i[a],c=[],u=0,p=0;for(let f of l){let _=e[f.index];c.push({seg:Fc(_,a,a+1,t),isVisible:!0,isAbsolute:!1,absoluteTop:f.levelCoord,marginTop:f.levelCoord-u}),u=f.levelCoord+f.thickness}let m=[];u=0,p=0;for(let f of l){let _=e[f.index],w=f.span.end-f.span.start>1,S=f.span.start===a;p+=f.levelCoord-u,u=f.levelCoord+f.thickness,w?(p+=f.thickness,S&&m.push({seg:Fc(_,f.span.start,f.span.end,t),isVisible:!0,isAbsolute:!0,absoluteTop:f.levelCoord,marginTop:0})):S&&(m.push({seg:Fc(_,f.span.start,f.span.end,t),isVisible:!0,isAbsolute:!1,absoluteTop:f.levelCoord,marginTop:p}),p=0)}r.push(c),s.push(m),o.push(p)}return{singleColPlacements:r,multiColPlacements:s,leftoverMargins:o}}function VK(n,e){let t=[];for(let i=0;i<e;i+=1)t.push([]);for(let i of n)for(let r=i.span.start;r<i.span.end;r+=1)t[r].push(i);return t}function Fc(n,e,t,i){if(n.firstCol===e&&n.lastCol===t-1)return n;let r=n.eventRange,s=r.range,o=Ts(s,{start:i[e].date,end:fn(i[t-1].date,1)});return Object.assign(Object.assign({},n),{firstCol:e,lastCol:t-1,eventRange:{def:r.def,ui:Object.assign(Object.assign({},r.ui),{durationEditable:!1}),instance:r.instance,range:o},isStart:n.isStart&&o.start.valueOf()===s.start.valueOf(),isEnd:n.isEnd&&o.end.valueOf()===s.end.valueOf()})}var V1=class extends dh{constructor(){super(...arguments),this.hiddenConsumes=!1,this.forceHidden={}}addSegs(e){let t=super.addSegs(e),{entriesByLevel:i}=this,r=s=>!this.forceHidden[Fa(s)];for(let s=0;s<i.length;s+=1)i[s]=i[s].filter(r);return t}handleInvalidInsertion(e,t,i){let{entriesByLevel:r,forceHidden:s}=this,{touchingEntry:o,touchingLevel:a,touchingLateral:l}=e;if(this.hiddenConsumes&&o){let c=Fa(o);if(!s[c])if(this.allowReslicing){let u=Object.assign(Object.assign({},o),{span:_v(o.span,t.span)}),p=Fa(u);s[p]=!0,r[a][l]=u,i.push(u),this.splitEntry(o,t,i)}else s[c]=!0,i.push(o)}super.handleInvalidInsertion(e,t,i)}},Mv=class extends fr{constructor(){super(...arguments),this.cellElRefs=new mr,this.frameElRefs=new mr,this.fgElRefs=new mr,this.segHarnessRefs=new mr,this.rootElRef=Ri(),this.state={framePositions:null,maxContentHeight:null,segHeights:{}},this.handleResize=e=>{e&&this.updateSizing(!0)}}render(){let{props:e,state:t,context:i}=this,{options:r}=i,s=e.cells.length,o=Tv(e.businessHourSegs,s),a=Tv(e.bgEventSegs,s),l=Tv(this.getHighlightSegs(),s),c=Tv(this.getMirrorSegs(),s),{singleColPlacements:u,multiColPlacements:p,moreCnts:m,moreMarginTops:f}=FK(s1(e.fgEventSegs,r.eventOrder),e.dayMaxEvents,e.dayMaxEventRows,r.eventOrderStrict,t.segHeights,t.maxContentHeight,e.cells),_=e.eventDrag&&e.eventDrag.affectedInstances||e.eventResize&&e.eventResize.affectedInstances||{};return k("tr",{ref:this.rootElRef,role:"row"},e.renderIntro&&e.renderIntro(),e.cells.map((w,S)=>{let D=this.renderFgSegs(S,e.forPrint?u[S]:p[S],e.todayRange,_),R=this.renderFgSegs(S,BK(c[S],p),e.todayRange,{},!!e.eventDrag,!!e.eventResize,!1);return k(P1,{key:w.key,elRef:this.cellElRefs.createRef(w.key),innerElRef:this.frameElRefs.createRef(w.key),dateProfile:e.dateProfile,date:w.date,showDayNumber:e.showDayNumbers,showWeekNumber:e.showWeekNumbers&&S===0,forceDayTop:e.showWeekNumbers,todayRange:e.todayRange,eventSelection:e.eventSelection,eventDrag:e.eventDrag,eventResize:e.eventResize,extraRenderProps:w.extraRenderProps,extraDataAttrs:w.extraDataAttrs,extraClassNames:w.extraClassNames,extraDateSpan:w.extraDateSpan,moreCnt:m[S],moreMarginTop:f[S],singlePlacements:u[S],fgContentElRef:this.fgElRefs.createRef(w.key),fgContent:k(Et,null,k(Et,null,D),k(Et,null,R)),bgContent:k(Et,null,this.renderFillSegs(l[S],"highlight"),this.renderFillSegs(o[S],"non-business"),this.renderFillSegs(a[S],"bg-event")),minHeight:e.cellMinHeight})}))}componentDidMount(){this.updateSizing(!0),this.context.addResizeHandler(this.handleResize)}componentDidUpdate(e,t){let i=this.props;this.updateSizing(!Oi(e,i))}componentWillUnmount(){this.context.removeResizeHandler(this.handleResize)}getHighlightSegs(){let{props:e}=this;return e.eventDrag&&e.eventDrag.segs.length?e.eventDrag.segs:e.eventResize&&e.eventResize.segs.length?e.eventResize.segs:e.dateSelectionSegs}getMirrorSegs(){let{props:e}=this;return e.eventResize&&e.eventResize.segs.length?e.eventResize.segs:[]}renderFgSegs(e,t,i,r,s,o,a){let{context:l}=this,{eventSelection:c}=this.props,{framePositions:u}=this.state,p=this.props.cells.length===1,m=s||o||a,f=[];if(u)for(let _ of t){let{seg:w}=_,{instanceId:S}=w.eventRange.instance,D=_.isVisible&&!r[S],R=_.isAbsolute,F="",U="";R&&(l.isRtl?(U=0,F=u.lefts[w.lastCol]-u.lefts[w.firstCol]):(F=0,U=u.rights[w.firstCol]-u.rights[w.lastCol])),f.push(k("div",{className:"fc-daygrid-event-harness"+(R?" fc-daygrid-event-harness-abs":""),key:nP(w),ref:m?null:this.segHarnessRefs.createRef(iP(w)),style:{visibility:D?"":"hidden",marginTop:R?"":_.marginTop,top:R?_.absoluteTop:"",left:F,right:U}},tP(w)?k(Iv,Object.assign({seg:w,isDragging:s,isSelected:S===c,defaultDisplayEventEnd:p},Ha(w,i))):k(Av,Object.assign({seg:w,isDragging:s,isResizing:o,isDateSelecting:a,isSelected:S===c,defaultDisplayEventEnd:p},Ha(w,i)))))}return f}renderFillSegs(e,t){let{isRtl:i}=this.context,{todayRange:r}=this.props,{framePositions:s}=this.state,o=[];if(s)for(let a of e){let l=i?{right:0,left:s.lefts[a.lastCol]-s.lefts[a.firstCol]}:{left:0,right:s.rights[a.firstCol]-s.rights[a.lastCol]};o.push(k("div",{key:o1(a.eventRange),className:"fc-daygrid-bg-harness",style:l},t==="bg-event"?k(yh,Object.assign({seg:a},Ha(a,r))):C1(t)))}return k(Et,{},...o)}updateSizing(e){let{props:t,state:i,frameElRefs:r}=this;if(!t.forPrint&&t.clientWidth!==null){if(e){let l=t.cells.map(c=>r.currentMap[c.key]);if(l.length){let c=this.rootElRef.current,u=new No(c,l,!0,!1);(!i.framePositions||!i.framePositions.similarTo(u))&&this.setState({framePositions:new No(c,l,!0,!1)})}}let s=this.state.segHeights,o=this.querySegHeights(),a=t.dayMaxEvents===!0||t.dayMaxEventRows===!0;this.safeSetState({segHeights:Object.assign(Object.assign({},s),o),maxContentHeight:a?this.computeMaxContentHeight():null})}}querySegHeights(){let e=this.segHarnessRefs.currentMap,t={};for(let i in e){let r=Math.round(e[i].getBoundingClientRect().height);t[i]=Math.max(t[i]||0,r)}return t}computeMaxContentHeight(){let e=this.props.cells[0].key,t=this.cellElRefs.currentMap[e],i=this.fgElRefs.currentMap[e];return t.getBoundingClientRect().bottom-i.getBoundingClientRect().top}getCellEls(){let e=this.cellElRefs.currentMap;return this.props.cells.map(t=>e[t.key])}};Mv.addStateEquality({segHeights:Oi});function BK(n,e){if(!n.length)return[];let t=jK(e);return n.map(i=>({seg:i,isVisible:!0,isAbsolute:!0,absoluteTop:t[i.eventRange.instance.instanceId],marginTop:0}))}function jK(n){let e={};for(let t of n)for(let i of t)e[i.seg.eventRange.instance.instanceId]=i.absoluteTop;return e}var B1=class extends fr{constructor(){super(...arguments),this.splitBusinessHourSegs=tt(Dv),this.splitBgEventSegs=tt(Dv),this.splitFgEventSegs=tt(Dv),this.splitDateSelectionSegs=tt(Dv),this.splitEventDrag=tt(JF),this.splitEventResize=tt(JF),this.rowRefs=new mr}render(){let{props:e,context:t}=this,i=e.cells.length,r=this.splitBusinessHourSegs(e.businessHourSegs,i),s=this.splitBgEventSegs(e.bgEventSegs,i),o=this.splitFgEventSegs(e.fgEventSegs,i),a=this.splitDateSelectionSegs(e.dateSelectionSegs,i),l=this.splitEventDrag(e.eventDrag,i),c=this.splitEventResize(e.eventResize,i),u=i>=7&&e.clientWidth?e.clientWidth/t.options.aspectRatio/6:null;return k(bv,{unit:"day"},(p,m)=>k(Et,null,e.cells.map((f,_)=>k(Mv,{ref:this.rowRefs.createRef(_),key:f.length?f[0].date.toISOString():_,showDayNumbers:i>1,showWeekNumbers:e.showWeekNumbers,todayRange:m,dateProfile:e.dateProfile,cells:f,renderIntro:e.renderRowIntro,businessHourSegs:r[_],eventSelection:e.eventSelection,bgEventSegs:s[_].filter(HK),fgEventSegs:o[_],dateSelectionSegs:a[_],eventDrag:l[_],eventResize:c[_],dayMaxEvents:e.dayMaxEvents,dayMaxEventRows:e.dayMaxEventRows,clientWidth:e.clientWidth,clientHeight:e.clientHeight,cellMinHeight:u,forPrint:e.forPrint}))))}componentDidMount(){this.registerInteractiveComponent()}componentDidUpdate(){this.registerInteractiveComponent()}registerInteractiveComponent(){if(!this.rootEl){let e=this.rowRefs.currentMap[0].getCellEls()[0],t=e?e.closest(".fc-daygrid-body"):null;t&&(this.rootEl=t,this.context.registerInteractiveComponent(this,{el:t,isHitComboAllowed:this.props.isHitComboAllowed}))}}componentWillUnmount(){this.rootEl&&(this.context.unregisterInteractiveComponent(this),this.rootEl=null)}prepareHits(){this.rowPositions=new No(this.rootEl,this.rowRefs.collect().map(e=>e.getCellEls()[0]),!1,!0),this.colPositions=new No(this.rootEl,this.rowRefs.currentMap[0].getCellEls(),!0,!1)}queryHit(e,t){let{colPositions:i,rowPositions:r}=this,s=i.leftToIndex(e),o=r.topToIndex(t);if(o!=null&&s!=null){let a=this.props.cells[o][s];return{dateProfile:this.props.dateProfile,dateSpan:Object.assign({range:this.getCellRange(o,s),allDay:!0},a.extraDateSpan),dayEl:this.getCellEl(o,s),rect:{left:i.lefts[s],right:i.rights[s],top:r.tops[o],bottom:r.bottoms[o]},layer:0}}return null}getCellEl(e,t){return this.rowRefs.currentMap[e].getCellEls()[t]}getCellRange(e,t){let i=this.props.cells[e][t].date,r=fn(i,1);return{start:i,end:r}}};function HK(n){return n.eventRange.def.allDay}var j1=class extends fr{constructor(){super(...arguments),this.elRef=Ri(),this.needsScrollReset=!1}render(){let{props:e}=this,{dayMaxEventRows:t,dayMaxEvents:i,expandRows:r}=e,s=i===!0||t===!0;s&&!r&&(s=!1,t=null,i=null);let o=["fc-daygrid-body",s?"fc-daygrid-body-balanced":"fc-daygrid-body-unbalanced",r?"":"fc-daygrid-body-natural"];return k("div",{ref:this.elRef,className:o.join(" "),style:{width:e.clientWidth,minWidth:e.tableMinWidth}},k("table",{role:"presentation",className:"fc-scrollgrid-sync-table",style:{width:e.clientWidth,minWidth:e.tableMinWidth,height:r?e.clientHeight:""}},e.colGroupNode,k("tbody",{role:"presentation"},k(B1,{dateProfile:e.dateProfile,cells:e.cells,renderRowIntro:e.renderRowIntro,showWeekNumbers:e.showWeekNumbers,clientWidth:e.clientWidth,clientHeight:e.clientHeight,businessHourSegs:e.businessHourSegs,bgEventSegs:e.bgEventSegs,fgEventSegs:e.fgEventSegs,dateSelectionSegs:e.dateSelectionSegs,eventSelection:e.eventSelection,eventDrag:e.eventDrag,eventResize:e.eventResize,dayMaxEvents:i,dayMaxEventRows:t,forPrint:e.forPrint,isHitComboAllowed:e.isHitComboAllowed}))))}componentDidMount(){this.requestScrollReset()}componentDidUpdate(e){e.dateProfile!==this.props.dateProfile?this.requestScrollReset():this.flushScrollReset()}requestScrollReset(){this.needsScrollReset=!0,this.flushScrollReset()}flushScrollReset(){if(this.needsScrollReset&&this.props.clientWidth){let e=zK(this.elRef.current,this.props.dateProfile);if(e){let t=e.closest(".fc-daygrid-body"),i=t.closest(".fc-scroller"),r=e.getBoundingClientRect().top-t.getBoundingClientRect().top;i.scrollTop=r?r+1:0}this.needsScrollReset=!1}}};function zK(n,e){let t;return e.currentRangeUnit.match(/year|month/)&&(t=n.querySelector(`[data-date="${$S(e.currentDate)}-01"]`)),t||(t=n.querySelector(`[data-date="${Eh(e.currentDate)}"]`)),t}var H1=class extends gh{constructor(){super(...arguments),this.forceDayIfListItem=!0}sliceRange(e,t){return t.sliceRange(e)}},z1=class extends fr{constructor(){super(...arguments),this.slicer=new H1,this.tableRef=Ri()}render(){let{props:e,context:t}=this;return k(j1,Object.assign({ref:this.tableRef},this.slicer.sliceProps(e,e.dateProfile,e.nextDayThreshold,t,e.dayTableModel),{dateProfile:e.dateProfile,cells:e.dayTableModel.cells,colGroupNode:e.colGroupNode,tableMinWidth:e.tableMinWidth,renderRowIntro:e.renderRowIntro,dayMaxEvents:e.dayMaxEvents,dayMaxEventRows:e.dayMaxEventRows,showWeekNumbers:e.showWeekNumbers,expandRows:e.expandRows,headerAlignElRef:e.headerAlignElRef,clientWidth:e.clientWidth,clientHeight:e.clientHeight,forPrint:e.forPrint}))}},kv=class extends N1{constructor(){super(...arguments),this.buildDayTableModel=tt($K),this.headerRef=Ri(),this.tableRef=Ri()}render(){let{options:e,dateProfileGenerator:t}=this.context,{props:i}=this,r=this.buildDayTableModel(i.dateProfile,t),s=e.dayHeaders&&k(ph,{ref:this.headerRef,dateProfile:i.dateProfile,dates:r.headerDates,datesRepDistinctDays:r.rowCnt===1}),o=a=>k(z1,{ref:this.tableRef,dateProfile:i.dateProfile,dayTableModel:r,businessHours:i.businessHours,dateSelection:i.dateSelection,eventStore:i.eventStore,eventUiBases:i.eventUiBases,eventSelection:i.eventSelection,eventDrag:i.eventDrag,eventResize:i.eventResize,nextDayThreshold:e.nextDayThreshold,colGroupNode:a.tableColGroupNode,tableMinWidth:a.tableMinWidth,dayMaxEvents:e.dayMaxEvents,dayMaxEventRows:e.dayMaxEventRows,showWeekNumbers:e.weekNumbers,expandRows:!i.isHeightAuto,headerAlignElRef:this.headerElRef,clientWidth:a.clientWidth,clientHeight:a.clientHeight,forPrint:i.forPrint});return e.dayMinWidth?this.renderHScrollLayout(s,o,r.colCnt,e.dayMinWidth):this.renderSimpleLayout(s,o)}};function $K(n,e){let t=new fh(n.renderRange,e);return new mh(t,/year|month|week/.test(n.currentRangeUnit))}var Rv=class extends Oa{buildRenderRange(e,t,i){let r=super.buildRenderRange(e,t,i),{props:s}=this;return UK({currentRange:r,snapToWeek:/^(year|month)$/.test(t),fixedWeekCount:s.fixedWeekCount,dateEnv:s.dateEnv})}};function UK(n){let{dateEnv:e,currentRange:t}=n,{start:i,end:r}=t,s;if(n.snapToWeek&&(i=e.startOfWeek(i),s=e.startOfWeek(r),s.valueOf()!==r.valueOf()&&(r=rv(s,1))),n.fixedWeekCount){let o=e.startOfWeek(e.startOfMonth(fn(t.end,-1))),a=Math.ceil(HS(o,r));r=rv(r,6-a)}return{start:i,end:r}}var GK=':root{--fc-daygrid-event-dot-width:8px}.fc-daygrid-day-events:after,.fc-daygrid-day-events:before,.fc-daygrid-day-frame:after,.fc-daygrid-day-frame:before,.fc-daygrid-event-harness:after,.fc-daygrid-event-harness:before{clear:both;content:"";display:table}.fc .fc-daygrid-body{position:relative;z-index:1}.fc .fc-daygrid-day.fc-day-today{background-color:var(--fc-today-bg-color)}.fc .fc-daygrid-day-frame{min-height:100%;position:relative}.fc .fc-daygrid-day-top{display:flex;flex-direction:row-reverse}.fc .fc-day-other .fc-daygrid-day-top{opacity:.3}.fc .fc-daygrid-day-number{padding:4px;position:relative;z-index:4}.fc .fc-daygrid-month-start{font-size:1.1em;font-weight:700}.fc .fc-daygrid-day-events{margin-top:1px}.fc .fc-daygrid-body-balanced .fc-daygrid-day-events{left:0;position:absolute;right:0}.fc .fc-daygrid-body-unbalanced .fc-daygrid-day-events{min-height:2em;position:relative}.fc .fc-daygrid-body-natural .fc-daygrid-day-events{margin-bottom:1em}.fc .fc-daygrid-event-harness{position:relative}.fc .fc-daygrid-event-harness-abs{left:0;position:absolute;right:0;top:0}.fc .fc-daygrid-bg-harness{bottom:0;position:absolute;top:0}.fc .fc-daygrid-day-bg .fc-non-business{z-index:1}.fc .fc-daygrid-day-bg .fc-bg-event{z-index:2}.fc .fc-daygrid-day-bg .fc-highlight{z-index:3}.fc .fc-daygrid-event{margin-top:1px;z-index:6}.fc .fc-daygrid-event.fc-event-mirror{z-index:7}.fc .fc-daygrid-day-bottom{font-size:.85em;margin:0 2px}.fc .fc-daygrid-day-bottom:after,.fc .fc-daygrid-day-bottom:before{clear:both;content:"";display:table}.fc .fc-daygrid-more-link{border-radius:3px;cursor:pointer;line-height:1;margin-top:1px;max-width:100%;overflow:hidden;padding:2px;position:relative;white-space:nowrap;z-index:4}.fc .fc-daygrid-more-link:hover{background-color:rgba(0,0,0,.1)}.fc .fc-daygrid-week-number{background-color:var(--fc-neutral-bg-color);color:var(--fc-neutral-text-color);min-width:1.5em;padding:2px;position:absolute;text-align:center;top:0;z-index:5}.fc .fc-more-popover .fc-popover-body{min-width:220px;padding:10px}.fc-direction-ltr .fc-daygrid-event.fc-event-start,.fc-direction-rtl .fc-daygrid-event.fc-event-end{margin-left:2px}.fc-direction-ltr .fc-daygrid-event.fc-event-end,.fc-direction-rtl .fc-daygrid-event.fc-event-start{margin-right:2px}.fc-direction-ltr .fc-daygrid-more-link{float:left}.fc-direction-ltr .fc-daygrid-week-number{border-radius:0 0 3px 0;left:0}.fc-direction-rtl .fc-daygrid-more-link{float:right}.fc-direction-rtl .fc-daygrid-week-number{border-radius:0 0 0 3px;right:0}.fc-liquid-hack .fc-daygrid-day-frame{position:static}.fc-daygrid-event{border-radius:3px;font-size:var(--fc-small-font-size);position:relative;white-space:nowrap}.fc-daygrid-block-event .fc-event-time{font-weight:700}.fc-daygrid-block-event .fc-event-time,.fc-daygrid-block-event .fc-event-title{padding:1px}.fc-daygrid-dot-event{align-items:center;display:flex;padding:2px 0}.fc-daygrid-dot-event .fc-event-title{flex-grow:1;flex-shrink:1;font-weight:700;min-width:0;overflow:hidden}.fc-daygrid-dot-event.fc-event-mirror,.fc-daygrid-dot-event:hover{background:rgba(0,0,0,.1)}.fc-daygrid-dot-event.fc-event-selected:before{bottom:-10px;top:-10px}.fc-daygrid-event-dot{border:calc(var(--fc-daygrid-event-dot-width)/2) solid var(--fc-event-border-color);border-radius:calc(var(--fc-daygrid-event-dot-width)/2);box-sizing:content-box;height:0;margin:0 4px;width:0}.fc-direction-ltr .fc-daygrid-event .fc-event-time{margin-right:3px}.fc-direction-rtl .fc-daygrid-event .fc-event-time{margin-left:3px}';nv(GK);var rP=is({name:"@fullcalendar/daygrid",initialView:"dayGridMonth",views:{dayGrid:{component:kv,dateProfileGeneratorClass:Rv},dayGridDay:{type:"dayGrid",duration:{days:1}},dayGridWeek:{type:"dayGrid",duration:{weeks:1}},dayGridMonth:{type:"dayGrid",duration:{months:1},fixedWeekCount:!0},dayGridYear:{type:"dayGrid",duration:{years:1}}}});Oh.touchMouseIgnoreWait=500;var $1=0,Ov=0,U1=!1,Lv=class{constructor(e){this.subjectEl=null,this.selector="",this.handleSelector="",this.shouldIgnoreMove=!1,this.shouldWatchScroll=!0,this.isDragging=!1,this.isTouchDragging=!1,this.wasTouchScroll=!1,this.handleMouseDown=t=>{if(!this.shouldIgnoreMouse()&&qK(t)&&this.tryStart(t)){let i=this.createEventFromMouse(t,!0);this.emitter.trigger("pointerdown",i),this.initScrollWatch(i),this.shouldIgnoreMove||document.addEventListener("mousemove",this.handleMouseMove),document.addEventListener("mouseup",this.handleMouseUp)}},this.handleMouseMove=t=>{let i=this.createEventFromMouse(t);this.recordCoords(i),this.emitter.trigger("pointermove",i)},this.handleMouseUp=t=>{document.removeEventListener("mousemove",this.handleMouseMove),document.removeEventListener("mouseup",this.handleMouseUp),this.emitter.trigger("pointerup",this.createEventFromMouse(t)),this.cleanup()},this.handleTouchStart=t=>{if(this.tryStart(t)){this.isTouchDragging=!0;let i=this.createEventFromTouch(t,!0);this.emitter.trigger("pointerdown",i),this.initScrollWatch(i);let r=t.target;this.shouldIgnoreMove||r.addEventListener("touchmove",this.handleTouchMove),r.addEventListener("touchend",this.handleTouchEnd),r.addEventListener("touchcancel",this.handleTouchEnd),window.addEventListener("scroll",this.handleTouchScroll,!0)}},this.handleTouchMove=t=>{let i=this.createEventFromTouch(t);this.recordCoords(i),this.emitter.trigger("pointermove",i)},this.handleTouchEnd=t=>{if(this.isDragging){let i=t.target;i.removeEventListener("touchmove",this.handleTouchMove),i.removeEventListener("touchend",this.handleTouchEnd),i.removeEventListener("touchcancel",this.handleTouchEnd),window.removeEventListener("scroll",this.handleTouchScroll,!0),this.emitter.trigger("pointerup",this.createEventFromTouch(t)),this.cleanup(),this.isTouchDragging=!1,WK()}},this.handleTouchScroll=()=>{this.wasTouchScroll=!0},this.handleScroll=t=>{if(!this.shouldIgnoreMove){let i=window.scrollX-this.prevScrollX+this.prevPageX,r=window.scrollY-this.prevScrollY+this.prevPageY;this.emitter.trigger("pointermove",{origEvent:t,isTouch:this.isTouchDragging,subjectEl:this.subjectEl,pageX:i,pageY:r,deltaX:i-this.origPageX,deltaY:r-this.origPageY})}},this.containerEl=e,this.emitter=new As,e.addEventListener("mousedown",this.handleMouseDown),e.addEventListener("touchstart",this.handleTouchStart,{passive:!0}),YK()}destroy(){this.containerEl.removeEventListener("mousedown",this.handleMouseDown),this.containerEl.removeEventListener("touchstart",this.handleTouchStart,{passive:!0}),QK()}tryStart(e){let t=this.querySubjectEl(e),i=e.target;return t&&(!this.handleSelector||pn(i,this.handleSelector))?(this.subjectEl=t,this.isDragging=!0,this.wasTouchScroll=!1,!0):!1}cleanup(){U1=!1,this.isDragging=!1,this.subjectEl=null,this.destroyScrollWatch()}querySubjectEl(e){return this.selector?pn(e.target,this.selector):this.containerEl}shouldIgnoreMouse(){return $1||this.isTouchDragging}cancelTouchScroll(){this.isDragging&&(U1=!0)}initScrollWatch(e){this.shouldWatchScroll&&(this.recordCoords(e),window.addEventListener("scroll",this.handleScroll,!0))}recordCoords(e){this.shouldWatchScroll&&(this.prevPageX=e.pageX,this.prevPageY=e.pageY,this.prevScrollX=window.scrollX,this.prevScrollY=window.scrollY)}destroyScrollWatch(){this.shouldWatchScroll&&window.removeEventListener("scroll",this.handleScroll,!0)}createEventFromMouse(e,t){let i=0,r=0;return t?(this.origPageX=e.pageX,this.origPageY=e.pageY):(i=e.pageX-this.origPageX,r=e.pageY-this.origPageY),{origEvent:e,isTouch:!1,subjectEl:this.subjectEl,pageX:e.pageX,pageY:e.pageY,deltaX:i,deltaY:r}}createEventFromTouch(e,t){let i=e.touches,r,s,o=0,a=0;return i&&i.length?(r=i[0].pageX,s=i[0].pageY):(r=e.pageX,s=e.pageY),t?(this.origPageX=r,this.origPageY=s):(o=r-this.origPageX,a=s-this.origPageY),{origEvent:e,isTouch:!0,subjectEl:this.subjectEl,pageX:r,pageY:s,deltaX:o,deltaY:a}}};function qK(n){return n.button===0&&!n.ctrlKey}function WK(){$1+=1,setTimeout(()=>{$1-=1},Oh.touchMouseIgnoreWait)}function YK(){Ov+=1,Ov===1&&window.addEventListener("touchmove",oP,{passive:!1})}function QK(){Ov-=1,Ov||window.removeEventListener("touchmove",oP,{passive:!1})}function oP(n){U1&&n.preventDefault()}var G1=class{constructor(){this.isVisible=!1,this.sourceEl=null,this.mirrorEl=null,this.sourceElRect=null,this.parentNode=document.body,this.zIndex=9999,this.revertDuration=0}start(e,t,i){this.sourceEl=e,this.sourceElRect=this.sourceEl.getBoundingClientRect(),this.origScreenX=t-window.scrollX,this.origScreenY=i-window.scrollY,this.deltaX=0,this.deltaY=0,this.updateElPosition()}handleMove(e,t){this.deltaX=e-window.scrollX-this.origScreenX,this.deltaY=t-window.scrollY-this.origScreenY,this.updateElPosition()}setIsVisible(e){e?this.isVisible||(this.mirrorEl&&(this.mirrorEl.style.display=""),this.isVisible=e,this.updateElPosition()):this.isVisible&&(this.mirrorEl&&(this.mirrorEl.style.display="none"),this.isVisible=e)}stop(e,t){let i=()=>{this.cleanup(),t()};e&&this.mirrorEl&&this.isVisible&&this.revertDuration&&(this.deltaX||this.deltaY)?this.doRevertAnimation(i,this.revertDuration):setTimeout(i,0)}doRevertAnimation(e,t){let i=this.mirrorEl,r=this.sourceEl.getBoundingClientRect();i.style.transition="top "+t+"ms,left "+t+"ms",Va(i,{left:r.left,top:r.top}),NS(i,()=>{i.style.transition="",e()})}cleanup(){this.mirrorEl&&(xh(this.mirrorEl),this.mirrorEl=null),this.sourceEl=null}updateElPosition(){this.sourceEl&&this.isVisible&&Va(this.getMirrorEl(),{left:this.sourceElRect.left+this.deltaX,top:this.sourceElRect.top+this.deltaY})}getMirrorEl(){let e=this.sourceElRect,t=this.mirrorEl;return t||(t=this.mirrorEl=this.sourceEl.cloneNode(!0),t.style.userSelect="none",t.style.webkitUserSelect="none",t.style.pointerEvents="none",t.classList.add("fc-event-dragging"),Va(t,{position:"fixed",zIndex:this.zIndex,visibility:"",boxSizing:"border-box",width:e.right-e.left,height:e.bottom-e.top,right:"auto",bottom:"auto",margin:0}),this.parentNode.appendChild(t)),t}},Nv=class extends Na{constructor(e,t){super(),this.handleScroll=()=>{this.scrollTop=this.scrollController.getScrollTop(),this.scrollLeft=this.scrollController.getScrollLeft(),this.handleScrollChange()},this.scrollController=e,this.doesListening=t,this.scrollTop=this.origScrollTop=e.getScrollTop(),this.scrollLeft=this.origScrollLeft=e.getScrollLeft(),this.scrollWidth=e.getScrollWidth(),this.scrollHeight=e.getScrollHeight(),this.clientWidth=e.getClientWidth(),this.clientHeight=e.getClientHeight(),this.clientRect=this.computeClientRect(),this.doesListening&&this.getEventTarget().addEventListener("scroll",this.handleScroll)}destroy(){this.doesListening&&this.getEventTarget().removeEventListener("scroll",this.handleScroll)}getScrollTop(){return this.scrollTop}getScrollLeft(){return this.scrollLeft}setScrollTop(e){this.scrollController.setScrollTop(e),this.doesListening||(this.scrollTop=Math.max(Math.min(e,this.getMaxScrollTop()),0),this.handleScrollChange())}setScrollLeft(e){this.scrollController.setScrollLeft(e),this.doesListening||(this.scrollLeft=Math.max(Math.min(e,this.getMaxScrollLeft()),0),this.handleScrollChange())}getClientWidth(){return this.clientWidth}getClientHeight(){return this.clientHeight}getScrollWidth(){return this.scrollWidth}getScrollHeight(){return this.scrollHeight}handleScrollChange(){}},Fv=class extends Nv{constructor(e,t){super(new ch(e),t)}getEventTarget(){return this.scrollController.el}computeClientRect(){return v1(this.scrollController.el)}},q1=class extends Nv{constructor(e){super(new uh,e)}getEventTarget(){return window}computeClientRect(){return{left:this.scrollLeft,right:this.scrollLeft+this.clientWidth,top:this.scrollTop,bottom:this.scrollTop+this.clientHeight}}handleScrollChange(){this.clientRect=this.computeClientRect()}},sP=typeof performance=="function"?performance.now:Date.now,W1=class{constructor(){this.isEnabled=!0,this.scrollQuery=[window,".fc-scroller"],this.edgeThreshold=50,this.maxVelocity=300,this.pointerScreenX=null,this.pointerScreenY=null,this.isAnimating=!1,this.scrollCaches=null,this.everMovedUp=!1,this.everMovedDown=!1,this.everMovedLeft=!1,this.everMovedRight=!1,this.animate=()=>{if(this.isAnimating){let e=this.computeBestEdge(this.pointerScreenX+window.scrollX,this.pointerScreenY+window.scrollY);if(e){let t=sP();this.handleSide(e,(t-this.msSinceRequest)/1e3),this.requestAnimation(t)}else this.isAnimating=!1}}}start(e,t,i){this.isEnabled&&(this.scrollCaches=this.buildCaches(i),this.pointerScreenX=null,this.pointerScreenY=null,this.everMovedUp=!1,this.everMovedDown=!1,this.everMovedLeft=!1,this.everMovedRight=!1,this.handleMove(e,t))}handleMove(e,t){if(this.isEnabled){let i=e-window.scrollX,r=t-window.scrollY,s=this.pointerScreenY===null?0:r-this.pointerScreenY,o=this.pointerScreenX===null?0:i-this.pointerScreenX;s<0?this.everMovedUp=!0:s>0&&(this.everMovedDown=!0),o<0?this.everMovedLeft=!0:o>0&&(this.everMovedRight=!0),this.pointerScreenX=i,this.pointerScreenY=r,this.isAnimating||(this.isAnimating=!0,this.requestAnimation(sP()))}}stop(){if(this.isEnabled){this.isAnimating=!1;for(let e of this.scrollCaches)e.destroy();this.scrollCaches=null}}requestAnimation(e){this.msSinceRequest=e,requestAnimationFrame(this.animate)}handleSide(e,t){let{scrollCache:i}=e,{edgeThreshold:r}=this,s=r-e.distance,o=s*s/(r*r)*this.maxVelocity*t,a=1;switch(e.name){case"left":a=-1;case"right":i.setScrollLeft(i.getScrollLeft()+o*a);break;case"top":a=-1;case"bottom":i.setScrollTop(i.getScrollTop()+o*a);break}}computeBestEdge(e,t){let{edgeThreshold:i}=this,r=null,s=this.scrollCaches||[];for(let o of s){let a=o.clientRect,l=e-a.left,c=a.right-e,u=t-a.top,p=a.bottom-t;l>=0&&c>=0&&u>=0&&p>=0&&(u<=i&&this.everMovedUp&&o.canScrollUp()&&(!r||r.distance>u)&&(r={scrollCache:o,name:"top",distance:u}),p<=i&&this.everMovedDown&&o.canScrollDown()&&(!r||r.distance>p)&&(r={scrollCache:o,name:"bottom",distance:p}),l<=i&&this.everMovedLeft&&o.canScrollLeft()&&(!r||r.distance>l)&&(r={scrollCache:o,name:"left",distance:l}),c<=i&&this.everMovedRight&&o.canScrollRight()&&(!r||r.distance>c)&&(r={scrollCache:o,name:"right",distance:c}))}return r}buildCaches(e){return this.queryScrollEls(e).map(t=>t===window?new q1(!1):new Fv(t,!1))}queryScrollEls(e){let t=[];for(let i of this.scrollQuery)typeof i=="object"?t.push(i):t.push(...Array.prototype.slice.call(e.getRootNode().querySelectorAll(i)));return t}},za=class extends hh{constructor(e,t){super(e),this.containerEl=e,this.delay=null,this.minDistance=0,this.touchScrollAllowed=!0,this.mirrorNeedsRevert=!1,this.isInteracting=!1,this.isDragging=!1,this.isDelayEnded=!1,this.isDistanceSurpassed=!1,this.delayTimeoutId=null,this.onPointerDown=r=>{this.isDragging||(this.isInteracting=!0,this.isDelayEnded=!1,this.isDistanceSurpassed=!1,FS(document.body),VS(document.body),r.isTouch||r.origEvent.preventDefault(),this.emitter.trigger("pointerdown",r),this.isInteracting&&!this.pointer.shouldIgnoreMove&&(this.mirror.setIsVisible(!1),this.mirror.start(r.subjectEl,r.pageX,r.pageY),this.startDelay(r),this.minDistance||this.handleDistanceSurpassed(r)))},this.onPointerMove=r=>{if(this.isInteracting){if(this.emitter.trigger("pointermove",r),!this.isDistanceSurpassed){let s=this.minDistance,o,{deltaX:a,deltaY:l}=r;o=a*a+l*l,o>=s*s&&this.handleDistanceSurpassed(r)}this.isDragging&&(r.origEvent.type!=="scroll"&&(this.mirror.handleMove(r.pageX,r.pageY),this.autoScroller.handleMove(r.pageX,r.pageY)),this.emitter.trigger("dragmove",r))}},this.onPointerUp=r=>{this.isInteracting&&(this.isInteracting=!1,PS(document.body),BS(document.body),this.emitter.trigger("pointerup",r),this.isDragging&&(this.autoScroller.stop(),this.tryStopDrag(r)),this.delayTimeoutId&&(clearTimeout(this.delayTimeoutId),this.delayTimeoutId=null))};let i=this.pointer=new Lv(e);i.emitter.on("pointerdown",this.onPointerDown),i.emitter.on("pointermove",this.onPointerMove),i.emitter.on("pointerup",this.onPointerUp),t&&(i.selector=t),this.mirror=new G1,this.autoScroller=new W1}destroy(){this.pointer.destroy(),this.onPointerUp({})}startDelay(e){typeof this.delay=="number"?this.delayTimeoutId=setTimeout(()=>{this.delayTimeoutId=null,this.handleDelayEnd(e)},this.delay):this.handleDelayEnd(e)}handleDelayEnd(e){this.isDelayEnded=!0,this.tryStartDrag(e)}handleDistanceSurpassed(e){this.isDistanceSurpassed=!0,this.tryStartDrag(e)}tryStartDrag(e){this.isDelayEnded&&this.isDistanceSurpassed&&(!this.pointer.wasTouchScroll||this.touchScrollAllowed)&&(this.isDragging=!0,this.mirrorNeedsRevert=!1,this.autoScroller.start(e.pageX,e.pageY,this.containerEl),this.emitter.trigger("dragstart",e),this.touchScrollAllowed===!1&&this.pointer.cancelTouchScroll())}tryStopDrag(e){this.mirror.stop(this.mirrorNeedsRevert,this.stopDrag.bind(this,e))}stopDrag(e){this.isDragging=!1,this.emitter.trigger("dragend",e)}setIgnoreMove(e){this.pointer.shouldIgnoreMove=e}setMirrorIsVisible(e){this.mirror.setIsVisible(e)}setMirrorNeedsRevert(e){this.mirrorNeedsRevert=e}setAutoScrollEnabled(e){this.autoScroller.isEnabled=e}},Y1=class{constructor(e){this.el=e,this.origRect=Rh(e),this.scrollCaches=yv(e).map(t=>new Fv(t,!0))}destroy(){for(let e of this.scrollCaches)e.destroy()}computeLeft(){let e=this.origRect.left;for(let t of this.scrollCaches)e+=t.origScrollLeft-t.getScrollLeft();return e}computeTop(){let e=this.origRect.top;for(let t of this.scrollCaches)e+=t.origScrollTop-t.getScrollTop();return e}isWithinClipping(e,t){let i={left:e,top:t};for(let r of this.scrollCaches)if(!XK(r.getEventTarget())&&!h1(i,r.clientRect))return!1;return!0}};function XK(n){let e=n.tagName;return e==="HTML"||e==="BODY"}var Pc=class{constructor(e,t){this.useSubjectCenter=!1,this.requireInitial=!0,this.disablePointCheck=!1,this.initialHit=null,this.movingHit=null,this.finalHit=null,this.handlePointerDown=i=>{let{dragging:r}=this;this.initialHit=null,this.movingHit=null,this.finalHit=null,this.prepareHits(),this.processFirstCoord(i),this.initialHit||!this.requireInitial?(r.setIgnoreMove(!1),this.emitter.trigger("pointerdown",i)):r.setIgnoreMove(!0)},this.handleDragStart=i=>{this.emitter.trigger("dragstart",i),this.handleMove(i,!0)},this.handleDragMove=i=>{this.emitter.trigger("dragmove",i),this.handleMove(i)},this.handlePointerUp=i=>{this.releaseHits(),this.emitter.trigger("pointerup",i)},this.handleDragEnd=i=>{this.movingHit&&this.emitter.trigger("hitupdate",null,!0,i),this.finalHit=this.movingHit,this.movingHit=null,this.emitter.trigger("dragend",i)},this.droppableStore=t,e.emitter.on("pointerdown",this.handlePointerDown),e.emitter.on("dragstart",this.handleDragStart),e.emitter.on("dragmove",this.handleDragMove),e.emitter.on("pointerup",this.handlePointerUp),e.emitter.on("dragend",this.handleDragEnd),this.dragging=e,this.emitter=new As}processFirstCoord(e){let t={left:e.pageX,top:e.pageY},i=t,r=e.subjectEl,s;r instanceof HTMLElement&&(s=Rh(r),i=p1(i,s));let o=this.initialHit=this.queryHitForOffset(i.left,i.top);if(o){if(this.useSubjectCenter&&s){let a=gv(s,o.rect);a&&(i=f1(a))}this.coordAdjust=m1(i,t)}else this.coordAdjust={left:0,top:0}}handleMove(e,t){let i=this.queryHitForOffset(e.pageX+this.coordAdjust.left,e.pageY+this.coordAdjust.top);(t||!Pv(this.movingHit,i))&&(this.movingHit=i,this.emitter.trigger("hitupdate",i,!1,e))}prepareHits(){this.offsetTrackers=Jr(this.droppableStore,e=>(e.component.prepareHits(),new Y1(e.el)))}releaseHits(){let{offsetTrackers:e}=this;for(let t in e)e[t].destroy();this.offsetTrackers={}}queryHitForOffset(e,t){let{droppableStore:i,offsetTrackers:r}=this,s=null;for(let o in i){let a=i[o].component,l=r[o];if(l&&l.isWithinClipping(e,t)){let c=l.computeLeft(),u=l.computeTop(),p=e-c,m=t-u,{origRect:f}=l,_=f.right-f.left,w=f.bottom-f.top;if(p>=0&&p<_&&m>=0&&m<w){let S=a.queryHit(p,m,_,w);S&&Rc(S.dateProfile.activeRange,S.dateSpan.range)&&(this.disablePointCheck||l.el.contains(l.el.getRootNode().elementFromPoint(p+c-window.scrollX,m+u-window.scrollY)))&&(!s||S.layer>s.layer)&&(S.componentId=o,S.context=a.context,S.rect.left+=c,S.rect.right+=c,S.rect.top+=u,S.rect.bottom+=u,s=S)}}}return s}};function Pv(n,e){return!n&&!e?!0:!!n!=!!e?!1:a1(n.dateSpan,e.dateSpan)}function aP(n,e){let t={};for(let i of e.pluginHooks.datePointTransforms)Object.assign(t,i(n,e));return Object.assign(t,ZK(n,e.dateEnv)),t}function ZK(n,e){return{date:e.toDate(n.range.start),dateStr:e.formatIso(n.range.start,{omitTime:n.allDay}),allDay:n.allDay}}var Q1=class extends pr{constructor(e){super(e),this.handlePointerDown=i=>{let{dragging:r}=this,s=i.origEvent.target;r.setIgnoreMove(!this.component.isValidDateDownEl(s))},this.handleDragEnd=i=>{let{component:r}=this,{pointer:s}=this.dragging;if(!s.wasTouchScroll){let{initialHit:o,finalHit:a}=this.hitDragging;if(o&&a&&Pv(o,a)){let{context:l}=r,c=Object.assign(Object.assign({},aP(o.dateSpan,l)),{dayEl:o.dayEl,jsEvent:i.origEvent,view:l.viewApi||l.calendarApi.view});l.emitter.trigger("dateClick",c)}}},this.dragging=new za(e.el),this.dragging.autoScroller.isEnabled=!1;let t=this.hitDragging=new Pc(this.dragging,Mh(e));t.emitter.on("pointerdown",this.handlePointerDown),t.emitter.on("dragend",this.handleDragEnd)}destroy(){this.dragging.destroy()}},X1=class extends pr{constructor(e){super(e),this.dragSelection=null,this.handlePointerDown=o=>{let{component:a,dragging:l}=this,{options:c}=a.context,u=c.selectable&&a.isValidDateDownEl(o.origEvent.target);l.setIgnoreMove(!u),l.delay=o.isTouch?KK(a):null},this.handleDragStart=o=>{this.component.context.calendarApi.unselect(o)},this.handleHitUpdate=(o,a)=>{let{context:l}=this.component,c=null,u=!1;if(o){let p=this.hitDragging.initialHit;o.componentId===p.componentId&&this.isHitComboAllowed&&!this.isHitComboAllowed(p,o)||(c=JK(p,o,l.pluginHooks.dateSelectionTransformers)),(!c||!y1(c,o.dateProfile,l))&&(u=!0,c=null)}c?l.dispatch({type:"SELECT_DATES",selection:c}):a||l.dispatch({type:"UNSELECT_DATES"}),u?wh():Sh(),a||(this.dragSelection=c)},this.handlePointerUp=o=>{this.dragSelection&&(pv(this.dragSelection,o,this.component.context),this.dragSelection=null)};let{component:t}=e,{options:i}=t.context,r=this.dragging=new za(e.el);r.touchScrollAllowed=!1,r.minDistance=i.selectMinDistance||0,r.autoScroller.isEnabled=i.dragScroll;let s=this.hitDragging=new Pc(this.dragging,Mh(e));s.emitter.on("pointerdown",this.handlePointerDown),s.emitter.on("dragstart",this.handleDragStart),s.emitter.on("hitupdate",this.handleHitUpdate),s.emitter.on("pointerup",this.handlePointerUp)}destroy(){this.dragging.destroy()}};function KK(n){let{options:e}=n.context,t=e.selectLongPressDelay;return t==null&&(t=e.longPressDelay),t}function JK(n,e,t){let i=n.dateSpan,r=e.dateSpan,s=[i.range.start,i.range.end,r.range.start,r.range.end];s.sort(jS);let o={};for(let a of t){let l=a(n,e);if(l===!1)return null;l&&Object.assign(o,l)}return o.range={start:s[0],end:s[3]},o.allDay=i.allDay,o}var lP=(()=>{class n extends pr{constructor(t){super(t),this.subjectEl=null,this.subjectSeg=null,this.isDragging=!1,this.eventRange=null,this.relevantEvents=null,this.receivingContext=null,this.validMutation=null,this.mutatedRelevantEvents=null,this.handlePointerDown=a=>{let l=a.origEvent.target,{component:c,dragging:u}=this,{mirror:p}=u,{options:m}=c.context,f=c.context;this.subjectEl=a.subjectEl;let _=this.subjectSeg=ks(a.subjectEl),S=(this.eventRange=_.eventRange).instance.instanceId;this.relevantEvents=Ah(f.getCurrentData().eventStore,S),u.minDistance=a.isTouch?0:m.eventDragMinDistance,u.delay=a.isTouch&&S!==c.props.eventSelection?tJ(c):null,m.fixedMirrorParent?p.parentNode=m.fixedMirrorParent:p.parentNode=pn(l,".fc"),p.revertDuration=m.dragRevertDuration;let D=c.isValidSegDownEl(l)&&!pn(l,".fc-event-resizer");u.setIgnoreMove(!D),this.isDragging=D&&a.subjectEl.classList.contains("fc-event-draggable")},this.handleDragStart=a=>{let l=this.component.context,c=this.eventRange,u=c.instance.instanceId;a.isTouch?u!==this.component.props.eventSelection&&l.dispatch({type:"SELECT_EVENT",eventInstanceId:u}):l.dispatch({type:"UNSELECT_EVENT"}),this.isDragging&&(l.calendarApi.unselect(a),l.emitter.trigger("eventDragStart",{el:this.subjectEl,event:new bt(l,c.def,c.instance),jsEvent:a.origEvent,view:l.viewApi}))},this.handleHitUpdate=(a,l)=>{if(!this.isDragging)return;let c=this.relevantEvents,u=this.hitDragging.initialHit,p=this.component.context,m=null,f=null,_=null,w=!1,S={affectedEvents:c,mutatedEvents:oi(),isEvent:!0};if(a){m=a.context;let D=m.options;p===m||D.editable&&D.droppable?(f=eJ(u,a,this.eventRange.instance.range.start,m.getCurrentData().pluginHooks.eventDragMutationMassagers),f&&(_=Ih(c,m.getCurrentData().eventUiBases,f,m),S.mutatedEvents=_,xv(S,a.dateProfile,m)||(w=!0,f=null,_=null,S.mutatedEvents=oi()))):m=null}this.displayDrag(m,S),w?wh():Sh(),l||(p===m&&Pv(u,a)&&(f=null),this.dragging.setMirrorNeedsRevert(!f),this.dragging.setMirrorIsVisible(!a||!this.subjectEl.getRootNode().querySelector(".fc-event-mirror")),this.receivingContext=m,this.validMutation=f,this.mutatedRelevantEvents=_)},this.handlePointerUp=()=>{this.isDragging||this.cleanup()},this.handleDragEnd=a=>{if(this.isDragging){let l=this.component.context,c=l.viewApi,{receivingContext:u,validMutation:p}=this,m=this.eventRange.def,f=this.eventRange.instance,_=new bt(l,m,f),w=this.relevantEvents,S=this.mutatedRelevantEvents,{finalHit:D}=this.hitDragging;if(this.clearDrag(),l.emitter.trigger("eventDragStop",{el:this.subjectEl,event:_,jsEvent:a.origEvent,view:c}),p){if(u===l){let R=new bt(l,S.defs[m.defId],f?S.instances[f.instanceId]:null);l.dispatch({type:"MERGE_EVENTS",eventStore:S});let F={oldEvent:_,event:R,relatedEvents:ts(S,l,f),revert(){l.dispatch({type:"MERGE_EVENTS",eventStore:w})}},U={};for(let ne of l.getCurrentData().pluginHooks.eventDropTransformers)Object.assign(U,ne(p,l));l.emitter.trigger("eventDrop",Object.assign(Object.assign(Object.assign({},F),U),{el:a.subjectEl,delta:p.datesDelta,jsEvent:a.origEvent,view:c})),l.emitter.trigger("eventChange",F)}else if(u){let R={event:_,relatedEvents:ts(w,l,f),revert(){l.dispatch({type:"MERGE_EVENTS",eventStore:w})}};l.emitter.trigger("eventLeave",Object.assign(Object.assign({},R),{draggedEl:a.subjectEl,view:c})),l.dispatch({type:"REMOVE_EVENTS",eventStore:w}),l.emitter.trigger("eventRemove",R);let F=S.defs[m.defId],U=S.instances[f.instanceId],ne=new bt(u,F,U);u.dispatch({type:"MERGE_EVENTS",eventStore:S});let le={event:ne,relatedEvents:ts(S,u,U),revert(){u.dispatch({type:"REMOVE_EVENTS",eventStore:S})}};u.emitter.trigger("eventAdd",le),a.isTouch&&u.dispatch({type:"SELECT_EVENT",eventInstanceId:f.instanceId}),u.emitter.trigger("drop",Object.assign(Object.assign({},aP(D.dateSpan,u)),{draggedEl:a.subjectEl,jsEvent:a.origEvent,view:D.context.viewApi})),u.emitter.trigger("eventReceive",Object.assign(Object.assign({},le),{draggedEl:a.subjectEl,view:D.context.viewApi}))}}else l.emitter.trigger("_noEventDrop")}this.cleanup()};let{component:i}=this,{options:r}=i.context,s=this.dragging=new za(t.el);s.pointer.selector=n.SELECTOR,s.touchScrollAllowed=!1,s.autoScroller.isEnabled=r.dragScroll;let o=this.hitDragging=new Pc(this.dragging,Nc);o.useSubjectCenter=t.useEventCenter,o.emitter.on("pointerdown",this.handlePointerDown),o.emitter.on("dragstart",this.handleDragStart),o.emitter.on("hitupdate",this.handleHitUpdate),o.emitter.on("pointerup",this.handlePointerUp),o.emitter.on("dragend",this.handleDragEnd)}destroy(){this.dragging.destroy()}displayDrag(t,i){let r=this.component.context,s=this.receivingContext;s&&s!==t&&(s===r?s.dispatch({type:"SET_EVENT_DRAG",state:{affectedEvents:i.affectedEvents,mutatedEvents:oi(),isEvent:!0}}):s.dispatch({type:"UNSET_EVENT_DRAG"})),t&&t.dispatch({type:"SET_EVENT_DRAG",state:i})}clearDrag(){let t=this.component.context,{receivingContext:i}=this;i&&i.dispatch({type:"UNSET_EVENT_DRAG"}),t!==i&&t.dispatch({type:"UNSET_EVENT_DRAG"})}cleanup(){this.subjectSeg=null,this.isDragging=!1,this.eventRange=null,this.relevantEvents=null,this.receivingContext=null,this.validMutation=null,this.mutatedRelevantEvents=null}}return n.SELECTOR=".fc-event-draggable, .fc-event-resizable",n})();function eJ(n,e,t,i){let r=n.dateSpan,s=e.dateSpan,o=r.range.start,a=s.range.start,l={};r.allDay!==s.allDay&&(l.allDay=s.allDay,l.hasEnd=e.context.options.allDayMaintainDuration,s.allDay?o=_t(t):o=t);let c=Lo(o,a,n.context.dateEnv,n.componentId===e.componentId?n.largeUnit:null);c.milliseconds&&(l.allDay=!1);let u={datesDelta:c,standardProps:l};for(let p of i)p(u,n,e);return u}function tJ(n){let{options:e}=n.context,t=e.eventLongPressDelay;return t==null&&(t=e.longPressDelay),t}var Z1=class extends pr{constructor(e){super(e),this.draggingSegEl=null,this.draggingSeg=null,this.eventRange=null,this.relevantEvents=null,this.validMutation=null,this.mutatedRelevantEvents=null,this.handlePointerDown=s=>{let{component:o}=this,a=this.querySegEl(s),l=ks(a),c=this.eventRange=l.eventRange;this.dragging.minDistance=o.context.options.eventDragMinDistance,this.dragging.setIgnoreMove(!this.component.isValidSegDownEl(s.origEvent.target)||s.isTouch&&this.component.props.eventSelection!==c.instance.instanceId)},this.handleDragStart=s=>{let{context:o}=this.component,a=this.eventRange;this.relevantEvents=Ah(o.getCurrentData().eventStore,this.eventRange.instance.instanceId);let l=this.querySegEl(s);this.draggingSegEl=l,this.draggingSeg=ks(l),o.calendarApi.unselect(),o.emitter.trigger("eventResizeStart",{el:l,event:new bt(o,a.def,a.instance),jsEvent:s.origEvent,view:o.viewApi})},this.handleHitUpdate=(s,o,a)=>{let{context:l}=this.component,c=this.relevantEvents,u=this.hitDragging.initialHit,p=this.eventRange.instance,m=null,f=null,_=!1,w={affectedEvents:c,mutatedEvents:oi(),isEvent:!0};s&&(s.componentId===u.componentId&&this.isHitComboAllowed&&!this.isHitComboAllowed(u,s)||(m=nJ(u,s,a.subjectEl.classList.contains("fc-event-resizer-start"),p.range))),m&&(f=Ih(c,l.getCurrentData().eventUiBases,m,l),w.mutatedEvents=f,xv(w,s.dateProfile,l)||(_=!0,m=null,f=null,w.mutatedEvents=null)),f?l.dispatch({type:"SET_EVENT_RESIZE",state:w}):l.dispatch({type:"UNSET_EVENT_RESIZE"}),_?wh():Sh(),o||(m&&Pv(u,s)&&(m=null),this.validMutation=m,this.mutatedRelevantEvents=f)},this.handleDragEnd=s=>{let{context:o}=this.component,a=this.eventRange.def,l=this.eventRange.instance,c=new bt(o,a,l),u=this.relevantEvents,p=this.mutatedRelevantEvents;if(o.emitter.trigger("eventResizeStop",{el:this.draggingSegEl,event:c,jsEvent:s.origEvent,view:o.viewApi}),this.validMutation){let m=new bt(o,p.defs[a.defId],l?p.instances[l.instanceId]:null);o.dispatch({type:"MERGE_EVENTS",eventStore:p});let f={oldEvent:c,event:m,relatedEvents:ts(p,o,l),revert(){o.dispatch({type:"MERGE_EVENTS",eventStore:u})}};o.emitter.trigger("eventResize",Object.assign(Object.assign({},f),{el:this.draggingSegEl,startDelta:this.validMutation.startDelta||et(0),endDelta:this.validMutation.endDelta||et(0),jsEvent:s.origEvent,view:o.viewApi})),o.emitter.trigger("eventChange",f)}else o.emitter.trigger("_noEventResize");this.draggingSeg=null,this.relevantEvents=null,this.validMutation=null};let{component:t}=e,i=this.dragging=new za(e.el);i.pointer.selector=".fc-event-resizer",i.touchScrollAllowed=!1,i.autoScroller.isEnabled=t.context.options.dragScroll;let r=this.hitDragging=new Pc(this.dragging,Mh(e));r.emitter.on("pointerdown",this.handlePointerDown),r.emitter.on("dragstart",this.handleDragStart),r.emitter.on("hitupdate",this.handleHitUpdate),r.emitter.on("dragend",this.handleDragEnd)}destroy(){this.dragging.destroy()}querySegEl(e){return pn(e.subjectEl,".fc-event")}};function nJ(n,e,t,i){let r=n.context.dateEnv,s=n.dateSpan.range.start,o=e.dateSpan.range.start,a=Lo(s,o,r,n.largeUnit);if(t){if(r.add(i.start,a)<i.end)return{startDelta:a}}else if(r.add(i.end,a)>i.start)return{endDelta:a};return null}var K1=class{constructor(e){this.context=e,this.isRecentPointerDateSelect=!1,this.matchesCancel=!1,this.matchesEvent=!1,this.onSelect=i=>{i.jsEvent&&(this.isRecentPointerDateSelect=!0)},this.onDocumentPointerDown=i=>{let r=this.context.options.unselectCancel,s=iv(i.origEvent);this.matchesCancel=!!pn(s,r),this.matchesEvent=!!pn(s,lP.SELECTOR)},this.onDocumentPointerUp=i=>{let{context:r}=this,{documentPointer:s}=this,o=r.getCurrentData();if(!s.wasTouchScroll){if(o.dateSelection&&!this.isRecentPointerDateSelect){let a=r.options.unselectAuto;a&&(!a||!this.matchesCancel)&&r.calendarApi.unselect(i)}o.eventSelection&&!this.matchesEvent&&r.dispatch({type:"UNSELECT_EVENT"})}this.isRecentPointerDateSelect=!1};let t=this.documentPointer=new Lv(document);t.shouldIgnoreMove=!0,t.shouldWatchScroll=!1,t.emitter.on("pointerdown",this.onDocumentPointerDown),t.emitter.on("pointerup",this.onDocumentPointerUp),e.emitter.on("select",this.onSelect)}destroy(){this.context.emitter.off("select",this.onSelect),this.documentPointer.destroy()}},iJ={fixedMirrorParent:M},rJ={dateClick:M,eventDragStart:M,eventDragStop:M,eventDrop:M,eventResizeStart:M,eventResizeStop:M,eventResize:M,drop:M,eventReceive:M,eventLeave:M};Oh.dataAttrPrefix="";var cP=is({name:"@fullcalendar/interaction",componentInteractions:[Q1,X1,lP,Z1],calendarInteractions:[K1],elementDraggingImpl:za,optionRefiners:iJ,listenerRefiners:rJ});var sJ=["*"],oJ=["rootEl"],Bc=n=>({$implicit:n});function aJ(n,e){if(n&1&&(h(0,"div",2,0),Pn(2,3),d()),n&2){let t=b();y("ngClass",t.elClasses||"")("ngStyle",t.elStyle||null),g(2),y("ngTemplateOutlet",t.template)("ngTemplateOutletContext",he(4,Bc,t.renderProps))}}function lJ(n,e){if(n&1&&(h(0,"span",2,0),Pn(2,3),d()),n&2){let t=b();y("ngClass",t.elClasses||"")("ngStyle",t.elStyle||null),g(2),y("ngTemplateOutlet",t.template)("ngTemplateOutletContext",he(4,Bc,t.renderProps))}}function cJ(n,e){if(n&1&&(h(0,"a",2,0),Pn(2,3),d()),n&2){let t=b();y("ngClass",t.elClasses||"")("ngStyle",t.elStyle||null),g(2),y("ngTemplateOutlet",t.template)("ngTemplateOutletContext",he(4,Bc,t.renderProps))}}function uJ(n,e){if(n&1&&(h(0,"tr",2,0),Pn(2,3),d()),n&2){let t=b();y("ngClass",t.elClasses||"")("ngStyle",t.elStyle||null),g(2),y("ngTemplateOutlet",t.template)("ngTemplateOutletContext",he(4,Bc,t.renderProps))}}function dJ(n,e){if(n&1&&(h(0,"th",2,0),Pn(2,3),d()),n&2){let t=b();y("ngClass",t.elClasses||"")("ngStyle",t.elStyle||null),g(2),y("ngTemplateOutlet",t.template)("ngTemplateOutletContext",he(4,Bc,t.renderProps))}}function hJ(n,e){if(n&1&&(h(0,"td",2,0),Pn(2,3),d()),n&2){let t=b();y("ngClass",t.elClasses||"")("ngStyle",t.elStyle||null),g(2),y("ngTemplateOutlet",t.template)("ngTemplateOutletContext",he(4,Bc,t.renderProps))}}var pJ=["dayHeaderContent"],fJ=["dayCellContent"],mJ=["weekNumberContent"],gJ=["nowIndicatorContent"],vJ=["eventContent"],yJ=["slotLaneContent"],_J=["slotLabelContent"],bJ=["allDayContent"],xJ=["moreLinkContent"],CJ=["noEventsContent"],wJ=["resourceAreaHeaderContent"],SJ=["resourceGroupLabelContent"],EJ=["resourceLabelContent"],DJ=["resourceLaneContent"],TJ=["resourceGroupLaneContent"];function AJ(n,e){if(n&1&&x(0,"transport-container",1),n&2){let t=e.$implicit,i=b();y("inPlaceOf",t.containerEl)("reportEl",t.reportNewContainerEl)("elTag",t.elTag)("elClasses",t.elClasses)("elStyle",t.elStyle)("elAttrs",t.elAttrs)("template",i.templateMap[t.generatorName])("renderProps",t.renderProps)}}var uP={headerToolbar:!0,footerToolbar:!0,events:!0,eventSources:!0,resources:!0},IJ=["events","eventSources","resources"],MJ=Object.prototype.hasOwnProperty;function Bv(n){return Array.isArray(n)?n.map(Bv):n instanceof Date?new Date(n.valueOf()):typeof n=="object"&&n?hP(n,Bv):n}function hP(n,e){let t={};for(let i in n)MJ.call(n,i)&&(t[i]=e(n[i],i));return t}function eE(n,e){if(n===e)return!0;if(n&&e&&typeof n=="object"&&typeof e=="object"){if(n.constructor!==e.constructor)return!1;var t,i,r;if(Array.isArray(n)){if(t=n.length,t!=e.length)return!1;for(i=t;i--!==0;)if(!eE(n[i],e[i]))return!1;return!0}if(n.constructor===RegExp)return n.source===e.source&&n.flags===e.flags;if(n.valueOf!==Object.prototype.valueOf)return n.valueOf()===e.valueOf();if(n.toString!==Object.prototype.toString)return n.toString()===e.toString();if(r=Object.keys(n),t=r.length,t!==Object.keys(e).length)return!1;for(i=t;i--!==0;)if(!Object.prototype.hasOwnProperty.call(e,r[i]))return!1;for(i=t;i--!==0;){var s=r[i];if(!eE(n[s],e[s]))return!1}return!0}return n!==n&&e!==e}var Vv=typeof document<"u"?document.createDocumentFragment():null,kJ=(()=>{class n{constructor(t){this.element=t}ngAfterViewInit(){Vv&&Vv.appendChild(this.element.nativeElement)}ngOnDestroy(){Vv&&Vv.removeChild(this.element.nativeElement)}}return n.\u0275fac=function(t){return new(t||n)(C(rt))},n.\u0275cmp=A({type:n,selectors:[["offscreen-fragment"]],ngContentSelectors:sJ,decls:1,vars:0,template:function(t,i){t&1&&(nr(),pi(0))},encapsulation:2}),n})(),Vc=typeof document<"u"?document.createDocumentFragment():null,RJ=(()=>{class n{ngAfterViewInit(){let t=this.rootElRef?.nativeElement;dP(t,this.inPlaceOf),J1(t,void 0,this.elAttrs),this.inPlaceOf.style.display="none",this.reportEl(t)}ngOnChanges(t){let i=this.rootElRef?.nativeElement;if(i)if(this.inPlaceOf.parentNode!==Vc)dP(i,this.inPlaceOf),J1(i,void 0,this.elAttrs),this.reportEl(i);else{let r=t.elAttrs;r&&J1(i,r.previousValue,r.currentValue)}}ngOnDestroy(){this.inPlaceOf.parentNode===Vc&&Vc&&Vc.removeChild(this.inPlaceOf),this.reportEl(null)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=A({type:n,selectors:[["transport-container"]],viewQuery:function(t,i){if(t&1&&Ct(oJ,5),t&2){let r;Te(r=Ae())&&(i.rootElRef=r.first)}},inputs:{inPlaceOf:"inPlaceOf",reportEl:"reportEl",elTag:"elTag",elClasses:"elClasses",elStyle:"elStyle",elAttrs:"elAttrs",template:"template",renderProps:"renderProps"},features:[Ge],decls:6,vars:6,consts:[["rootEl",""],[3,"ngIf"],[3,"ngClass","ngStyle"],[3,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(t,i){t&1&&T(0,aJ,3,6,"ng-template",1)(1,lJ,3,6,"ng-template",1)(2,cJ,3,6,"ng-template",1)(3,uJ,3,6,"ng-template",1)(4,dJ,3,6,"ng-template",1)(5,hJ,3,6,"ng-template",1),t&2&&(y("ngIf",i.elTag=="div"),g(),y("ngIf",i.elTag=="span"),g(),y("ngIf",i.elTag=="a"),g(),y("ngIf",i.elTag=="tr"),g(),y("ngIf",i.elTag=="th"),g(),y("ngIf",i.elTag=="td"))},dependencies:[Ce,Gt,EM,nm],encapsulation:2}),n})();function dP(n,e){e.parentNode?.insertBefore(n,e.nextSibling),Vc&&Vc.appendChild(e)}function J1(n,e={},t={}){for(let i in e)i in t||(n[i]=null);for(let i in t)n[i]=t[i]}var pP=(()=>{class n{constructor(t,i){this.element=t,this.calendar=null,this.optionSnapshot={},this.customRenderingMap=new Map,this.templateMap={};let r=new bh;r.subscribe(s=>{this.customRenderingMap=s,this.customRenderingArray=void 0,i.detectChanges()}),this.handleCustomRendering=r.handle.bind(r),this.templateMap=this}ngAfterViewInit(){let{deepChangeDetection:t}=this,i=P(P({},this.options),this.buildInputOptions());this.optionSnapshot=hP(i,(a,l)=>t&&uP[l]?Bv(a):a);let r=this.element.nativeElement,s=this.calendar=new Ev(r,P(P({},i),this.buildExtraOptions())),o=r.closest("ion-content");o&&o.componentOnReady?o.componentOnReady().then(()=>{window.requestAnimationFrame(()=>{s.render()})}):s.render()}ngDoCheck(){if(this.calendar){let{deepChangeDetection:t,optionSnapshot:i}=this,r=P(P({},this.options),this.buildInputOptions()),s={},o=[];for(let l in r)if(r.hasOwnProperty(l)){let c=r[l];t&&uP[l]?eE(i[l],c)||(i[l]=Bv(c),o.push(l)):i[l]!==c&&(i[l]=c,o.push(l)),s[l]=c}let a=Object.keys(i);for(let l of a)l in r||(delete i[l],o.push(l));o.length&&(this.calendar.pauseRendering(),this.calendar.resetOptions(P(P({},s),this.buildExtraOptions()),o))}}ngAfterContentChecked(){this.calendar&&this.calendar.resumeRendering()}ngOnDestroy(){this.calendar&&(this.calendar.destroy(),this.calendar=null)}get customRenderings(){return this.customRenderingArray||(this.customRenderingArray=[...this.customRenderingMap.values()])}getApi(){return this.calendar}buildInputOptions(){let t={};for(let i of IJ){let r=this[i];r!=null&&(t[i]=r)}return t}buildExtraOptions(){return{handleCustomRendering:this.handleCustomRendering,customRenderingMetaMap:this.templateMap,customRenderingReplaces:!0}}trackCustomRendering(t,i){return i.id}}return n.\u0275fac=function(t){return new(t||n)(C(rt),C(fi))},n.\u0275cmp=A({type:n,selectors:[["full-calendar"]],contentQueries:function(t,i,r){if(t&1&&(zt(r,pJ,7),zt(r,fJ,7),zt(r,mJ,7),zt(r,gJ,7),zt(r,vJ,7),zt(r,yJ,7),zt(r,_J,7),zt(r,bJ,7),zt(r,xJ,7),zt(r,CJ,7),zt(r,wJ,7),zt(r,SJ,7),zt(r,EJ,7),zt(r,DJ,7),zt(r,TJ,7)),t&2){let s;Te(s=Ae())&&(i.dayHeaderContent=s.first),Te(s=Ae())&&(i.dayCellContent=s.first),Te(s=Ae())&&(i.weekNumberContent=s.first),Te(s=Ae())&&(i.nowIndicatorContent=s.first),Te(s=Ae())&&(i.eventContent=s.first),Te(s=Ae())&&(i.slotLaneContent=s.first),Te(s=Ae())&&(i.slotLabelContent=s.first),Te(s=Ae())&&(i.allDayContent=s.first),Te(s=Ae())&&(i.moreLinkContent=s.first),Te(s=Ae())&&(i.noEventsContent=s.first),Te(s=Ae())&&(i.resourceAreaHeaderContent=s.first),Te(s=Ae())&&(i.resourceGroupLabelContent=s.first),Te(s=Ae())&&(i.resourceLabelContent=s.first),Te(s=Ae())&&(i.resourceLaneContent=s.first),Te(s=Ae())&&(i.resourceGroupLaneContent=s.first)}},inputs:{options:"options",deepChangeDetection:"deepChangeDetection",events:"events",eventSources:"eventSources",resources:"resources"},decls:2,vars:2,consts:[[3,"inPlaceOf","reportEl","elTag","elClasses","elStyle","elAttrs","template","renderProps",4,"ngFor","ngForOf","ngForTrackBy"],[3,"inPlaceOf","reportEl","elTag","elClasses","elStyle","elAttrs","template","renderProps"]],template:function(t,i){t&1&&(h(0,"offscreen-fragment"),T(1,AJ,1,8,"transport-container",0),d()),t&2&&(g(),y("ngForOf",i.customRenderings)("ngForTrackBy",i.trackCustomRendering))},dependencies:[kJ,RJ,rn],encapsulation:2}),n})(),jv=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Xe({type:n}),n.\u0275inj=Qe({imports:[[Xt]]}),n})();var fP={code:"pt",week:{dow:1,doy:4},buttonText:{prev:"Anterior",next:"Seguinte",today:"Hoje",year:"Ano",month:"M\xEAs",week:"Semana",day:"Dia",list:"Agenda"},weekText:"Sem",allDayText:"Todo o dia",moreLinkText:"mais",noEventsText:"N\xE3o h\xE1 eventos para mostrar"};var Vo=class n{constructor(e,t){this.httpClient=e;this.toastService=t}url=N.apiUrl+"employees/";fetchList(e,t,i){let r=`${this.url}${e}/shifts`,s={from:t,to:i};return console.log("Chamando URL:",r,"com par\xE2metros:",s),this.httpClient.get(r,{params:s}).pipe(q(o=>{console.log("Turnos recebidos no servi\xE7o:",o)}),ie(o=>(console.error("Erro ao buscar turnos:",o),z([]))))}createOrUpdate(e,t){let i=`${this.url}${t}/shifts`,r={shifts:[{day:e.day.toISOString().split("T")[0],shift:e.shift}]};return console.log("Payload enviado ao backend:",r),this.httpClient.post(i,r).pipe(q(s=>{e.id?(console.log("Turno atualizado:",s),this.toastService.success("Turno atualizado com sucesso")):(console.log("Turno criado:",s),this.toastService.success("Turno criado com sucesso"))}),ie(s=>(e.id?(console.error("Erro ao atualizar turno:",s),this.toastService.error("Erro ao atualizar turno")):(console.error("Erro ao criar turno:",s),this.toastService.error("Erro ao criar turno")),z({}))))}createOrUpdateBulk(e,t){let i=`${this.url}${t}/shifts`;return this.httpClient.post(i,{shifts:e}).pipe(q(r=>{console.log("Turnos atualizados:",r),this.toastService.success("Turnos atualizados com sucesso")}),ie(r=>(console.error("Erro ao atualizar turnos:",r),this.toastService.error("Erro ao atualizar turnos"),z({}))))}static \u0275fac=function(t){return new(t||n)($(ze),$(it))};static \u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"})};var LJ=["calendar"];function NJ(n,e){if(n&1){let t=Q();h(0,"div",41)(1,"input",42),Rl("ngModelChange",function(r){O(t);let s=b(3);return bu(s.shiftForm.type,r)||(s.shiftForm.type=r),L(r)}),d(),h(2,"label",43),v(3),d()()}if(n&2){let t=e.$implicit,i=b(3);g(),Pf("id",t.value),kl("ngModel",i.shiftForm.type),y("value",t.value),g(),Pf("for",t.value),g(),j(" ",t.label," ")}}function FJ(n,e){if(n&1){let t=Q();h(0,"div",26)(1,"div",27)(2,"h3",30),v(3," Selecionar Tipo de Turno "),d(),h(4,"form",31),E("ngSubmit",function(){O(t);let r=b(2);return L(r.addShift())}),h(5,"fieldset",32)(6,"legend",33),v(7," Tipo de Turno: "),d(),h(8,"div",34),T(9,NJ,4,5,"div",35),d()(),h(10,"div",36)(11,"button",37),x(12,"img",38),v(13," Salvar Turno(s) "),d(),h(14,"button",39),E("click",function(){O(t);let r=b(2);return L(r.closeShiftModal())}),x(15,"img",40),v(16," Cancelar "),d()()()()()}if(n&2){let t=b(2);g(9),y("ngForOf",t.shiftTypes)}}function PJ(n,e){if(n&1){let t=Q();h(0,"div",26)(1,"div",27)(2,"div",28)(3,"button",29),E("click",function(){O(t);let r=b();return L(r.closeShiftModal())}),v(4," \xD7 "),d()(),T(5,FJ,17,1,"div",25),d()()}if(n&2){let t=b();g(5),y("ngIf",t.showShiftModal)}}var jc=class n{constructor(e,t,i){this.employeesShiftsService=e;this.authService=t;this.toastService=i}employeeId;userRole;calendarComponent;shifts=[];calendarOptions={initialView:"dayGridMonth",plugins:[rP,cP],initialDate:new Date,locales:[fP],locale:"pt",headerToolbar:{left:"",center:"",right:""},contentHeight:"auto",events:[],datesSet:this.onDatesSet.bind(this),displayEventTime:!1,editable:!1,selectable:!1,dateClick:this.onDateClick.bind(this),select:this.onDateSelect.bind(this),dayCellClassNames:e=>["border","border-black"],dayHeaderClassNames:e=>["border","border-black"]};ngOnInit(){this.employeeId&&(console.log("Data Atual no ngOnInit:",new Date),this.authService.getUser().subscribe(t=>{t?.role==="manager"?(console.log("Role do Utilizador:",this.userRole),this.calendarOptions=ye(P({},this.calendarOptions),{dayCellDidMount:i=>{i.el.style.cursor="pointer"},eventDidMount:i=>{i.el.style.cursor="default"},selectable:!0,select:this.onDateSelect.bind(this)}),console.log("Calend\xE1rio est\xE1 edit\xE1vel (Manager).")):(this.calendarOptions=ye(P({},this.calendarOptions),{selectable:!1,select:void 0,dateClick:void 0}),console.log("Calend\xE1rio est\xE1 apenas para visualiza\xE7\xE3o."))}))}navigate(e){if(this.calendarComponent){let t=this.calendarComponent.getApi();t[e](),this.updateMonthAndYear(t.getDate())}else console.error("Calendar component n\xE3o inicializado!")}onDatesSet(e){let t=new Date(e.start);this.updateMonthAndYear(t);let i=this.formatDate(new Date(e.start.getFullYear(),e.start.getMonth()-2,0)),r=this.formatDate(new Date(e.end.getFullYear(),e.end.getMonth()+2,0));console.log(`Atualizando eventos para o intervalo: ${i} at\xE9 ${r}`),this.loadShifts(i,r)}updateMonthAndYear(e){console.log(`Atualizando para ${e.getMonth()+1}/${e.getFullYear()}`)}get currentMonth(){let e=["Janeiro","Fevereiro","Mar\xE7o","Abril","Maio","Junho","Julho","Agosto","Setembro","Outubro","Novembro","Dezembro"],t=this.calendarComponent?.getApi()?.getDate()||new Date;return e[t.getMonth()]}get currentYear(){return(this.calendarComponent?.getApi()?.getDate()||new Date).getFullYear()}loadShifts(e,t){this.employeesShiftsService.fetchList(this.employeeId,e,t).pipe(q(i=>{this.shifts=i})).subscribe({next:i=>{console.log("Turnos Recebidos:",i);let r=this.mapShiftsToEvents(i),s=this.calendarComponent.getApi();s.removeAllEvents(),r.forEach(o=>s.addEvent(o))},error:i=>{console.error("Erro ao carregar turnos:",i)}})}mapShiftsToEvents(e){return e.map(t=>({title:"",start:t.day,end:t.day,backgroundColor:this.getShiftColor(t.shift),allDay:!0,rendering:"background",borderColor:"black"}))}getShiftColor(e){switch(e){case"Manh\xE3":return"#fc8e8e";case"Tarde":return"#9bb6ff";case"Noite":return"#f6d860";case"F\xE9rias":return"#92ffb3";case"Folga":return"#f1f1f1";default:return"#000000"}}getStartOfMonth(e){return new Date(Date.UTC(e.getFullYear(),e.getMonth(),1)).toISOString().split("T")[0]}getEndOfMonth(e){return new Date(Date.UTC(e.getFullYear(),e.getMonth()+1,0)).toISOString().split("T")[0]}formatDate(e){return e.toISOString().split("T")[0]}showShiftModal=!1;shiftForm={startDate:"",endDate:"",type:"Manh\xE3"};shiftTypes=[{label:"Manh\xE3",value:"Manh\xE3"},{label:"Tarde",value:"Tarde"},{label:"Noite",value:"Noite"},{label:"F\xE9rias",value:"F\xE9rias"},{label:"Folga",value:"Folga"}];onDateClick(e){let t=e.date.toISOString().split("T")[0];console.log("Selecionada data \xFAnica:",t),this.shiftForm.startDate=t,this.shiftForm.endDate="",this.showShiftModal=!0}onDateSelect(e){let t=e.start.toISOString().split("T")[0],i=new Date(e.end);i.setDate(i.getDate()-1);let r=i.toISOString().split("T")[0];console.log(`Selecionado intervalo de ${t} at\xE9 ${r}`);let s=this.shifts.findIndex(o=>{let a=new Date(o.day);return a>=new Date(t)&&a<=new Date(r)});console.log("Turno existente encontrado:",s),this.shiftForm.type=s>=0?this.shifts[s].shift:"Manh\xE3",this.shiftForm.startDate=t,this.shiftForm.endDate=r,this.showShiftModal=!0}openShiftModal(e){console.log("Abrindo modal para a data:",e);let t=this.calendarComponent?.getApi()?.getEvents()?.find(i=>i.start?.toISOString().split("T")[0]===e);console.error("Turno existente encontrado:",t),t?this.shiftForm.type=t.title:(console.log("Nenhum turno existente para o dia selecionado. Padr\xE3o: Manh\xE3"),this.shiftForm.type="Manh\xE3"),this.showShiftModal=!0}closeShiftModal(){console.log("Fechando modal"),this.showShiftModal=!1}addShift(){let{startDate:e,endDate:t,type:i}=this.shiftForm;if(!t||e===t){let r={day:new Date(e),shift:i},o=this.calendarComponent.getApi().getEvents().some(a=>a.start?.toISOString().split("T")[0]===r.day.toISOString().split("T")[0]);this.employeesShiftsService.createOrUpdate(r,this.employeeId).subscribe({next:a=>{o?this.toastService.success("Turno Atualizado com Sucesso"):this.toastService.success("Turno Criado com Sucesso"),this.showShiftModal=!1,this.loadShifts(this.formatDate(new Date(new Date().getFullYear(),0,1)),this.formatDate(new Date(new Date().getFullYear()+1,11,31)))},error:a=>{console.error("Erro ao criar ou atualizar turno:",a),this.toastService.error("Erro ao criar ou atualizar turno. Verifique os dados e tente novamente.")}})}else{let r=new Date(e),s=new Date(t);s.setDate(s.getDate()+1);let o=[];for(let p=r;p<s;p.setDate(p.getDate()+1))o.push(new Date(p));let a=o.map(p=>({day:p,shift:i})),l=this.calendarComponent.getApi(),u=o.map(p=>{let m=p.toISOString().split("T")[0],f=l.getEvents().some(_=>_.start?.toISOString().split("T")[0]===m);return{date:p,hasEvent:f}}).every(p=>!p.hasEvent);this.employeesShiftsService.createOrUpdateBulk(a,this.employeeId).subscribe({next:p=>{u?this.toastService.success("Turno Criado com Sucesso"):this.toastService.success("Turnos Atualizados com Sucesso"),this.showShiftModal=!1,this.loadShifts(this.formatDate(new Date(new Date().getFullYear(),0,1)),this.formatDate(new Date(new Date().getFullYear()+1,11,31)))},error:p=>{console.error("Erro ao criar ou atualizar turnos:",p),this.toastService.error("Erro ao criar ou atualizar turnos. Verifique os dados e tente novamente.")}})}}static \u0275fac=function(t){return new(t||n)(C(Vo),C(be),C(it))};static \u0275cmp=A({type:n,selectors:[["app-calendar"]],viewQuery:function(t,i){if(t&1&&Ct(LJ,5),t&2){let r;Te(r=Ae())&&(i.calendarComponent=r.first)}},inputs:{employeeId:"employeeId",userRole:"userRole"},standalone:!0,features:[I],decls:48,vars:4,consts:[["calendar",""],[1,"container","mx-auto","p-4","md:p-6"],[1,"card","bg-base-100","shadow-xl"],[1,"card-body"],[1,"flex","flex-col","sm:flex-row","sm:items-center","sm:justify-between","mb-4"],[1,"text-3xl","font-bold","text-center","sm:text-left"],[1,"flex","justify-center","sm:justify-end","mt-4","sm:mt-0","w-full","sm:w-auto"],[1,"flex","w-full","sm:w-auto","max-w-lg","justify-between","gap-1"],[1,"btn","btn-primary","text-sm","sm:text-base","flex","items-center","gap-1","flex-1","sm:flex-auto",3,"click"],["src","previous.svg","alt","Previous Icon",1,"w-6","h-6"],[1,"btn","btn-info","text-sm","sm:text-base","flex","items-center","gap-1","flex-1","sm:flex-auto",3,"click"],["src","today.svg","alt","Today Icon",1,"w-6","h-6"],[1,"btn","btn-success","text-sm","sm:text-base","flex","items-center","gap-1","flex-1","sm:flex-auto",3,"click"],["src","next-week.svg","alt","Next Month Icon",1,"w-6","h-6"],[1,"bg-white","rounded-lg","border","border-gray-200","shadow","overflow-x-auto"],[1,"bg-white",3,"options"],[1,"mt-4"],[1,"text-lg","font-semibold","mb-2"],[1,"grid","grid-cols-2","sm:grid-cols-3","lg:grid-cols-5","gap-4"],[1,"flex","items-center","gap-2"],[1,"w-6","h-6","rounded","border","border-black",2,"background-color","#fc8e8e"],[1,"w-6","h-6","rounded","border","border-black",2,"background-color","#9bb6ff"],[1,"w-6","h-6","rounded","border","border-black",2,"background-color","#f6d860"],[1,"w-6","h-6","rounded","border","border-black",2,"background-color","#92ffb3"],[1,"w-6","h-6","rounded","border","border-black",2,"background-color","#f1f1f1"],["class","fixed inset-0 bg-gray-800 bg-opacity-50 flex items-center justify-center z-50",4,"ngIf"],[1,"fixed","inset-0","bg-gray-800","bg-opacity-50","flex","items-center","justify-center","z-50"],[1,"bg-white","rounded-lg","p-6","w-full","max-w-md","shadow-lg"],[1,"flex","justify-end"],[1,"text-gray-500","hover:text-gray-800","text-xl","transition","duration-200",3,"click"],[1,"text-2xl","font-bold","text-gray-700","text-center","mb-6"],[1,"space-y-6",3,"ngSubmit"],[1,"border","border-gray-300","rounded-md","p-4"],[1,"text-sm","font-semibold","text-gray-600","mb-4"],[1,"space-y-3"],["class","flex items-center gap-3 bg-gray-50 p-3 rounded-md shadow-sm hover:bg-gray-100 transition duration-200",4,"ngFor","ngForOf"],[1,"flex","justify-end","gap-2"],["type","submit",1,"btn","btn-success","inline-flex","items-center","gap-2"],["src","check.svg","alt","Check Icon",1,"w-5","h-5"],["type","button",1,"btn","btn-secondary","inline-flex","items-center","gap-2",3,"click"],["src","no.svg","alt","No Icon",1,"w-5","h-5"],[1,"flex","items-center","gap-3","bg-gray-50","p-3","rounded-md","shadow-sm","hover:bg-gray-100","transition","duration-200"],["type","radio","name","shiftType","required","",1,"form-radio","accent-blue-500",3,"ngModelChange","id","ngModel","value"],[1,"text-sm","text-gray-700",3,"for"]],template:function(t,i){if(t&1){let r=Q();h(0,"div",1)(1,"div",2)(2,"div",3)(3,"div",4)(4,"span",5),v(5),d(),h(6,"div",6)(7,"div",7)(8,"button",8),E("click",function(){return O(r),L(i.navigate("prev"))}),x(9,"img",9),h(10,"span"),v(11,"Anterior"),d()(),h(12,"button",10),E("click",function(){return O(r),L(i.navigate("today"))}),x(13,"img",11),h(14,"span"),v(15,"Atual"),d()(),h(16,"button",12),E("click",function(){return O(r),L(i.navigate("next"))}),x(17,"img",13),h(18,"span"),v(19,"Pr\xF3ximo"),d()()()()(),h(20,"div",14),x(21,"full-calendar",15,0),d(),h(23,"div",16)(24,"h3",17),v(25,"Legenda:"),d(),h(26,"div",18)(27,"div",19),x(28,"div",20),h(29,"span"),v(30,"Manh\xE3"),d()(),h(31,"div",19),x(32,"div",21),h(33,"span"),v(34,"Tarde"),d()(),h(35,"div",19),x(36,"div",22),h(37,"span"),v(38,"Noite"),d()(),h(39,"div",19),x(40,"div",23),h(41,"span"),v(42,"F\xE9rias"),d()(),h(43,"div",19),x(44,"div",24),h(45,"span"),v(46,"Folga"),d()()()()()(),T(47,PJ,6,1,"div",25),d()}t&2&&(g(5),Zs("",i.currentMonth," ",i.currentYear,""),g(16),y("options",i.calendarOptions),g(26),y("ngIf",i.showShiftModal))},dependencies:[jv,pP,Ce,Xl,Nt,Bn,NC,on,Lt,cd,ld,ad,rn],encapsulation:2})};var Hv=class n{constructor(e,t,i){this.employeesShiftsService=e;this.router=t;this.activatedRoute=i}employeeId=0;shiftsListSignal=st([]);ngOnInit(){this.activatedRoute.paramMap.pipe(V(e=>parseInt(e.get("id")||"0",10)),q(e=>this.employeeId=e),Ye(e=>this.employeesShiftsService.fetchList(e,this.getStartOfMonth(),this.getEndOfMonth())),q(e=>console.log("Turnos carregados:",e))).subscribe(e=>{this.shiftsListSignal.set(e)})}getStartOfMonth(){let e=new Date;return new Date(e.getFullYear(),e.getMonth(),1).toISOString().split("T")[0]}getEndOfMonth(){let e=new Date;return new Date(e.getFullYear(),e.getMonth()+1,0).toISOString().split("T")[0]}static \u0275fac=function(t){return new(t||n)(C(Vo),C(Z),C(ge))};static \u0275cmp=A({type:n,selectors:[["app-employees-shifts"]],standalone:!0,features:[I],decls:1,vars:1,consts:[[3,"employeeId"]],template:function(t,i){t&1&&x(0,"app-calendar",0),t&2&&y("employeeId",i.employeeId)},dependencies:[jc]})};var zv=class n{constructor(e,t,i){this.employeesShiftsService=e;this.router=t;this.activatedRoute=i}employeeId=0;shiftsListSignal=st([]);ngOnInit(){this.activatedRoute.paramMap.pipe(V(e=>parseInt(e.get("id")||"0",10)),q(e=>this.employeeId=e),Ye(e=>this.employeesShiftsService.fetchList(e,this.getStartOfMonth(),this.getEndOfMonth())),q(e=>console.log("Turnos carregados:",e))).subscribe(e=>{this.shiftsListSignal.set(e)})}getStartOfMonth(){let e=new Date;return new Date(e.getFullYear(),e.getMonth(),1).toISOString().split("T")[0]}getEndOfMonth(){let e=new Date;return new Date(e.getFullYear(),e.getMonth()+1,0).toISOString().split("T")[0]}static \u0275fac=function(t){return new(t||n)(C(Vo),C(Z),C(ge))};static \u0275cmp=A({type:n,selectors:[["app-employee-shifts-management"]],standalone:!0,features:[I],decls:1,vars:1,consts:[[3,"employeeId"]],template:function(t,i){t&1&&x(0,"app-calendar",0),t&2&&y("employeeId",i.employeeId)},dependencies:[jc]})};function VJ(n,e){n&1&&(h(0,"span",13),v(1," A palavra-passe deve ter pelo menos 6 caracteres. "),d())}function BJ(n,e){n&1&&(h(0,"span",13),v(1," A palavra-passe deve ter pelo menos 6 caracteres. "),d())}function jJ(n,e){n&1&&(h(0,"span",13),v(1," As palavras-passe n\xE3o coincidem. Tente novamente. "),d())}function HJ(n,e){if(n&1&&(h(0,"div",14),v(1),d()),n&2){let t=b();g(),j(" ",t.errorMessage," ")}}var $v=class n{constructor(e,t,i,r,s){this.authService=e;this.router=t;this.renderer=i;this.route=r;this.toastService=s}errorMessage="";userId;newPassword=new te("",{validators:K.compose([K.required,K.minLength(6)]),updateOn:"change"});confirmPassword=new te("",{validators:K.compose([K.required,K.minLength(6)]),updateOn:"change"});resetPasswordForm=new Ot({newPassword:this.newPassword,confirmPassword:this.confirmPassword});ngOnInit(){this.route.params.subscribe(t=>{this.userId=+t.id});let e=document.querySelector("main");e&&(this.renderer.removeClass(e,"container"),this.renderer.removeClass(e,"px-2"),this.renderer.removeClass(e,"sm:px-0"),this.renderer.removeClass(e,"mx-auto"),this.renderer.removeClass(e,"pt-10")),this.resetPasswordForm.reset(),this.resetPasswordForm.markAsUntouched(),this.errorMessage=""}resetPassword(){if(this.resetPasswordForm.invalid||this.resetPasswordForm.untouched)return;let e=this.newPassword.value,t=this.confirmPassword.value;this.authService.resetPassword(this.userId,e).subscribe({next:()=>{this.toastService.success("Palavra-passe atualizada com sucesso."),this.router.navigateByUrl("/dashboard").then(()=>{console.log("Redirected to login after password reset")})},error:i=>{this.toastService.error("Erro ao atualizar a palavra-passe.")}})}ngOnDestroy(){let e=document.querySelector("main");e&&(this.renderer.addClass(e,"container"),this.renderer.addClass(e,"px-2"),this.renderer.addClass(e,"sm:px-0"),this.renderer.addClass(e,"mx-auto"),this.renderer.addClass(e,"pt-10"))}static \u0275fac=function(t){return new(t||n)(C(be),C(Z),C(It),C(ge),C(it))};static \u0275cmp=A({type:n,selectors:[["app-reset-password"]],standalone:!0,features:[I],decls:20,vars:6,consts:[[1,"relative","min-h-screen"],["src","about.jpg","alt","Background",1,"absolute","inset-0","w-full","h-full","object-cover","-z-10"],[1,"flex","flex-col","justify-center","items-center","min-h-screen"],[1,"w-full","max-w-sm","mx-auto","bg-white","p-6","rounded-lg","shadow-lg",3,"ngSubmit","formGroup"],[1,"text-2xl","text-center","font-bold","text-gray-800","mb-6"],[1,"mb-4"],["for","new-password",1,"block","text-gray-500","font-bold","mb-1"],["id","new-password","type","password","placeholder","Nova Palavra-Passe","formControlName","newPassword",1,"input","bg-gray-200","rounded","w-full","py-2","px-4","text-gray-700","leading-tight"],["class","text-red-500 block pt-1 font-thin",4,"ngIf"],["for","confirm-password",1,"block","text-gray-500","font-bold","mb-1"],["id","confirm-password","type","password","placeholder","Confirme a sua palavra-passe","formControlName","confirmPassword",1,"input","bg-gray-200","rounded","w-full","py-2","px-4","text-gray-700","leading-tight"],["class","text-red-500 text-center pb-4",4,"ngIf"],["type","submit",1,"bg-info","font-bold","py-3","px-4","text-sm","rounded","w-full","hover:brightness-90","cursor-pointer",3,"disabled"],[1,"text-red-500","block","pt-1","font-thin"],[1,"text-red-500","text-center","pb-4"]],template:function(t,i){if(t&1&&(h(0,"div",0),x(1,"img",1),h(2,"div",2)(3,"form",3),E("ngSubmit",function(){return i.resetPassword()}),h(4,"h1",4),v(5,"Alterar Palavra-Passe"),d(),h(6,"div",5)(7,"label",6),v(8," Nova Palavra-Passe "),d(),x(9,"input",7),T(10,VJ,2,0,"span",8),d(),h(11,"div",5)(12,"label",9),v(13," Confirmar Palavra-Passe "),d(),x(14,"input",10),T(15,BJ,2,0,"span",8)(16,jJ,2,0,"span",8),d(),T(17,HJ,2,1,"div",11),h(18,"button",12),v(19," Alterar Palavra-Passe "),d()()()()),t&2){let r,s,o;g(3),y("formGroup",i.resetPasswordForm),g(7),y("ngIf",((r=i.resetPasswordForm.get("newPassword"))==null?null:r.invalid)&&((r=i.resetPasswordForm.get("newPassword"))==null?null:r.touched)),g(5),y("ngIf",((s=i.resetPasswordForm.get("confirmPassword"))==null?null:s.invalid)&&((s=i.resetPasswordForm.get("confirmPassword"))==null?null:s.touched)),g(),y("ngIf",i.newPassword.value!==i.confirmPassword.value&&((o=i.resetPasswordForm.get("confirmPassword"))==null?null:o.touched)),g(),y("ngIf",i.errorMessage),g(),y("disabled",i.resetPasswordForm.invalid)}},dependencies:[Je,Nt,Bn,on,Lt,un,va,Ce],encapsulation:2})};var mP=[{path:"",component:Ug},{path:"login",component:Ym},{path:"users/:id/reset-password",component:$v,canActivate:[ct],data:{roles:["relative","manager","caretaker"]}},{path:"employees/:id/shifts",component:zv,canActivate:[ct],data:{roles:["manager","caretaker"]}},{path:"employees/:id/shifts",component:Hv,canActivate:[ct],data:{roles:["manager","caretaker"]}},{path:"residents/:residentId/payments/create",component:S0,canActivate:[ct],data:{roles:["manager"]}},{path:"residents/:residentId/payments/:paymentId/edit",component:E0,canActivate:[ct],data:{roles:["manager"]}},{path:"residents/:residentId/payments/:id",component:w0,canActivate:[ct],data:{roles:["manager"]}},{path:"residents/:residentId/payments",component:C0,canActivate:[ct],data:{roles:["manager"]}},{path:"residents/:residentId/appointments/create",component:y0,canActivate:[ct],data:{roles:["manager","caretaker"]}},{path:"residents/:residentId/appointments/:appointmentId/edit",component:b0,canActivate:[ct],data:{roles:["manager","caretaker"]}},{path:"residents/:residentId/appointments/:id",component:_0,canActivate:[ct],data:{roles:["manager","caretaker","relative"]}},{path:"residents/:residentId/appointments",component:m0,canActivate:[ct],data:{roles:["manager","caretaker","relative"]}},{path:"residents/:residentId/health-reports/create",component:u0,canActivate:[ct],data:{roles:["manager","caretaker"]}},{path:"residents/:residentId/health-reports/:reportId/edit",component:d0,canActivate:[ct],data:{roles:["manager","caretaker"]}},{path:"residents/:residentId/health-reports/:id",component:c0,canActivate:[ct],data:{roles:["manager","caretaker","relative"]}},{path:"residents/:residentId/health-reports",component:o0,canActivate:[ct],data:{roles:["manager","caretaker","relative"]}},{path:"residents/:residentId/messages",component:l0,canActivate:[ct],data:{roles:["relative","manager","caretaker"]}},{path:"residents",component:e0,canActivate:[ct],data:{roles:["manager","caretaker"]}},{path:"residents/detail/:id",component:t0,canActivate:[ct],data:{roles:["manager","caretaker","relative"]}},{path:"residents/create",component:i0,canActivate:[ct],data:{roles:["manager"]}},{path:"residents/:id/edit",component:r0,canActivate:[ct],data:{roles:["manager"]}},{path:"dashboard",component:jg,canActivate:[ct],data:{roles:["manager","caretaker","relative"]}},{path:"users",component:Yg,canActivate:[ct],data:{roles:["manager"]}},{path:"users/detail/:id",component:Zg,canActivate:[ct],data:{roles:["manager","caretaker","relative"]}},{path:"users/create",component:Xg,canActivate:[ct],data:{roles:["manager"]}},{path:"users/:id/edit",component:Kg,canActivate:[ct],data:{roles:["manager","caretaker","relative"]}},{path:"residents/:residentId/medicaments",component:p0,canActivate:[ct],data:{roles:["manager","caretaker","relative"]}},{path:"residents/:residentId/medicaments/create",component:g0,canActivate:[ct],data:{roles:["manager","caretaker"]}},{path:"residents/:residentId/medicaments/:id/edit",component:D0,canActivate:[ct],data:{roles:["manager","caretaker"]}},{path:"residents/:residentId/medicaments/:id",component:v0,canActivate:[ct],data:{roles:["manager","caretaker","relative"]},children:[{path:"administration",component:Zd}]},{path:"residents/:residentId/medicaments/:id/administration",component:Zd,canActivate:[ct],data:{roles:["manager","caretaker","relative"]}},{path:"forbidden",component:zg},{path:"**",pathMatch:"full",component:Hg}];var gP=(n,e)=>B(be).getToken().pipe(Qt(1),Ye(i=>{if(i){let r=n.clone({setHeaders:{Authorization:`Bearer ${i}`}});return e(r)}return e(n)}));var Bo=class n{loadingSubject=new Be(!1);loading$=this.loadingSubject.asObservable();show(){this.loadingSubject.next(!0)}hide(){this.loadingSubject.next(!1)}static \u0275fac=function(t){return new(t||n)};static \u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"})};var vP=(n,e)=>{let t=B(Bo);return["messages","notifications","google"].some(r=>n.url.includes(r))?e(n):(t.show(),e(n).pipe(ln(200),q(()=>t.hide()),ie(r=>{throw t.hide(),r})))};var Hc=class n{errorsSubject=new Be([]);errors$=this.errorsSubject.asObservable();showErrors(e){this.errorsSubject.next(e)}clearErrors(){this.errorsSubject.next([])}static \u0275fac=function(t){return new(t||n)};static \u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"})};var yP=(n,e)=>{let t=B(Z),i=B(Hc);return e(n).pipe(ie(r=>{throw N.production||console.log("errorInterceptor",`Url: ${n.url}`,n.body,r),r.status===403?t.navigate(["/forbidden"]):r.status===404?t.navigate(["/not-found"]):r.status===401&&!n.url.includes("login")?t.navigate(["/login"]):r.error&&r.error.message?i.showErrors([r.error.message]):r.error&&r.error.errors?i.showErrors(r.error.errors):i.showErrors(["Ocorreu um erro inesperado"]),r}))};var nE={providers:[iM({eventCoalescing:!0}),Pk(mP),PM(VM([vP,gP,yP]))]};var jo=n=>({"translate-x-1 font-bold border-b-2 border-info duration-500":n});function zJ(n,e){if(n&1){let t=Q();h(0,"ul",0)(1,"li")(2,"a",2),E("click",function(){O(t);let r=b();return L(r.scrollToFragment("home"))}),x(3,"img",3),h(4,"span"),v(5,"P\xE1gina Inicial"),d()()(),h(6,"li")(7,"a",2),E("click",function(){O(t);let r=b();return L(r.scrollToFragment("services"))}),x(8,"img",4),h(9,"span"),v(10,"Servi\xE7os"),d()()(),h(11,"li")(12,"a",2),E("click",function(){O(t);let r=b();return L(r.scrollToFragment("about"))}),x(13,"img",5),h(14,"span"),v(15,"Sobre N\xF3s"),d()()(),h(16,"li")(17,"a",2),E("click",function(){O(t);let r=b();return L(r.scrollToFragment("contact"))}),x(18,"img",6),h(19,"span"),v(20,"Contactos"),d()()()()}if(n&2){let t=b();g(2),y("ngClass",he(4,jo,t.activeFragment==="home")),g(5),y("ngClass",he(6,jo,t.activeFragment==="services")),g(5),y("ngClass",he(8,jo,t.activeFragment==="about")),g(5),y("ngClass",he(10,jo,t.activeFragment==="contact"))}}function $J(n,e){if(n&1){let t=Q();h(0,"div",1)(1,"ul",7)(2,"li")(3,"a",2),E("click",function(){O(t);let r=b();return L(r.scrollToFragment("home"))}),x(4,"img",3),h(5,"span"),v(6,"P\xE1gina Inicial"),d()()(),h(7,"li")(8,"a",2),E("click",function(){O(t);let r=b();return L(r.scrollToFragment("services"))}),x(9,"img",4),h(10,"span"),v(11,"Servi\xE7os"),d()()(),h(12,"li")(13,"a",2),E("click",function(){O(t);let r=b();return L(r.scrollToFragment("about"))}),x(14,"img",5),h(15,"span"),v(16,"Sobre N\xF3s"),d()()(),h(17,"li")(18,"a",2),E("click",function(){O(t);let r=b();return L(r.scrollToFragment("contact"))}),x(19,"img",6),h(20,"span"),v(21,"Contactos"),d()()()()()}if(n&2){let t=b();g(3),y("ngClass",he(4,jo,t.activeFragment==="home")),g(5),y("ngClass",he(6,jo,t.activeFragment==="services")),g(5),y("ngClass",he(8,jo,t.activeFragment==="about")),g(5),y("ngClass",he(10,jo,t.activeFragment==="contact"))}}var Uv=class n{constructor(e,t){this.router=e;this.viewportScroller=t;this.router.events.subscribe(i=>{if(i instanceof ei){let r=this.router.parseUrl(this.router.url);this.activeFragment=r.fragment||null}})}side;activeFragment=null;onScroll(){let e=document.querySelectorAll("section"),t=null;e.forEach(i=>{let r=i.getBoundingClientRect().top;r<=150&&r+i.offsetHeight>0&&(t=i.getAttribute("id"))}),this.activeFragment=t}scrollToFragment(e){this.router.url!=="/"?this.router.navigate(["/"],{fragment:e}).then(()=>{setTimeout(()=>this.smoothScrollToFragment(e),0)}):this.smoothScrollToFragment(e)}smoothScrollToFragment(e){let t=document.getElementById(e);if(t){let r=t.offsetTop-0;this.smoothScroll(r,800)}else console.warn(`Element with ID '${e}' not found.`)}smoothScroll(e,t){let i=window.scrollY||document.documentElement.scrollTop,r=e-i,s=null,o=a=>{s||(s=a);let l=a-s,c=Math.min(l/t,1),u=c<.5?2*c*c:1-Math.pow(-2*c+2,2)/2,p=i+r*u;window.scrollTo(0,p),l<t&&requestAnimationFrame(o)};requestAnimationFrame(o)}static \u0275fac=function(t){return new(t||n)(C(Z),C(no))};static \u0275cmp=A({type:n,selectors:[["app-navbar-public"]],hostBindings:function(t,i){t&1&&E("scroll",function(){return i.onScroll()},!1,Xs)},inputs:{side:"side"},standalone:!0,features:[I],decls:2,vars:1,consts:[["tabindex","0",1,"menu","menu-sm","dropdown-content","bg-base-100","rounded-box","z-[1]","mt-3","w-52","p-2","shadow"],[1,"navbar-center","hidden","lg:flex","-ml-24"],[1,"flex","items-center","space-x-2",3,"click","ngClass"],["src","home.svg","alt","Home Icon",1,"w-8","h-8"],["src","healthcare.svg","alt","Services Icon",1,"w-8","h-8"],["src","aboutSvg.svg","alt","About Icon",1,"w-8","h-8"],["src","call.svg","alt","Contact Icon",1,"w-8","h-8"],[1,"menu","menu-horizontal","px-1"]],template:function(t,i){t&1&&T(0,zJ,21,12,"ul",0)(1,$J,22,12,"div",1),t&2&&J(i.side?0:1)},dependencies:[Gt]})};var _P=n=>["employees",n,"shifts"];function UJ(n,e){if(n&1&&(h(0,"ul",0)(1,"li")(2,"a",2),x(3,"img",3),h(4,"span"),v(5,"Utilizadores"),d()()(),h(6,"li")(7,"a",4),x(8,"img",5),h(9,"span"),v(10,"Residentes"),d()()(),h(11,"li")(12,"a",6),x(13,"img",7),h(14,"span"),v(15,"Hor\xE1rio"),d()()()()),n&2){let t=b();g(12),y("routerLink",he(1,_P,t.employeeId))}}function GJ(n,e){if(n&1&&(h(0,"div",1)(1,"ul",8)(2,"li")(3,"a",2),x(4,"img",3),h(5,"span"),v(6,"Utilizadores"),d()()(),h(7,"li")(8,"a",4),x(9,"img",5),h(10,"span"),v(11,"Residentes"),d()()(),h(12,"li")(13,"a",6),x(14,"img",7),h(15,"span"),v(16,"Hor\xE1rio"),d()()()()()),n&2){let t=b();g(13),y("routerLink",he(1,_P,t.employeeId))}}var Gv=class n{constructor(e){this.authService=e}side;employeeId=null;ngOnInit(){return this.authService.getUser().pipe(q(e=>console.log("User: ",e)),V(e=>e?.employee?.id)).subscribe(e=>{e&&(this.employeeId=e)})}static \u0275fac=function(t){return new(t||n)(C(be))};static \u0275cmp=A({type:n,selectors:[["app-navbar-manager"]],inputs:{side:"side"},standalone:!0,features:[I],decls:2,vars:1,consts:[["tabindex","0",1,"menu","menu-sm","dropdown-content","bg-base-100","rounded-box","z-[1]","mt-3","w-52","p-2","shadow"],[1,"navbar-center","hidden","lg:flex"],["routerLink","/users","routerLinkActive","translate-x-1 font-bold border-b-2 border-info duration-500",1,"flex","items-center","space-x-2"],["src","team.svg","alt","team",1,"w-8","h-8"],["routerLink","/residents","routerLinkActive","translate-x-1 scale-105 font-bold border-b-2 border-info duration-500",1,"flex","items-center","space-x-2"],["src","couple.svg","alt","users",1,"w-8","h-8"],["routerLinkActive","translate-x-1 scale-105 font-bold border-b-2 border-info duration-500",1,"flex","items-center","space-x-2",3,"routerLink"],["src","scheduling.svg","alt","schedule",1,"w-8","h-8"],[1,"menu","menu-horizontal","px-1"]],template:function(t,i){t&1&&T(0,UJ,16,3,"ul",0)(1,GJ,17,3,"div",1),t&2&&J(i.side?0:1)},dependencies:[Fe,ql]})};var bP=n=>["employees",n,"shifts"];function qJ(n,e){if(n&1&&(h(0,"ul",0)(1,"li")(2,"a",2),x(3,"img",3),h(4,"span"),v(5,"Residentes"),d()()(),h(6,"li")(7,"a",4),x(8,"img",5),h(9,"span"),v(10,"Hor\xE1rio"),d()()()()),n&2){let t=b();g(7),y("routerLink",he(1,bP,t.employeeId))}}function WJ(n,e){if(n&1&&(h(0,"div",1)(1,"ul",6)(2,"li")(3,"a",2),x(4,"img",3),h(5,"span"),v(6,"Residentes"),d()()(),h(7,"li")(8,"a",4),x(9,"img",5),h(10,"span"),v(11,"Hor\xE1rio"),d()()()()()),n&2){let t=b();g(8),y("routerLink",he(1,bP,t.employeeId))}}var qv=class n{constructor(e){this.authService=e}side;employeeId=null;ngOnInit(){return this.authService.getUser().pipe(q(e=>console.log("User: ",e)),V(e=>e?.employee?.id)).subscribe(e=>{e&&(this.employeeId=e)})}static \u0275fac=function(t){return new(t||n)(C(be))};static \u0275cmp=A({type:n,selectors:[["app-navbar-caretaker"]],inputs:{side:"side"},standalone:!0,features:[I],decls:2,vars:1,consts:[["tabindex","0",1,"menu","menu-sm","dropdown-content","bg-base-100","rounded-box","z-[1]","mt-3","w-52","p-2","shadow"],[1,"navbar-center","hidden","lg:flex"],["routerLink","/residents","routerLinkActive","translate-x-1 scale-105 font-bold border-b-2 border-info duration-500",1,"flex","items-center","space-x-2"],["src","couple.svg","alt","users",1,"w-8","h-8"],["routerLinkActive","translate-x-1 scale-105 font-bold border-b-2 border-info duration-500",1,"flex","items-center","space-x-2",3,"routerLink"],["src","scheduling.svg","alt","schedule",1,"w-8","h-8"],[1,"menu","menu-horizontal","px-1"]],template:function(t,i){t&1&&T(0,qJ,11,3,"ul",0)(1,WJ,12,3,"div",1),t&2&&J(i.side?0:1)},dependencies:[Fe,ql]})};var Ho=n=>({"translate-x-1 font-bold border-b-2 border-info duration-500":n});function YJ(n,e){if(n&1){let t=Q();h(0,"ul",0)(1,"li")(2,"a",2),E("click",function(){O(t);let r=b();return L(r.scrollToFragment("home"))}),x(3,"img",3),h(4,"span"),v(5,"P\xE1gina Inicial"),d()()(),h(6,"li")(7,"a",2),E("click",function(){O(t);let r=b();return L(r.scrollToFragment("services"))}),x(8,"img",4),h(9,"span"),v(10,"Servi\xE7os"),d()()(),h(11,"li")(12,"a",2),E("click",function(){O(t);let r=b();return L(r.scrollToFragment("about"))}),x(13,"img",5),h(14,"span"),v(15,"Sobre N\xF3s"),d()()(),h(16,"li")(17,"a",2),E("click",function(){O(t);let r=b();return L(r.scrollToFragment("contact"))}),x(18,"img",6),h(19,"span"),v(20,"Contactos"),d()()(),h(21,"li")(22,"a",7),x(23,"img",8),h(24,"span"),v(25,"Residentes"),d()()()()}if(n&2){let t=b();g(2),y("ngClass",he(4,Ho,t.activeFragment==="home")),g(5),y("ngClass",he(6,Ho,t.activeFragment==="services")),g(5),y("ngClass",he(8,Ho,t.activeFragment==="about")),g(5),y("ngClass",he(10,Ho,t.activeFragment==="contact"))}}function QJ(n,e){if(n&1){let t=Q();h(0,"div",1)(1,"ul",9)(2,"li")(3,"a",2),E("click",function(){O(t);let r=b();return L(r.scrollToFragment("home"))}),x(4,"img",3),h(5,"span"),v(6,"P\xE1gina Inicial"),d()()(),h(7,"li")(8,"a",2),E("click",function(){O(t);let r=b();return L(r.scrollToFragment("services"))}),x(9,"img",4),h(10,"span"),v(11,"Servi\xE7os"),d()()(),h(12,"li")(13,"a",2),E("click",function(){O(t);let r=b();return L(r.scrollToFragment("about"))}),x(14,"img",5),h(15,"span"),v(16,"Sobre N\xF3s"),d()()(),h(17,"li")(18,"a",2),E("click",function(){O(t);let r=b();return L(r.scrollToFragment("contact"))}),x(19,"img",6),h(20,"span"),v(21,"Contactos"),d()()(),h(22,"li")(23,"a",7),x(24,"img",8),h(25,"span"),v(26,"Residentes"),d()()()()()}if(n&2){let t=b();g(3),y("ngClass",he(4,Ho,t.activeFragment==="home")),g(5),y("ngClass",he(6,Ho,t.activeFragment==="services")),g(5),y("ngClass",he(8,Ho,t.activeFragment==="about")),g(5),y("ngClass",he(10,Ho,t.activeFragment==="contact"))}}var Wv=class n{constructor(e,t){this.router=e;this.viewportScroller=t;this.router.events.subscribe(i=>{if(i instanceof ei){let r=this.router.parseUrl(this.router.url);this.activeFragment=r.fragment||null}})}side;activeFragment=null;onScroll(){let e=document.querySelectorAll("section"),t=null;e.forEach(i=>{let r=i.getBoundingClientRect().top;r<=150&&r+i.offsetHeight>0&&(t=i.getAttribute("id"))}),this.activeFragment=t}scrollToFragment(e){this.router.url!=="/"?this.router.navigate(["/"],{fragment:e}).then(()=>{setTimeout(()=>this.smoothScrollToFragment(e),0)}):this.smoothScrollToFragment(e)}smoothScrollToFragment(e){let t=document.getElementById(e);if(t){let r=t.offsetTop-0;this.smoothScroll(r,800)}else console.warn(`Element with ID '${e}' not found.`)}smoothScroll(e,t){let i=window.scrollY||document.documentElement.scrollTop,r=e-i,s=null,o=a=>{s||(s=a);let l=a-s,c=Math.min(l/t,1),u=c<.5?2*c*c:1-Math.pow(-2*c+2,2)/2,p=i+r*u;window.scrollTo(0,p),l<t&&requestAnimationFrame(o)};requestAnimationFrame(o)}static \u0275fac=function(t){return new(t||n)(C(Z),C(no))};static \u0275cmp=A({type:n,selectors:[["app-navbar-relative"]],hostBindings:function(t,i){t&1&&E("scroll",function(){return i.onScroll()},!1,Xs)},inputs:{side:"side"},standalone:!0,features:[I],decls:2,vars:1,consts:[["tabindex","0",1,"menu","menu-sm","dropdown-content","bg-base-100","rounded-box","z-[1]","mt-3","w-52","p-2","shadow"],[1,"navbar-center","hidden","lg:flex","-ml-40"],[1,"flex","items-center","space-x-2",3,"click","ngClass"],["src","home.svg","alt","Home Icon",1,"w-8","h-8"],["src","healthcare.svg","alt","Services Icon",1,"w-8","h-8"],["src","aboutSvg.svg","alt","About Icon",1,"w-8","h-8"],["src","call.svg","alt","Contact Icon",1,"w-8","h-8"],["routerLink","/dashboard","routerLinkActive","translate-x-1 font-bold border-b-2 border-info duration-500",1,"flex","items-center","space-x-2"],["src","couple.svg","alt","team",1,"w-8","h-8"],[1,"menu","menu-horizontal","px-1"]],template:function(t,i){t&1&&T(0,YJ,26,12,"ul",0)(1,QJ,27,12,"div",1),t&2&&J(i.side?0:1)},dependencies:[Fe,ql,Gt]})};var XJ=[[["","icon",""]],[["","close-button",""]],"*"],ZJ=["[icon]","[close-button]","*"],Yv=class n{isDragging=!1;startY=0;scrollTop=0;startDrag(e){let t=this.getScrollableContainer(e);this.isDragging=!0,this.startY=e.pageY-t.offsetTop,this.scrollTop=t.scrollTop,t.style.cursor="grabbing",document.body.style.userSelect="none"}onDrag(e){if(!this.isDragging)return;let t=this.getScrollableContainer(e);e.preventDefault();let r=(e.pageY-t.offsetTop-this.startY)*2;t.scrollTop=this.scrollTop-r}stopDrag(){this.isDragging=!1;let e=document.querySelector(".drawer-side");e&&(e.style.cursor="pointer"),document.body.style.userSelect=""}getScrollableContainer(e){let t=e.target;for(;!t.classList.contains("drawer-side")&&t.parentElement;)t=t.parentElement;return t}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=A({type:n,selectors:[["app-sidebar"]],standalone:!0,features:[I],ngContentSelectors:ZJ,decls:12,vars:0,consts:[[1,"drawer","drawer-end"],["id","my-drawer-4","type","checkbox",1,"drawer-toggle"],[1,"drawer-content","pr-4"],["for","my-drawer-4",1,"drawer-button","cursor-pointer","block","m-0","p-0"],[1,"drawer-side","z-50",3,"mousedown","mousemove","mouseup","mouseleave"],["for","my-drawer-4","aria-label","close sidebar",1,"drawer-overlay","bg-black/50"],[1,"menu","bg-base-200","text-base-content","min-h-full","w-70","p-4","mt-20"],[1,"bg-transparent","focus:bg-transparent","active:bg-transparent"]],template:function(t,i){t&1&&(nr(XJ),h(0,"div",0),x(1,"input",1),h(2,"div",2)(3,"label",3),pi(4),d()(),h(5,"div",4),E("mousedown",function(s){return i.startDrag(s)})("mousemove",function(s){return i.onDrag(s)})("mouseup",function(){return i.stopDrag()})("mouseleave",function(){return i.stopDrag()}),x(6,"label",5),h(7,"div",6)(8,"div",7),pi(9,1),d(),h(10,"div",7),pi(11,2),d()()()())},encapsulation:2})};function KJ(n,e){if(n&1&&(v(0),Y(1,"date")),n&2){let t=b();j(" Data: ",Vn(1,1,t.task().date,"HH:mm dd/MM/yyyy")," ")}}function JJ(n,e){if(n&1&&(h(0,"p")(1,"small"),v(2),d()()),n&2){let t,i=b();g(2),j("Medicamento: ",(t=i.task().medicamentAdministration)==null||t.medicament==null?null:t.medicament.name,"")}}function eee(n,e){if(n&1&&(h(0,"p")(1,"small"),v(2),d()()),n&2){let t,i=b();g(2),j("Medicamento: ",(t=i.task().medicament)==null?null:t.name,"")}}function tee(n,e){if(n&1&&(h(0,"p")(1,"small"),v(2),d()()),n&2){let t,i=b();g(2),j("Medicamento: ",(t=i.task().medicament)==null?null:t.name,"")}}function nee(n,e){if(n&1&&(h(0,"p")(1,"small"),v(2),d()()),n&2){let t,i=b();g(2),j("Consulta/Exame: ",(t=i.task().appointment)==null?null:t.title,"")}}function iee(n,e){if(n&1&&(h(0,"p")(1,"small"),v(2),d()()),n&2){let t,i=b();g(2),Zs("Funcion\xE1rio: ",(t=i.task().user)==null?null:t.id," - ",(t=i.task().user)==null?null:t.name,"")}}function ree(n,e){if(n&1){let t=Q();h(0,"div",4)(1,"img",9),E("click",function(){O(t);let r=b();return L(r.setTaskAsOngoing())}),d(),h(2,"div",6),v(3," Assumir "),d()()}}function see(n,e){if(n&1){let t=Q();h(0,"div",4)(1,"img",10),E("click",function(){O(t);let r=b(2);return L(r.setTaskAsDone())}),d(),h(2,"div",6),v(3," Concluir "),d()()}}function oee(n,e){if(n&1){let t=Q();h(0,"div",4)(1,"img",11),E("click",function(){O(t);let r=b(2);return L(r.setTaskAsPending())}),d(),h(2,"div",6),v(3," Abdicar "),d()()}}function aee(n,e){if(n&1&&(T(0,see,4,0,"div",4),Y(1,"async"),T(2,oee,4,0,"div",4)),n&2){let t,i=b();J(((t=X(1,1,i.authService.getUser()))==null?null:t.id)===((t=i.task().user)==null?null:t.id)?0:2)}}var Qv=class n{taskService=B(Nr);authService=B(be);router=B(Z);task=_e.required();get resident(){switch(this.task().type){case"Medicamento":return this.task().medicamentAdministration?.medicament?.resident;case"Stock de Medicamento":case"Baixo Stock de Medicamento":return this.task().medicament?.resident;case"Consulta":return this.task().appointment?.resident;case"Mensagem":return this.task().userMessage?.resident;default:return}}get NotificationStatus(){return KC}get NotificationType(){return nc}get title(){switch(this.task().type){case"Medicamento":return"Medica\xE7\xE3o";case"Baixo Stock de Medicamento":return"Baixo Stock de Medica\xE7\xE3o";case"Stock de Medicamento":return"Sem Stock de Medica\xE7\xE3o";case"Consulta":return"Consulta ou exame";case"Mensagem":return"Novas mensagens";default:return""}}setTaskAsOngoing(){this.taskService.setTaskAsOngoing(this.task().id)}setTaskAsDone(){this.taskService.setTaskAsDone(this.task().id)}setTaskAsCanceled(){this.taskService.setTaskAsCanceled(this.task().id)}setTaskAsPending(){this.taskService.setTaskAsPending(this.task().id)}seeResident(e){switch(e.type){case"Medicamento":return this.router.navigate(["residents","detail",e.medicamentAdministration?.medicament?.resident?.id]);case"Stock de Medicamento":case"Baixo Stock de Medicamento":return this.router.navigate(["residents","detail",e.medicament?.resident?.id]);case"Consulta":return this.router.navigate(["residents","detail",e.appointment?.resident?.id]);case"Mensagem":return this.router.navigate(["residents","detail",e.userMessage?.resident?.id]);default:return}}seeTask(e){switch(e.type){case"Medicamento":case"Stock de Medicamento":case"Baixo Stock de Medicamento":return this.router.navigate(["residents",e.medicament?.resident?.id,"medicaments",e.medicament?.id]);case"Consulta":return this.router.navigate(["residents",e.appointment?.resident?.id,"appointments",e.appointment?.id]);case"Mensagem":return this.router.navigate(["residents",e.userMessage?.resident?.id,"messages"]);default:return}}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=A({type:n,selectors:[["app-task"]],inputs:{task:[1,"task"]},standalone:!0,features:[I],decls:29,vars:8,consts:[[1,"card","bg-white/70","backdrop-blur-md","text-neutral-content","w-full","mt-1","z-50","shadow-xl","rounded-lg"],[1,"card-body","items-center","text-center"],[1,"card-title","text-lg","font-semibold","text-gray-800"],[1,"card-actions","justify-end","mt-4","flex","flex-wrap","gap-4"],[1,"relative","group"],["src","friends.svg","alt","Residente",1,"w-8","h-8","cursor-pointer","transform","transition-transform","duration-200","group-hover:-translate-y-2",3,"click"],[1,"absolute","bottom-14","left-1/2","-translate-x-1/2","hidden","group-hover:block","bg-gray-800","text-white","text-xs","rounded-md","py-1","px-2"],["src","search.svg","alt","Detalhes",1,"w-8","h-8","cursor-pointer","transform","transition-transform","duration-200","group-hover:-translate-y-2",3,"click"],["src","no.svg","alt","Cancelar",1,"w-8","h-8","cursor-pointer","transform","transition-transform","duration-200","group-hover:-translate-y-2",3,"click"],["src","myself.svg","alt","Atribuir a mim",1,"w-8","h-8","cursor-pointer","transform","transition-transform","duration-200","group-hover:-translate-y-2",3,"click"],["src","check.svg","alt","Concluir",1,"w-8","h-8","cursor-pointer","transform","transition-transform","duration-200","group-hover:-translate-y-2",3,"click"],["src","assign.svg","alt","Remover Atribui\xE7\xE3o",1,"w-8","h-8","cursor-pointer","transform","transition-transform","duration-200","group-hover:-translate-y-2",3,"click"]],template:function(t,i){if(t&1&&(h(0,"div",0)(1,"div",1)(2,"h2",2),v(3),d(),h(4,"p"),T(5,KJ,2,4),d(),T(6,JJ,3,1,"p")(7,eee,3,1,"p")(8,tee,3,1,"p")(9,nee,3,1,"p"),h(10,"p")(11,"small"),v(12),d()(),T(13,iee,3,2,"p"),h(14,"div",3)(15,"div",4)(16,"img",5),E("click",function(){return i.seeResident(i.task())}),d(),h(17,"div",6),v(18," Residente "),d()(),h(19,"div",4)(20,"img",7),E("click",function(){return i.seeTask(i.task())}),d(),h(21,"div",6),v(22," Detalhes "),d()(),T(23,ree,4,0,"div",4)(24,aee,3,3),h(25,"div",4)(26,"img",8),E("click",function(){return i.setTaskAsCanceled()}),d(),h(27,"div",6),v(28," Cancelar "),d()()()()()),t&2){let r;g(3),ae(i.title),g(2),J(i.task().date?5:-1),g(),J((r=i.task().type)===i.NotificationType.MEDICAMENT?6:r===i.NotificationType.MEDICAMENT_LOW?7:r===i.NotificationType.MEDICAMENT_STOCK?8:r===i.NotificationType.APPOINTMENT?9:-1),g(6),rx("Residente: ",i.resident==null?null:i.resident.id," - ",i.resident==null?null:i.resident.name," (Cama: ",i.resident==null?null:i.resident.bedNumber,")"),g(),J(i.task().user?13:-1),g(10),J(i.task().status===i.NotificationStatus.PENDING?23:24)}},dependencies:[qt,mi,qe]})};var Lh=(n,e)=>({"btn-secondary":n,"btn-info":e}),Xv=class n{taskService=B(Nr);get NotificationType(){return nc}get filter(){return this.taskService.taskTypeFilter$}filterAdministrations(){this.taskService.setFilter("Medicamento")}filterMessages(){this.taskService.setFilter("Mensagem")}filterAppointments(){this.taskService.setFilter("Consulta")}filterStock(){this.taskService.setFilter("Stock de Medicamento")}clearFilter(){this.taskService.clearFilter()}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=A({type:n,selectors:[["app-task-filter"]],standalone:!0,features:[I],decls:36,vars:41,consts:[[1,"join","flex-wrap","gap-4","bg-white/70","backdrop-blur-md","shadow-lg","rounded-lg","p-4","relative"],[1,"relative","group","z-50"],["src","all.svg","alt","Todas",1,"join-item","w-8","h-8","cursor-pointer","transform","transition-transform","duration-200","group-hover:-translate-y-2",3,"click","ngClass"],[1,"absolute","bottom-14","left-1/2","-translate-x-1/2","hidden","group-hover:block","bg-gray-800","text-white","text-xs","rounded-md","py-1","px-2"],[1,"relative","group"],["src","medicine.svg","alt","Administra\xE7\xF5es de Medicamentos",1,"join-item","w-8","h-8","cursor-pointer","transform","transition-transform","duration-200","group-hover:-translate-y-2",3,"click","ngClass"],["src","in-stock.svg","alt","Stock de Medicamentos",1,"join-item","w-8","h-8","cursor-pointer","transform","transition-transform","duration-200","group-hover:-translate-y-2",3,"click","ngClass"],["src","appointment.svg","alt","Consultas",1,"join-item","w-8","h-8","cursor-pointer","transform","transition-transform","duration-200","group-hover:-translate-y-2",3,"click","ngClass"],["src","comments.svg","alt","Mensagens",1,"join-item","w-8","h-8","cursor-pointer","transform","transition-transform","duration-200","group-hover:-translate-y-2",3,"click","ngClass"],[1,"join-item","cursor-pointer","transform","transition-transform","duration-200","group-hover:-translate-y-2",3,"htmlFor"],["src","no.svg","alt","Fechar",1,"w-8","h-8"]],template:function(t,i){t&1&&(h(0,"div",0)(1,"div",1)(2,"img",2),Y(3,"async"),Y(4,"async"),E("click",function(){return i.clearFilter()}),d(),h(5,"div",3),v(6," Todas "),d()(),h(7,"div",4)(8,"img",5),Y(9,"async"),Y(10,"async"),E("click",function(){return i.filterAdministrations()}),d(),h(11,"div",3),v(12," Administra\xE7\xF5es "),d()(),h(13,"div",4)(14,"img",6),Y(15,"async"),Y(16,"async"),E("click",function(){return i.filterStock()}),d(),h(17,"div",3),v(18," Stock "),d()(),h(19,"div",4)(20,"img",7),Y(21,"async"),Y(22,"async"),E("click",function(){return i.filterAppointments()}),d(),h(23,"div",3),v(24," Consultas "),d()(),h(25,"div",4)(26,"img",8),Y(27,"async"),Y(28,"async"),E("click",function(){return i.filterMessages()}),d(),h(29,"div",3),v(30," Mensagens "),d()(),h(31,"div",4)(32,"label",9),x(33,"img",10),d(),h(34,"div",3),v(35," Fechar "),d()()()),t&2&&(g(2),y("ngClass",ht(26,Lh,X(3,6,i.filter)===null,X(4,8,i.filter)!==null)),g(6),y("ngClass",ht(29,Lh,X(9,10,i.filter)===i.NotificationType.MEDICAMENT,X(10,12,i.filter)!==i.NotificationType.MEDICAMENT)),g(6),y("ngClass",ht(32,Lh,X(15,14,i.filter)===i.NotificationType.MEDICAMENT_STOCK,X(16,16,i.filter)!==i.NotificationType.MEDICAMENT_STOCK)),g(6),y("ngClass",ht(35,Lh,X(21,18,i.filter)===i.NotificationType.APPOINTMENT,X(22,20,i.filter)!==i.NotificationType.APPOINTMENT)),g(6),y("ngClass",ht(38,Lh,X(27,22,i.filter)===i.NotificationType.MESSAGE,X(28,24,i.filter)!==i.NotificationType.MESSAGE)),g(6),y("htmlFor","my-drawer-4"))},dependencies:[Gt,qe],encapsulation:2})};var Zv=class n{constructor(e,t){this.http=e;this.authService=t}url=`${N.apiUrl}notifications/messages`;urlshifts=`${N.apiUrl}notifications/shifts`;notifications=new Be([]);notifications$=this.notifications.asObservable();loadNotifications(){return this.authService.getUser().pipe(Qt(1),nt(e=>e?e.role==="relative"?this.http.get(this.url):this.http.get(this.urlshifts):z([])),Wo(q(e=>this.notifications.next(e)),q(e=>!N.production&&console.log(e))))}deleteNotifications(){return this.authService.getUser().pipe(Qt(1),nt(e=>e?this.http.delete(e.role==="relative"?this.url:this.urlshifts):z([])),q(()=>{this.notifications.next([])}))}static \u0275fac=function(t){return new(t||n)($(ze),$(be))};static \u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"})};var xP=(n,e)=>e.id,cee=()=>({side:!0}),uee=()=>({side:!1}),dee=n=>["/users",n,"reset-password"],hee=()=>["/login"];function pee(n,e){n&1&&Pn(0)}function fee(n,e){n&1&&Pn(0)}function mee(n,e){if(n&1&&(h(0,"span",16),v(1),Y(2,"async"),d()),n&2){let t,i=b(2);g(),j(" ",(t=X(2,1,i.tasks))==null?null:t.length," ")}}function gee(n,e){if(n&1&&(h(0,"div",17),x(1,"app-task",19),d()),n&2){let t=e.$implicit;g(),y("task",t)}}function vee(n,e){n&1&&(h(0,"div",18)(1,"span",20),v(2," Nenhuma tarefa dispon\xEDvel no momento "),d()())}function yee(n,e){if(n&1&&(h(0,"app-sidebar")(1,"span",14),x(2,"img",15),T(3,mee,3,3,"span",16),Y(4,"async"),d(),x(5,"app-task-filter"),Zn(6,gee,2,1,"div",17,xP,!1,vee,3,0,"div",18),Y(9,"async"),d()),n&2){let t,i=b();g(3),J((t=X(4,2,i.tasks))!=null&&t.length?3:-1),g(3),Kn(X(9,4,i.tasks))}}function _ee(n,e){if(n&1&&(h(0,"span",25),v(1),Y(2,"async"),d()),n&2){let t,i=b(2);g(),j(" ",((t=X(2,1,i.notifications))==null?null:t.length)||0," ")}}function bee(n,e){if(n&1){let t=Q();h(0,"li")(1,"button",29),E("click",function(){O(t);let r=b(2);return L(r.deleteNotification())}),v(2," Limpar Notifica\xE7\xF5es "),x(3,"img",30),d()()}}function xee(n,e){if(n&1&&(h(0,"li",27)(1,"a",31)(2,"div",32),x(3,"img",33),d(),h(4,"div",34)(5,"span",35),v(6),d(),h(7,"span",36),v(8),Y(9,"date"),d(),h(10,"span",37),v(11),d()()()()),n&2){let t=e.$implicit,i=b(2);g(3),y("src",i.getNotificationType(t.type),hi),g(3),j(" ",t.message," "),g(2),j(" ",Vn(9,4,t.createdAt,"dd/MM/yyyy HH:mm")," "),g(3),j(" ",t.type," ")}}function Cee(n,e){n&1&&(h(0,"li",28),v(1," Sem notifica\xE7\xF5es "),d())}function wee(n,e){if(n&1&&(h(0,"div",21)(1,"div",22)(2,"div",23),x(3,"img",24),T(4,_ee,3,3,"span",25),Y(5,"async"),d()(),h(6,"ul",26),T(7,bee,4,0,"li"),Y(8,"async"),Zn(9,xee,12,7,"li",27,xP,!1,Cee,2,0,"li",28),Y(12,"async"),d()()),n&2){let t,i,r=b();g(4),J((t=X(5,3,r.notifications))!=null&&t.length?4:-1),g(3),J((i=X(8,5,r.notifications))!=null&&i.length?7:-1),g(2),Kn(X(12,7,r.notifications))}}function See(n,e){if(n&1&&(x(0,"img",41),Y(1,"async")),n&2){let t=b(2);y("src",X(1,1,t.profilePicture),hi)}}function Eee(n,e){n&1&&x(0,"img",42)}function Dee(n,e){if(n&1&&(h(0,"li")(1,"a",46),x(2,"img",47),v(3," Alterar Password "),d()()),n&2){let t=e.ngIf;g(),y("routerLink",he(1,dee,t.id))}}function Tee(n,e){if(n&1){let t=Q();h(0,"div",38)(1,"div",39)(2,"div",40),T(3,See,2,3,"img",41),Y(4,"async"),T(5,Eee,1,0,"img",42),d()(),h(6,"ul",43),T(7,Dee,4,3,"li",10),Y(8,"async"),h(9,"li")(10,"a",44),E("click",function(){O(t);let r=b();return L(r.logout())}),x(11,"img",45),v(12," Logout "),d()()()()}if(n&2){let t=b();g(3),J(X(4,2,t.profilePicture)?3:5),g(4),y("ngIf",X(8,4,t.user))}}function Aee(n,e){n&1&&(h(0,"a",48),x(1,"img",49),h(2,"span"),v(3,"Login"),d()()),n&2&&y("routerLink",xu(1,hee))}var Kv=class n{constructor(e,t,i,r){this.authService=e;this.taskService=t;this.notificationService=i;this.router=r}get profilePicture(){return this.authService.getUser().pipe(V(e=>e?.profilePicture?N.photoUser+e?.profilePicture:null))}subscriptions=[];messagesVisible=!1;get tasks(){return this.taskService.tasks$}get notifications(){return this.notificationService.notifications$}ngOnInit(){console.log("NavbarMainComponent initialized"),this.subscriptions.push(Jc(5e4).pipe(ll(0),q(()=>{!N.production&&console.log("Atualizando notifica\xE7\xF5es...")}),nt(()=>this.notificationService.loadNotifications())).subscribe({error:e=>{!N.production&&console.error("Erro ao atualizar notifica\xE7\xF5es:",e)}}))}ngOnDestroy(){this.subscriptions.forEach(e=>e.unsubscribe())}deleteNotification(){this.subscriptions.push(this.notificationService.deleteNotifications().subscribe({next:()=>{!N.production&&console.log("Notifica\xE7\xF5es apagadas")},error:e=>{!N.production&&console.error("Erro ao apagar notifica\xE7\xF5es:",e)}}))}get loggedIn(){return this.authService.getUser().pipe(V(e=>!!e))}get user(){return this.authService.getUser()}get navbarLinks(){return this.authService.getUser().pipe(V(e=>{switch(e?.role){case"manager":return Gv;case"caretaker":return qv;case"relative":return Wv;default:return Uv}}))}logout(){this.authService.logout()}getNotificationType(e){switch(e){case"Mensagem Familiar":return"info.svg";case"Turno":return"info-green.svg";default:return"bg-gray-100 text-gray-800"}}navigateToSection(){this.loggedIn.subscribe(e=>{e?this.router.navigate(["/dashboard"]):this.router.navigate(["/"],{fragment:"home"})})}static \u0275fac=function(t){return new(t||n)(C(be),C(Nr),C(Zv),C(Z))};static \u0275cmp=A({type:n,selectors:[["app-navbar-main"]],standalone:!0,features:[I],decls:22,vars:24,consts:[[1,"navbar","bg-base-100","border-b","border-gray-200","shadow-sm"],[1,"navbar-start"],[1,"dropdown"],["role","button","tabindex","0",1,"btn","btn-ghost","lg:hidden"],["fill","none","stroke","currentColor","viewBox","0 0 24 24","xmlns","http://www.w3.org/2000/svg",1,"h-8","w-8"],["d","M4 6h16M4 12h8m-8 6h16","stroke-linecap","round","stroke-linejoin","round","stroke-width","2"],[4,"ngComponentOutlet","ngComponentOutletInputs"],[3,"click"],["src","logo.png","alt","logo",1,"h-8","cursor-pointer"],[1,"navbar-end"],[4,"ngIf"],["class","dropdown dropdown-end",4,"ngIf"],["class","dropdown dropdown-end mr-4",4,"ngIf"],["class","btn btn-info flex items-center",3,"routerLink",4,"ngIf"],["icon","",1,"indicator","relative"],["src","checklist.svg","alt","Task Icon",1,"w-8","h-8","mt-1","hover:brightness-90"],[1,"badge","badge-sm","badge-primary","absolute","top-1.5","left-[50%]","-translate-x-1/2","-translate-y-1/2","rounded-full","border-3","border-black"],[1,"task-item","bg-transparent","focus:bg-transparent","active:bg-transparent","hover:bg-transparent"],[1,"flex","items-center","justify-center","p-6","bg-white/70","rounded-lg","shadow-md","mt-1"],[3,"task"],[1,"text-gray-500","text-center","font-medium"],[1,"dropdown","dropdown-end"],["tabindex","0","role","button",1,"btn","btn-ghost","btn-circle","indicator","mr-4"],[1,"indicator","relative"],["src","bell.svg","alt","Notification Icon",1,"w-8","h-8"],[1,"badge","badge-sm","badge-primary","absolute","top-0.5","left-[50%]","-translate-x-1/2","-translate-y-1/2","rounded-full","border-3","border-black"],["tabindex","0",1,"dropdown-content","bg-white/70","backdrop-blur-md","rounded-md","z-50","overflow-x-hidden","mt-5","w-64","sm:w-96","p-4","shadow-lg","max-h-96","overflow-y-auto"],[1,"p-2"],[1,"text-center","py-4","text-gray-500","italic"],[1,"btn","btn-primary","w-full",3,"click"],["src","no.svg","alt","Delete Icon",1,"h-4","w-4","cursor-pointer","ml-2"],[1,"flex","items-start"],[1,"flex-shrink-0","flex","items-center","justify-center","relative","top-1","mr-1"],["alt","Notification Type",1,"w-4","h-4","rounded-full",3,"src"],[1,"flex-1"],[1,"font-semibold","block","text-base","text-gray-800","flex","justify-between","items-center"],[1,"text-sm","text-gray-500"],[1,"badge","badge-sm","mt-1","inline-block","text-xs","font-medium","rounded-full","bg-gray-100","text-gray-700","border-none"],[1,"dropdown","dropdown-end","mr-4"],["role","button","tabindex","0",1,"btn","btn-ghost","btn-circle","avatar"],[1,"w-10","rounded-full"],["alt","User Avatar",3,"src"],["alt","User Avatar","src","user.svg"],["tabindex","0",1,"menu","menu-sm","dropdown-content","bg-base-100","rounded-box","z-[1]","mt-3","w-52","p-2","shadow"],[1,"flex","items-center",3,"click"],["src","logout.svg","alt","Logout Icon",1,"w-5","h-5","mr-2"],[1,"flex","items-center",3,"routerLink"],["src","gear.svg","alt","Settings Icon",1,"w-5","h-5","mr-2"],[1,"btn","btn-info","flex","items-center",3,"routerLink"],["src","login.svg","alt","Key Icon",1,"w-8","h-8"]],template:function(t,i){if(t&1&&(h(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),ee(),h(4,"svg",4),x(5,"path",5),d()(),T(6,pee,1,0,"ng-container",6),Y(7,"async"),d(),zi(),h(8,"a",7),E("click",function(){return i.navigateToSection()}),x(9,"img",8),d()(),T(10,fee,1,0,"ng-container",6),Y(11,"async"),h(12,"div",9),T(13,yee,10,6,"app-sidebar",10),Y(14,"async"),Y(15,"async"),T(16,wee,13,9,"div",11),Y(17,"async"),T(18,Tee,13,6,"div",12),Y(19,"async"),T(20,Aee,4,2,"a",13),Y(21,"async"),d()()),t&2){let r;g(6),y("ngComponentOutlet",X(7,8,i.navbarLinks))("ngComponentOutletInputs",xu(22,cee)),g(4),y("ngComponentOutlet",X(11,10,i.navbarLinks))("ngComponentOutletInputs",xu(23,uee)),g(3),y("ngIf",X(14,12,i.loggedIn)&&((r=X(15,14,i.user))==null?null:r.role)!=="relative"),g(3),y("ngIf",X(17,16,i.loggedIn)),g(2),y("ngIf",X(19,18,i.loggedIn)),g(2),y("ngIf",!X(21,20,i.loggedIn))}},dependencies:[Fe,qe,tm,Yv,Qv,qt,Ce,Xv],encapsulation:2})};var Iee=n=>[n];function Mee(n,e){if(n&1&&(h(0,"div",1)(1,"div",2),ee(),h(2,"svg",3),x(3,"path",4),d(),zi(),h(4,"span"),v(5),d()()()),n&2){let t,i=b();g(),y("ngClass",he(3,Iee,i.color)),g(2),Me("d",i.icon),g(2),ae((t=i.toast())==null?null:t.message)}}var Jv=class n{constructor(e){this.toastService=e}toast=vt(()=>this.toastService.toast());get icon(){switch(this.toast()?.type){case"success":return"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z";case"error":return"M10 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2m7-2a9 9 0 11-18 0 9 9 0 0118 0z";case"warning":return"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z";default:return"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"}}get color(){switch(this.toast()?.type){case"success":return"alert-success";case"error":return"alert-primary";case"warning":return"alert-warning";default:return"alert-info"}}static \u0275fac=function(t){return new(t||n)(C(it))};static \u0275cmp=A({type:n,selectors:[["app-toast"]],standalone:!0,features:[I],decls:1,vars:1,consts:[["class","fixed bottom-4 right-4 z-50",4,"ngIf"],[1,"fixed","bottom-4","right-4","z-50"],["role","alert",1,"alert",3,"ngClass"],["fill","none","viewBox","0 0 24 24","xmlns","http://www.w3.org/2000/svg",1,"h-6","w-6","shrink-0","stroke-current"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2"]],template:function(t,i){t&1&&T(0,Mee,6,5,"div",0),t&2&&y("ngIf",i.toast())},dependencies:[Gt,Ce]})};var ey=class n{constructor(){}hasAcceptedCookies(){return localStorage.getItem("cookiesAccepted")==="true"}acceptCookies(){localStorage.setItem("cookiesAccepted","true")}clearCookies(){localStorage.removeItem("cookiesAccepted")}static \u0275fac=function(t){return new(t||n)};static \u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"})};function Ree(n,e){if(n&1){let t=Q();h(0,"div",1)(1,"p",2),v(2," Este site utiliza cookies para garantir que tenha a melhor experi\xEAncia. Ao continuar a navegar, concorda com o uso de cookies. "),d(),h(3,"button",3),E("click",function(){O(t);let r=b();return L(r.acceptCookies())}),v(4," Aceitar Cookies "),d()()}}var ty=class n{constructor(e){this.cookieService=e}cookiesAccepted=!1;ngOnInit(){this.cookiesAccepted=this.cookieService.hasAcceptedCookies()}acceptCookies(){this.cookieService.acceptCookies(),this.cookiesAccepted=!0}static \u0275fac=function(t){return new(t||n)(C(ey))};static \u0275cmp=A({type:n,selectors:[["app-cookie-notification"]],standalone:!0,features:[I],decls:1,vars:1,consts:[["class","fixed bottom-4 left-1/2 transform -translate-x-1/2 bg-info text-black p-4 rounded-lg shadow-lg flex flex-col md:flex-row items-center md:space-x-4 space-y-4 md:space-y-0 w-[95%] sm:w-[90%] md:w-[80%] lg:w-[60%] max-w-[600px] z-50",4,"ngIf"],[1,"fixed","bottom-4","left-1/2","transform","-translate-x-1/2","bg-info","text-black","p-4","rounded-lg","shadow-lg","flex","flex-col","md:flex-row","items-center","md:space-x-4","space-y-4","md:space-y-0","w-[95%]","sm:w-[90%]","md:w-[80%]","lg:w-[60%]","max-w-[600px]","z-50"],[1,"text-sm","md:text-base","text-center","md:text-left","flex-1"],[1,"bg-success","hover:bg-success","text-black","py-2","px-4","rounded-md","text-xs","md:text-sm","font-bold","w-full","md:w-auto","flex-shrink-0",3,"click"]],template:function(t,i){t&1&&T(0,Ree,5,0,"div",0),t&2&&y("ngIf",!i.cookiesAccepted)},dependencies:[Ce]})};var CP=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=Xe({type:n})}static{this.\u0275inj=Qe({})}}return n})();var ny=class n{static \u0275fac=function(t){return new(t||n)};static \u0275cmp=A({type:n,selectors:[["app-footer"]],standalone:!0,features:[I],decls:4,vars:0,consts:[[1,"bg-base-100","mt-auto","w-full","p-2"],[1,"container","mx-auto","text-center","space-y-4"],[1,"text-sm","text-gray-600"]],template:function(t,i){t&1&&(h(0,"footer",0)(1,"div",1)(2,"p",2),v(3,"\xA9 2024 Aconchego. Todos os direitos reservados."),d()()())}})};function Oee(n,e){n&1&&(h(0,"div",0)(1,"h1",1),v(2,"Loading..."),d(),x(3,"span",2),d())}var iy=class n{loadingService=B(Bo);get loading$(){return this.loadingService.loading$}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=A({type:n,selectors:[["app-loading-page"]],standalone:!0,features:[I],decls:2,vars:3,consts:[[1,"fixed","w-full","h-full","z-50","bg-black","top-0","left-0","bg-opacity-50","flex","items-center","justify-center","flex-col"],[1,"text-white","text-2xl","font-bold"],[1,"loading","loading-ring","loading-lg","text-white"]],template:function(t,i){t&1&&(T(0,Oee,4,0,"div",0),Y(1,"async")),t&2&&J(X(1,1,i.loading$)?0:-1)},dependencies:[qe],encapsulation:2})};function Lee(n,e){if(n&1&&(h(0,"li"),v(1),d()),n&2){let t=e.$implicit;g(),ae(t)}}function Nee(n,e){if(n&1){let t=Q();h(0,"div",0)(1,"dialog",1)(2,"div",2)(3,"h3",3),v(4,"Erro!"),d(),h(5,"p",4),v(6,"N\xE3o foi poss\xEDvel realizar a opera\xE7\xE3o. "),x(7,"br"),v(8," Tente novamente! "),d(),h(9,"ul"),Zn(10,Lee,2,1,"li",null,Ff),Y(12,"async"),d(),h(13,"div",5)(14,"form",6)(15,"img",7),E("click",function(){O(t);let r=b();return L(r.clearErrors())}),d()()()()()()}if(n&2){let t=b();g(10),Kn(X(12,0,t.errors$))}}var ry=class n{errorService=B(Hc);get errors$(){return this.errorService.errors$}clearErrors(){this.errorService.clearErrors()}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=A({type:n,selectors:[["app-modal-error"]],standalone:!0,features:[I],decls:2,vars:3,consts:[[1,"fixed","w-full","h-full","z-50","top-0","left-0","flex","items-center","justify-center","flex-col"],["id","error_modal",1,"modal","modal-open","modal-bottom","sm:modal-middle"],[1,"modal-box"],[1,"text-lg","font-bold","text-primary"],[1,"py-4"],[1,"modal-action"],["method","dialog"],["src","no.svg","alt","Erro",1,"h-6","w-6","cursor-pointer",3,"click"]],template:function(t,i){if(t&1&&(T(0,Nee,16,2,"div",0),Y(1,"async")),t&2){let r;J((r=X(1,1,i.errors$))!=null&&r.length?0:-1)}},dependencies:[qe],encapsulation:2})};var sy=class n{authService=B(be);loadingService=B(Bo);title="Aconchego";ngOnInit(){this.authService.validateSavedToken(),this.loadingService.loading$.subscribe()}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=A({type:n,selectors:[["app-root"]],standalone:!0,features:[I],decls:9,vars:0,consts:[["href",qA`https://fonts.googleapis.com/css2?family=Nunito:wght@400;600;700&display=swap`,"rel","stylesheet"],[1,"container","px-2","sm:px-0","mx-auto","pt-10","flex","flex-col","min-h-screen"]],template:function(t,i){t&1&&(x(0,"link",0)(1,"app-navbar-main")(2,"app-cookie-notification"),h(3,"main",1),x(4,"router-outlet"),d(),x(5,"app-toast")(6,"app-loading-page")(7,"app-modal-error")(8,"app-footer"))},dependencies:[gC,Kv,Jv,jv,ty,Ng,CP,ny,iy,ry],encapsulation:2})};function wP(n){return new W(3e3,!1)}function Fee(){return new W(3100,!1)}function Pee(){return new W(3101,!1)}function Vee(n){return new W(3001,!1)}function Bee(n){return new W(3003,!1)}function jee(n){return new W(3004,!1)}function Hee(n,e){return new W(3005,!1)}function zee(){return new W(3006,!1)}function $ee(){return new W(3007,!1)}function Uee(n,e){return new W(3008,!1)}function Gee(n){return new W(3002,!1)}function qee(n,e,t,i,r){return new W(3010,!1)}function Wee(){return new W(3011,!1)}function Yee(){return new W(3012,!1)}function Qee(){return new W(3200,!1)}function Xee(){return new W(3202,!1)}function Zee(){return new W(3013,!1)}function Kee(n){return new W(3014,!1)}function Jee(n){return new W(3015,!1)}function ete(n){return new W(3016,!1)}function tte(n,e){return new W(3404,!1)}function nte(n){return new W(3502,!1)}function ite(n){return new W(3503,!1)}function rte(){return new W(3300,!1)}function ste(n){return new W(3504,!1)}function ote(n){return new W(3301,!1)}function ate(n,e){return new W(3302,!1)}function lte(n){return new W(3303,!1)}function cte(n,e){return new W(3400,!1)}function ute(n){return new W(3401,!1)}function dte(n){return new W(3402,!1)}function hte(n,e){return new W(3505,!1)}function zo(n){switch(n.length){case 0:return new go;case 1:return n[0];default:return new wd(n)}}function PP(n,e,t=new Map,i=new Map){let r=[],s=[],o=-1,a=null;if(e.forEach(l=>{let c=l.get("offset"),u=c==o,p=u&&a||new Map;l.forEach((m,f)=>{let _=f,w=m;if(f!=="offset")switch(_=n.normalizePropertyName(_,r),w){case Xm:w=t.get(f);break;case Fr:w=i.get(f);break;default:w=n.normalizeStyleValue(f,_,w,r);break}p.set(_,w)}),u||s.push(p),a=p,o=c}),r.length)throw nte(r);return s}function EE(n,e,t,i){switch(e){case"start":n.onStart(()=>i(t&&iE(t,"start",n)));break;case"done":n.onDone(()=>i(t&&iE(t,"done",n)));break;case"destroy":n.onDestroy(()=>i(t&&iE(t,"destroy",n)));break}}function iE(n,e,t){let i=t.totalTime,r=!!t.disabled,s=DE(n.element,n.triggerName,n.fromState,n.toState,e||n.phaseName,i??n.totalTime,r),o=n._data;return o!=null&&(s._data=o),s}function DE(n,e,t,i,r="",s=0,o){return{element:n,triggerName:e,fromState:t,toState:i,phaseName:r,totalTime:s,disabled:!!o}}function Ni(n,e,t){let i=n.get(e);return i||n.set(e,i=t),i}function SP(n){let e=n.indexOf(":"),t=n.substring(1,e),i=n.slice(e+1);return[t,i]}var pte=typeof document>"u"?null:document.documentElement;function TE(n){let e=n.parentNode||n.host||null;return e===pte?null:e}function fte(n){return n.substring(1,6)=="ebkit"}var $a=null,EP=!1;function mte(n){$a||($a=gte()||{},EP=$a.style?"WebkitAppearance"in $a.style:!1);let e=!0;return $a.style&&!fte(n)&&(e=n in $a.style,!e&&EP&&(e="Webkit"+n.charAt(0).toUpperCase()+n.slice(1)in $a.style)),e}function gte(){return typeof document<"u"?document.body:null}function VP(n,e){for(;e;){if(e===n)return!0;e=TE(e)}return!1}function BP(n,e,t){if(t)return Array.from(n.querySelectorAll(e));let i=n.querySelector(e);return i?[i]:[]}var AE=(()=>{class n{validateStyleProperty(t){return mte(t)}containsElement(t,i){return VP(t,i)}getParentElement(t){return TE(t)}query(t,i,r){return BP(t,i,r)}computeStyle(t,i,r){return r||""}animate(t,i,r,s,o,a=[],l){return new go(r,s)}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=H({token:n,factory:n.\u0275fac})}}return n})(),qa=class{static{this.NOOP=new AE}},Wa=class{};var vte=1e3,jP="{{",yte="}}",HP="ng-enter",cE="ng-leave",oy="ng-trigger",dy=".ng-trigger",DP="ng-animating",uE=".ng-animating";function Rs(n){if(typeof n=="number")return n;let e=n.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:dE(parseFloat(e[1]),e[2])}function dE(n,e){switch(e){case"s":return n*vte;default:return n}}function hy(n,e,t){return n.hasOwnProperty("duration")?n:_te(n,e,t)}function _te(n,e,t){let i=/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i,r,s=0,o="";if(typeof n=="string"){let a=n.match(i);if(a===null)return e.push(wP(n)),{duration:0,delay:0,easing:""};r=dE(parseFloat(a[1]),a[2]);let l=a[3];l!=null&&(s=dE(parseFloat(l),a[4]));let c=a[5];c&&(o=c)}else r=n;if(!t){let a=!1,l=e.length;r<0&&(e.push(Fee()),a=!0),s<0&&(e.push(Pee()),a=!0),a&&e.splice(l,0,wP(n))}return{duration:r,delay:s,easing:o}}function bte(n){return n.length?n[0]instanceof Map?n:n.map(e=>new Map(Object.entries(e))):[]}function rs(n,e,t){e.forEach((i,r)=>{let s=IE(r);t&&!t.has(r)&&t.set(r,n.style[s]),n.style[s]=i})}function Ga(n,e){e.forEach((t,i)=>{let r=IE(i);n.style[r]=""})}function Nh(n){return Array.isArray(n)?n.length==1?n[0]:KR(n):n}function xte(n,e,t){let i=e.params||{},r=zP(n);r.length&&r.forEach(s=>{i.hasOwnProperty(s)||t.push(Vee(s))})}var hE=new RegExp(`${jP}\\s*(.+?)\\s*${yte}`,"g");function zP(n){let e=[];if(typeof n=="string"){let t;for(;t=hE.exec(n);)e.push(t[1]);hE.lastIndex=0}return e}function Ph(n,e,t){let i=`${n}`,r=i.replace(hE,(s,o)=>{let a=e[o];return a==null&&(t.push(Bee(o)),a=""),a.toString()});return r==i?n:r}var Cte=/-+([a-z0-9])/g;function IE(n){return n.replace(Cte,(...e)=>e[1].toUpperCase())}function wte(n,e){return n===0||e===0}function Ste(n,e,t){if(t.size&&e.length){let i=e[0],r=[];if(t.forEach((s,o)=>{i.has(o)||r.push(o),i.set(o,s)}),r.length)for(let s=1;s<e.length;s++){let o=e[s];r.forEach(a=>o.set(a,ME(n,a)))}}return e}function Li(n,e,t){switch(e.type){case Oe.Trigger:return n.visitTrigger(e,t);case Oe.State:return n.visitState(e,t);case Oe.Transition:return n.visitTransition(e,t);case Oe.Sequence:return n.visitSequence(e,t);case Oe.Group:return n.visitGroup(e,t);case Oe.Animate:return n.visitAnimate(e,t);case Oe.Keyframes:return n.visitKeyframes(e,t);case Oe.Style:return n.visitStyle(e,t);case Oe.Reference:return n.visitReference(e,t);case Oe.AnimateChild:return n.visitAnimateChild(e,t);case Oe.AnimateRef:return n.visitAnimateRef(e,t);case Oe.Query:return n.visitQuery(e,t);case Oe.Stagger:return n.visitStagger(e,t);default:throw jee(e.type)}}function ME(n,e){return window.getComputedStyle(n)[e]}var Ete=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]),py=class extends Wa{normalizePropertyName(e,t){return IE(e)}normalizeStyleValue(e,t,i,r){let s="",o=i.toString().trim();if(Ete.has(t)&&i!==0&&i!=="0")if(typeof i=="number")s="px";else{let a=i.match(/^[+-]?[\d\.]+([a-z]*)$/);a&&a[1].length==0&&r.push(Hee(e,i))}return o+s}};var fy="*";function Dte(n,e){let t=[];return typeof n=="string"?n.split(/\s*,\s*/).forEach(i=>Tte(i,t,e)):t.push(n),t}function Tte(n,e,t){if(n[0]==":"){let l=Ate(n,t);if(typeof l=="function"){e.push(l);return}n=l}let i=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(i==null||i.length<4)return t.push(Jee(n)),e;let r=i[1],s=i[2],o=i[3];e.push(TP(r,o));let a=r==fy&&o==fy;s[0]=="<"&&!a&&e.push(TP(o,r))}function Ate(n,e){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,i)=>parseFloat(i)>parseFloat(t);case":decrement":return(t,i)=>parseFloat(i)<parseFloat(t);default:return e.push(ete(n)),"* => *"}}var ay=new Set(["true","1"]),ly=new Set(["false","0"]);function TP(n,e){let t=ay.has(n)||ly.has(n),i=ay.has(e)||ly.has(e);return(r,s)=>{let o=n==fy||n==r,a=e==fy||e==s;return!o&&t&&typeof r=="boolean"&&(o=r?ay.has(n):ly.has(n)),!a&&i&&typeof s=="boolean"&&(a=s?ay.has(e):ly.has(e)),o&&a}}var $P=":self",Ite=new RegExp(`s*${$P}s*,?`,"g");function UP(n,e,t,i){return new pE(n).build(e,t,i)}var AP="",pE=class{constructor(e){this._driver=e}build(e,t,i){let r=new fE(t);return this._resetContextStyleTimingState(r),Li(this,Nh(e),r)}_resetContextStyleTimingState(e){e.currentQuerySelector=AP,e.collectedStyles=new Map,e.collectedStyles.set(AP,new Map),e.currentTime=0}visitTrigger(e,t){let i=t.queryCount=0,r=t.depCount=0,s=[],o=[];return e.name.charAt(0)=="@"&&t.errors.push(zee()),e.definitions.forEach(a=>{if(this._resetContextStyleTimingState(t),a.type==Oe.State){let l=a,c=l.name;c.toString().split(/\s*,\s*/).forEach(u=>{l.name=u,s.push(this.visitState(l,t))}),l.name=c}else if(a.type==Oe.Transition){let l=this.visitTransition(a,t);i+=l.queryCount,r+=l.depCount,o.push(l)}else t.errors.push($ee())}),{type:Oe.Trigger,name:e.name,states:s,transitions:o,queryCount:i,depCount:r,options:null}}visitState(e,t){let i=this.visitStyle(e.styles,t),r=e.options&&e.options.params||null;if(i.containsDynamicStyles){let s=new Set,o=r||{};i.styles.forEach(a=>{a instanceof Map&&a.forEach(l=>{zP(l).forEach(c=>{o.hasOwnProperty(c)||s.add(c)})})}),s.size&&t.errors.push(Uee(e.name,[...s.values()]))}return{type:Oe.State,name:e.name,style:i,options:r?{params:r}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;let i=Li(this,Nh(e.animation),t),r=Dte(e.expr,t.errors);return{type:Oe.Transition,matchers:r,animation:i,queryCount:t.queryCount,depCount:t.depCount,options:Ua(e.options)}}visitSequence(e,t){return{type:Oe.Sequence,steps:e.steps.map(i=>Li(this,i,t)),options:Ua(e.options)}}visitGroup(e,t){let i=t.currentTime,r=0,s=e.steps.map(o=>{t.currentTime=i;let a=Li(this,o,t);return r=Math.max(r,t.currentTime),a});return t.currentTime=r,{type:Oe.Group,steps:s,options:Ua(e.options)}}visitAnimate(e,t){let i=Ote(e.timings,t.errors);t.currentAnimateTimings=i;let r,s=e.styles?e.styles:vo({});if(s.type==Oe.Keyframes)r=this.visitKeyframes(s,t);else{let o=e.styles,a=!1;if(!o){a=!0;let c={};i.easing&&(c.easing=i.easing),o=vo(c)}t.currentTime+=i.duration+i.delay;let l=this.visitStyle(o,t);l.isEmptyStep=a,r=l}return t.currentAnimateTimings=null,{type:Oe.Animate,timings:i,style:r,options:null}}visitStyle(e,t){let i=this._makeStyleAst(e,t);return this._validateStyleAst(i,t),i}_makeStyleAst(e,t){let i=[],r=Array.isArray(e.styles)?e.styles:[e.styles];for(let a of r)typeof a=="string"?a===Fr?i.push(a):t.errors.push(Gee(a)):i.push(new Map(Object.entries(a)));let s=!1,o=null;return i.forEach(a=>{if(a instanceof Map&&(a.has("easing")&&(o=a.get("easing"),a.delete("easing")),!s)){for(let l of a.values())if(l.toString().indexOf(jP)>=0){s=!0;break}}}),{type:Oe.Style,styles:i,easing:o,offset:e.offset,containsDynamicStyles:s,options:null}}_validateStyleAst(e,t){let i=t.currentAnimateTimings,r=t.currentTime,s=t.currentTime;i&&s>0&&(s-=i.duration+i.delay),e.styles.forEach(o=>{typeof o!="string"&&o.forEach((a,l)=>{let c=t.collectedStyles.get(t.currentQuerySelector),u=c.get(l),p=!0;u&&(s!=r&&s>=u.startTime&&r<=u.endTime&&(t.errors.push(qee(l,u.startTime,u.endTime,s,r)),p=!1),s=u.startTime),p&&c.set(l,{startTime:s,endTime:r}),t.options&&xte(a,t.options,t.errors)})})}visitKeyframes(e,t){let i={type:Oe.Keyframes,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push(Wee()),i;let r=1,s=0,o=[],a=!1,l=!1,c=0,u=e.steps.map(D=>{let R=this._makeStyleAst(D,t),F=R.offset!=null?R.offset:Rte(R.styles),U=0;return F!=null&&(s++,U=R.offset=F),l=l||U<0||U>1,a=a||U<c,c=U,o.push(U),R});l&&t.errors.push(Yee()),a&&t.errors.push(Qee());let p=e.steps.length,m=0;s>0&&s<p?t.errors.push(Xee()):s==0&&(m=r/(p-1));let f=p-1,_=t.currentTime,w=t.currentAnimateTimings,S=w.duration;return u.forEach((D,R)=>{let F=m>0?R==f?1:m*R:o[R],U=F*S;t.currentTime=_+w.delay+U,w.duration=U,this._validateStyleAst(D,t),D.offset=F,i.styles.push(D)}),i}visitReference(e,t){return{type:Oe.Reference,animation:Li(this,Nh(e.animation),t),options:Ua(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:Oe.AnimateChild,options:Ua(e.options)}}visitAnimateRef(e,t){return{type:Oe.AnimateRef,animation:this.visitReference(e.animation,t),options:Ua(e.options)}}visitQuery(e,t){let i=t.currentQuerySelector,r=e.options||{};t.queryCount++,t.currentQuery=e;let[s,o]=Mte(e.selector);t.currentQuerySelector=i.length?i+" "+s:s,Ni(t.collectedStyles,t.currentQuerySelector,new Map);let a=Li(this,Nh(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=i,{type:Oe.Query,selector:s,limit:r.limit||0,optional:!!r.optional,includeSelf:o,animation:a,originalSelector:e.selector,options:Ua(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push(Zee());let i=e.timings==="full"?{duration:0,delay:0,easing:"full"}:hy(e.timings,t.errors,!0);return{type:Oe.Stagger,animation:Li(this,Nh(e.animation),t),timings:i,options:null}}};function Mte(n){let e=!!n.split(/\s*,\s*/).find(t=>t==$P);return e&&(n=n.replace(Ite,"")),n=n.replace(/@\*/g,dy).replace(/@\w+/g,t=>dy+"-"+t.slice(1)).replace(/:animating/g,uE),[n,e]}function kte(n){return n?P({},n):null}var fE=class{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}};function Rte(n){if(typeof n=="string")return null;let e=null;if(Array.isArray(n))n.forEach(t=>{if(t instanceof Map&&t.has("offset")){let i=t;e=parseFloat(i.get("offset")),i.delete("offset")}});else if(n instanceof Map&&n.has("offset")){let t=n;e=parseFloat(t.get("offset")),t.delete("offset")}return e}function Ote(n,e){if(n.hasOwnProperty("duration"))return n;if(typeof n=="number"){let s=hy(n,e).duration;return rE(s,0,"")}let t=n;if(t.split(/\s+/).some(s=>s.charAt(0)=="{"&&s.charAt(1)=="{")){let s=rE(0,0,"");return s.dynamic=!0,s.strValue=t,s}let r=hy(t,e);return rE(r.duration,r.delay,r.easing)}function Ua(n){return n?(n=P({},n),n.params&&(n.params=kte(n.params))):n={},n}function rE(n,e,t){return{duration:n,delay:e,easing:t}}function kE(n,e,t,i,r,s,o=null,a=!1){return{type:1,element:n,keyframes:e,preStyleProps:t,postStyleProps:i,duration:r,delay:s,totalTime:r+s,easing:o,subTimeline:a}}var Vh=class{constructor(){this._map=new Map}get(e){return this._map.get(e)||[]}append(e,t){let i=this._map.get(e);i||this._map.set(e,i=[]),i.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}},Lte=1,Nte=":enter",Fte=new RegExp(Nte,"g"),Pte=":leave",Vte=new RegExp(Pte,"g");function GP(n,e,t,i,r,s=new Map,o=new Map,a,l,c=[]){return new mE().buildKeyframes(n,e,t,i,r,s,o,a,l,c)}var mE=class{buildKeyframes(e,t,i,r,s,o,a,l,c,u=[]){c=c||new Vh;let p=new gE(e,t,c,r,s,u,[]);p.options=l;let m=l.delay?Rs(l.delay):0;p.currentTimeline.delayNextStep(m),p.currentTimeline.setStyles([o],null,p.errors,l),Li(this,i,p);let f=p.timelines.filter(_=>_.containsAnimation());if(f.length&&a.size){let _;for(let w=f.length-1;w>=0;w--){let S=f[w];if(S.element===t){_=S;break}}_&&!_.allowOnlyTimelineStyles()&&_.setStyles([a],null,p.errors,l)}return f.length?f.map(_=>_.buildKeyframes()):[kE(t,[],[],[],0,m,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){let i=t.subInstructions.get(t.element);if(i){let r=t.createSubContext(e.options),s=t.currentTimeline.currentTime,o=this._visitSubInstructions(i,r,r.options);s!=o&&t.transformIntoNewTimeline(o)}t.previousNode=e}visitAnimateRef(e,t){let i=t.createSubContext(e.options);i.transformIntoNewTimeline(),this._applyAnimationRefDelays([e.options,e.animation.options],t,i),this.visitReference(e.animation,i),t.transformIntoNewTimeline(i.currentTimeline.currentTime),t.previousNode=e}_applyAnimationRefDelays(e,t,i){for(let r of e){let s=r?.delay;if(s){let o=typeof s=="number"?s:Rs(Ph(s,r?.params??{},t.errors));i.delayNextStep(o)}}}_visitSubInstructions(e,t,i){let s=t.currentTimeline.currentTime,o=i.duration!=null?Rs(i.duration):null,a=i.delay!=null?Rs(i.delay):null;return o!==0&&e.forEach(l=>{let c=t.appendInstructionToTimeline(l,o,a);s=Math.max(s,c.duration+c.delay)}),s}visitReference(e,t){t.updateOptions(e.options,!0),Li(this,e.animation,t),t.previousNode=e}visitSequence(e,t){let i=t.subContextCount,r=t,s=e.options;if(s&&(s.params||s.delay)&&(r=t.createSubContext(s),r.transformIntoNewTimeline(),s.delay!=null)){r.previousNode.type==Oe.Style&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=my);let o=Rs(s.delay);r.delayNextStep(o)}e.steps.length&&(e.steps.forEach(o=>Li(this,o,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>i&&r.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){let i=[],r=t.currentTimeline.currentTime,s=e.options&&e.options.delay?Rs(e.options.delay):0;e.steps.forEach(o=>{let a=t.createSubContext(e.options);s&&a.delayNextStep(s),Li(this,o,a),r=Math.max(r,a.currentTimeline.currentTime),i.push(a.currentTimeline)}),i.forEach(o=>t.currentTimeline.mergeTimelineCollectedStyles(o)),t.transformIntoNewTimeline(r),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){let i=e.strValue,r=t.params?Ph(i,t.params,t.errors):i;return hy(r,t.errors)}else return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){let i=t.currentAnimateTimings=this._visitTiming(e.timings,t),r=t.currentTimeline;i.delay&&(t.incrementTime(i.delay),r.snapshotCurrentStyles());let s=e.style;s.type==Oe.Keyframes?this.visitKeyframes(s,t):(t.incrementTime(i.duration),this.visitStyle(s,t),r.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){let i=t.currentTimeline,r=t.currentAnimateTimings;!r&&i.hasCurrentStyleProperties()&&i.forwardFrame();let s=r&&r.easing||e.easing;e.isEmptyStep?i.applyEmptyStep(s):i.setStyles(e.styles,s,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){let i=t.currentAnimateTimings,r=t.currentTimeline.duration,s=i.duration,a=t.createSubContext().currentTimeline;a.easing=i.easing,e.styles.forEach(l=>{let c=l.offset||0;a.forwardTime(c*s),a.setStyles(l.styles,l.easing,t.errors,t.options),a.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(a),t.transformIntoNewTimeline(r+s),t.previousNode=e}visitQuery(e,t){let i=t.currentTimeline.currentTime,r=e.options||{},s=r.delay?Rs(r.delay):0;s&&(t.previousNode.type===Oe.Style||i==0&&t.currentTimeline.hasCurrentStyleProperties())&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=my);let o=i,a=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!r.optional,t.errors);t.currentQueryTotal=a.length;let l=null;a.forEach((c,u)=>{t.currentQueryIndex=u;let p=t.createSubContext(e.options,c);s&&p.delayNextStep(s),c===t.element&&(l=p.currentTimeline),Li(this,e.animation,p),p.currentTimeline.applyStylesToKeyframe();let m=p.currentTimeline.currentTime;o=Math.max(o,m)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(o),l&&(t.currentTimeline.mergeTimelineCollectedStyles(l),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){let i=t.parentContext,r=t.currentTimeline,s=e.timings,o=Math.abs(s.duration),a=o*(t.currentQueryTotal-1),l=o*t.currentQueryIndex;switch(s.duration<0?"reverse":s.easing){case"reverse":l=a-l;break;case"full":l=i.currentStaggerTime;break}let u=t.currentTimeline;l&&u.delayNextStep(l);let p=u.currentTime;Li(this,e.animation,t),t.previousNode=e,i.currentStaggerTime=r.currentTime-p+(r.startTime-i.currentTimeline.startTime)}},my={},gE=class n{constructor(e,t,i,r,s,o,a,l){this._driver=e,this.element=t,this.subInstructions=i,this._enterClassName=r,this._leaveClassName=s,this.errors=o,this.timelines=a,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=my,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=l||new gy(this._driver,t,0),a.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;let i=e,r=this.options;i.duration!=null&&(r.duration=Rs(i.duration)),i.delay!=null&&(r.delay=Rs(i.delay));let s=i.params;if(s){let o=r.params;o||(o=this.options.params={}),Object.keys(s).forEach(a=>{(!t||!o.hasOwnProperty(a))&&(o[a]=Ph(s[a],o,this.errors))})}}_copyOptions(){let e={};if(this.options){let t=this.options.params;if(t){let i=e.params={};Object.keys(t).forEach(r=>{i[r]=t[r]})}}return e}createSubContext(e=null,t,i){let r=t||this.element,s=new n(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,i||0));return s.previousNode=this.previousNode,s.currentAnimateTimings=this.currentAnimateTimings,s.options=this._copyOptions(),s.updateOptions(e),s.currentQueryIndex=this.currentQueryIndex,s.currentQueryTotal=this.currentQueryTotal,s.parentContext=this,this.subContextCount++,s}transformIntoNewTimeline(e){return this.previousNode=my,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,i){let r={duration:t??e.duration,delay:this.currentTimeline.currentTime+(i??0)+e.delay,easing:""},s=new vE(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,r,e.stretchStartingKeyframe);return this.timelines.push(s),r}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,i,r,s,o){let a=[];if(r&&a.push(this.element),e.length>0){e=e.replace(Fte,"."+this._enterClassName),e=e.replace(Vte,"."+this._leaveClassName);let l=i!=1,c=this._driver.query(this.element,e,l);i!==0&&(c=i<0?c.slice(c.length+i,c.length):c.slice(0,i)),a.push(...c)}return!s&&a.length==0&&o.push(Kee(t)),a}},gy=class n{constructor(e,t,i,r){this._driver=e,this.element=t,this.startTime=i,this._elementTimelineStylesLookup=r,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(e){let t=this._keyframes.size===1&&this._pendingStyles.size;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new n(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=Lte,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles.set(e,t),this._globalTimelineStyles.set(e,t),this._styleSummary.set(e,{time:this.currentTime,value:t})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&this._previousKeyframe.set("easing",e);for(let[t,i]of this._globalTimelineStyles)this._backFill.set(t,i||Fr),this._currentKeyframe.set(t,Fr);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,i,r){t&&this._previousKeyframe.set("easing",t);let s=r&&r.params||{},o=Bte(e,this._globalTimelineStyles);for(let[a,l]of o){let c=Ph(l,s,i);this._pendingStyles.set(a,c),this._localTimelineStyles.has(a)||this._backFill.set(a,this._globalTimelineStyles.get(a)??Fr),this._updateStyle(a,c)}}applyStylesToKeyframe(){this._pendingStyles.size!=0&&(this._pendingStyles.forEach((e,t)=>{this._currentKeyframe.set(t,e)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((e,t)=>{this._currentKeyframe.has(t)||this._currentKeyframe.set(t,e)}))}snapshotCurrentStyles(){for(let[e,t]of this._localTimelineStyles)this._pendingStyles.set(e,t),this._updateStyle(e,t)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){let e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){e._styleSummary.forEach((t,i)=>{let r=this._styleSummary.get(i);(!r||t.time>r.time)&&this._updateStyle(i,t.value)})}buildKeyframes(){this.applyStylesToKeyframe();let e=new Set,t=new Set,i=this._keyframes.size===1&&this.duration===0,r=[];this._keyframes.forEach((a,l)=>{let c=new Map([...this._backFill,...a]);c.forEach((u,p)=>{u===Xm?e.add(p):u===Fr&&t.add(p)}),i||c.set("offset",l/this.duration),r.push(c)});let s=[...e.values()],o=[...t.values()];if(i){let a=r[0],l=new Map(a);a.set("offset",0),l.set("offset",1),r=[a,l]}return kE(this.element,r,s,o,this.duration,this.startTime,this.easing,!1)}},vE=class extends gy{constructor(e,t,i,r,s,o,a=!1){super(e,t,o.delay),this.keyframes=i,this.preStyleProps=r,this.postStyleProps=s,this._stretchStartingKeyframe=a,this.timings={duration:o.duration,delay:o.delay,easing:o.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:i,easing:r}=this.timings;if(this._stretchStartingKeyframe&&t){let s=[],o=i+t,a=t/o,l=new Map(e[0]);l.set("offset",0),s.push(l);let c=new Map(e[0]);c.set("offset",IP(a)),s.push(c);let u=e.length-1;for(let p=1;p<=u;p++){let m=new Map(e[p]),f=m.get("offset"),_=t+f*i;m.set("offset",IP(_/o)),s.push(m)}i=o,t=0,r="",e=s}return kE(this.element,e,this.preStyleProps,this.postStyleProps,i,t,r,!0)}};function IP(n,e=3){let t=Math.pow(10,e-1);return Math.round(n*t)/t}function Bte(n,e){let t=new Map,i;return n.forEach(r=>{if(r==="*"){i??=e.keys();for(let s of i)t.set(s,Fr)}else for(let[s,o]of r)t.set(s,o)}),t}function MP(n,e,t,i,r,s,o,a,l,c,u,p,m){return{type:0,element:n,triggerName:e,isRemovalTransition:r,fromState:t,fromStyles:s,toState:i,toStyles:o,timelines:a,queriedElements:l,preStyleProps:c,postStyleProps:u,totalTime:p,errors:m}}var sE={},vy=class{constructor(e,t,i){this._triggerName=e,this.ast=t,this._stateStyles=i}match(e,t,i,r){return jte(this.ast.matchers,e,t,i,r)}buildStyles(e,t,i){let r=this._stateStyles.get("*");return e!==void 0&&(r=this._stateStyles.get(e?.toString())||r),r?r.buildStyles(t,i):new Map}build(e,t,i,r,s,o,a,l,c,u){let p=[],m=this.ast.options&&this.ast.options.params||sE,f=a&&a.params||sE,_=this.buildStyles(i,f,p),w=l&&l.params||sE,S=this.buildStyles(r,w,p),D=new Set,R=new Map,F=new Map,U=r==="void",ne={params:qP(w,m),delay:this.ast.options?.delay},le=u?[]:GP(e,t,this.ast.animation,s,o,_,S,ne,c,p),me=0;return le.forEach(ue=>{me=Math.max(ue.duration+ue.delay,me)}),p.length?MP(t,this._triggerName,i,r,U,_,S,[],[],R,F,me,p):(le.forEach(ue=>{let ft=ue.element,Tt=Ni(R,ft,new Set);ue.preStyleProps.forEach(pt=>Tt.add(pt));let we=Ni(F,ft,new Set);ue.postStyleProps.forEach(pt=>we.add(pt)),ft!==t&&D.add(ft)}),MP(t,this._triggerName,i,r,U,_,S,le,[...D.values()],R,F,me))}};function jte(n,e,t,i,r){return n.some(s=>s(e,t,i,r))}function qP(n,e){let t=P({},e);return Object.entries(n).forEach(([i,r])=>{r!=null&&(t[i]=r)}),t}var yE=class{constructor(e,t,i){this.styles=e,this.defaultParams=t,this.normalizer=i}buildStyles(e,t){let i=new Map,r=qP(e,this.defaultParams);return this.styles.styles.forEach(s=>{typeof s!="string"&&s.forEach((o,a)=>{o&&(o=Ph(o,r,t));let l=this.normalizer.normalizePropertyName(a,t);o=this.normalizer.normalizeStyleValue(a,l,o,t),i.set(a,o)})}),i}};function Hte(n,e,t){return new _E(n,e,t)}var _E=class{constructor(e,t,i){this.name=e,this.ast=t,this._normalizer=i,this.transitionFactories=[],this.states=new Map,t.states.forEach(r=>{let s=r.options&&r.options.params||{};this.states.set(r.name,new yE(r.style,s,i))}),kP(this.states,"true","1"),kP(this.states,"false","0"),t.transitions.forEach(r=>{this.transitionFactories.push(new vy(e,r,this.states))}),this.fallbackTransition=zte(e,this.states,this._normalizer)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,i,r){return this.transitionFactories.find(o=>o.match(e,t,i,r))||null}matchStyles(e,t,i){return this.fallbackTransition.buildStyles(e,t,i)}};function zte(n,e,t){let i=[(o,a)=>!0],r={type:Oe.Sequence,steps:[],options:null},s={type:Oe.Transition,animation:r,matchers:i,options:null,queryCount:0,depCount:0};return new vy(n,s,e)}function kP(n,e,t){n.has(e)?n.has(t)||n.set(t,n.get(e)):n.has(t)&&n.set(e,n.get(t))}var $te=new Vh,bE=class{constructor(e,t,i){this.bodyNode=e,this._driver=t,this._normalizer=i,this._animations=new Map,this._playersById=new Map,this.players=[]}register(e,t){let i=[],r=[],s=UP(this._driver,t,i,r);if(i.length)throw ite(i);r.length&&void 0,this._animations.set(e,s)}_buildPlayer(e,t,i){let r=e.element,s=PP(this._normalizer,e.keyframes,t,i);return this._driver.animate(r,s,e.duration,e.delay,e.easing,[],!0)}create(e,t,i={}){let r=[],s=this._animations.get(e),o,a=new Map;if(s?(o=GP(this._driver,t,s,HP,cE,new Map,new Map,i,$te,r),o.forEach(u=>{let p=Ni(a,u.element,new Map);u.postStyleProps.forEach(m=>p.set(m,null))})):(r.push(rte()),o=[]),r.length)throw ste(r);a.forEach((u,p)=>{u.forEach((m,f)=>{u.set(f,this._driver.computeStyle(p,f,Fr))})});let l=o.map(u=>{let p=a.get(u.element);return this._buildPlayer(u,new Map,p)}),c=zo(l);return this._playersById.set(e,c),c.onDestroy(()=>this.destroy(e)),this.players.push(c),c}destroy(e){let t=this._getPlayer(e);t.destroy(),this._playersById.delete(e);let i=this.players.indexOf(t);i>=0&&this.players.splice(i,1)}_getPlayer(e){let t=this._playersById.get(e);if(!t)throw ote(e);return t}listen(e,t,i,r){let s=DE(t,"","","");return EE(this._getPlayer(e),i,s,r),()=>{}}command(e,t,i,r){if(i=="register"){this.register(e,r[0]);return}if(i=="create"){let o=r[0]||{};this.create(e,t,o);return}let s=this._getPlayer(e);switch(i){case"play":s.play();break;case"pause":s.pause();break;case"reset":s.reset();break;case"restart":s.restart();break;case"finish":s.finish();break;case"init":s.init();break;case"setPosition":s.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(e);break}}},RP="ng-animate-queued",Ute=".ng-animate-queued",oE="ng-animate-disabled",Gte=".ng-animate-disabled",qte="ng-star-inserted",Wte=".ng-star-inserted",Yte=[],WP={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},Qte={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},gr="__ng_removed",Bh=class{get params(){return this.options.params}constructor(e,t=""){this.namespaceId=t;let i=e&&e.hasOwnProperty("value"),r=i?e.value:e;if(this.value=Zte(r),i){let s=e,{value:o}=s,a=Gc(s,["value"]);this.options=a}else this.options={};this.options.params||(this.options.params={})}absorbOptions(e){let t=e.params;if(t){let i=this.options.params;Object.keys(t).forEach(r=>{i[r]==null&&(i[r]=t[r])})}}},Fh="void",aE=new Bh(Fh),xE=class{constructor(e,t,i){this.id=e,this.hostElement=t,this._engine=i,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,Qi(t,this._hostClassName)}listen(e,t,i,r){if(!this._triggers.has(t))throw ate(i,t);if(i==null||i.length==0)throw lte(t);if(!Kte(i))throw cte(i,t);let s=Ni(this._elementListeners,e,[]),o={name:t,phase:i,callback:r};s.push(o);let a=Ni(this._engine.statesByElement,e,new Map);return a.has(t)||(Qi(e,oy),Qi(e,oy+"-"+t),a.set(t,aE)),()=>{this._engine.afterFlush(()=>{let l=s.indexOf(o);l>=0&&s.splice(l,1),this._triggers.has(t)||a.delete(t)})}}register(e,t){return this._triggers.has(e)?!1:(this._triggers.set(e,t),!0)}_getTrigger(e){let t=this._triggers.get(e);if(!t)throw ute(e);return t}trigger(e,t,i,r=!0){let s=this._getTrigger(t),o=new jh(this.id,t,e),a=this._engine.statesByElement.get(e);a||(Qi(e,oy),Qi(e,oy+"-"+t),this._engine.statesByElement.set(e,a=new Map));let l=a.get(t),c=new Bh(i,this.id);if(!(i&&i.hasOwnProperty("value"))&&l&&c.absorbOptions(l.options),a.set(t,c),l||(l=aE),!(c.value===Fh)&&l.value===c.value){if(!tne(l.params,c.params)){let w=[],S=s.matchStyles(l.value,l.params,w),D=s.matchStyles(c.value,c.params,w);w.length?this._engine.reportError(w):this._engine.afterFlush(()=>{Ga(e,S),rs(e,D)})}return}let m=Ni(this._engine.playersByElement,e,[]);m.forEach(w=>{w.namespaceId==this.id&&w.triggerName==t&&w.queued&&w.destroy()});let f=s.matchTransition(l.value,c.value,e,c.params),_=!1;if(!f){if(!r)return;f=s.fallbackTransition,_=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:f,fromState:l,toState:c,player:o,isFallbackTransition:_}),_||(Qi(e,RP),o.onStart(()=>{zc(e,RP)})),o.onDone(()=>{let w=this.players.indexOf(o);w>=0&&this.players.splice(w,1);let S=this._engine.playersByElement.get(e);if(S){let D=S.indexOf(o);D>=0&&S.splice(D,1)}}),this.players.push(o),m.push(o),o}deregister(e){this._triggers.delete(e),this._engine.statesByElement.forEach(t=>t.delete(e)),this._elementListeners.forEach((t,i)=>{this._elementListeners.set(i,t.filter(r=>r.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);let t=this._engine.playersByElement.get(e);t&&(t.forEach(i=>i.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){let i=this._engine.driver.query(e,dy,!0);i.forEach(r=>{if(r[gr])return;let s=this._engine.fetchNamespacesByElement(r);s.size?s.forEach(o=>o.triggerLeaveAnimation(r,t,!1,!0)):this.clearElementCache(r)}),this._engine.afterFlushAnimationsDone(()=>i.forEach(r=>this.clearElementCache(r)))}triggerLeaveAnimation(e,t,i,r){let s=this._engine.statesByElement.get(e),o=new Map;if(s){let a=[];if(s.forEach((l,c)=>{if(o.set(c,l.value),this._triggers.has(c)){let u=this.trigger(e,c,Fh,r);u&&a.push(u)}}),a.length)return this._engine.markElementAsRemoved(this.id,e,!0,t,o),i&&zo(a).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){let t=this._elementListeners.get(e),i=this._engine.statesByElement.get(e);if(t&&i){let r=new Set;t.forEach(s=>{let o=s.name;if(r.has(o))return;r.add(o);let l=this._triggers.get(o).fallbackTransition,c=i.get(o)||aE,u=new Bh(Fh),p=new jh(this.id,o,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:o,transition:l,fromState:c,toState:u,player:p,isFallbackTransition:!0})})}}removeNode(e,t){let i=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let r=!1;if(i.totalAnimations){let s=i.players.length?i.playersByQueriedElement.get(e):[];if(s&&s.length)r=!0;else{let o=e;for(;o=o.parentNode;)if(i.statesByElement.get(o)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(e),r)i.markElementAsRemoved(this.id,e,!1,t);else{let s=e[gr];(!s||s===WP)&&(i.afterFlush(()=>this.clearElementCache(e)),i.destroyInnerAnimations(e),i._onRemovalComplete(e,t))}}insertNode(e,t){Qi(e,this._hostClassName)}drainQueuedTransitions(e){let t=[];return this._queue.forEach(i=>{let r=i.player;if(r.destroyed)return;let s=i.element,o=this._elementListeners.get(s);o&&o.forEach(a=>{if(a.name==i.triggerName){let l=DE(s,i.triggerName,i.fromState.value,i.toState.value);l._data=e,EE(i.player,a.phase,l,a.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):t.push(i)}),this._queue=[],t.sort((i,r)=>{let s=i.transition.ast.depCount,o=r.transition.ast.depCount;return s==0||o==0?s-o:this._engine.driver.containsElement(i.element,r.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}},CE=class{_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}constructor(e,t,i){this.bodyNode=e,this.driver=t,this._normalizer=i,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(r,s)=>{}}get queuedPlayers(){let e=[];return this._namespaceList.forEach(t=>{t.players.forEach(i=>{i.queued&&e.push(i)})}),e}createNamespace(e,t){let i=new xE(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(i,t):(this.newHostElements.set(t,i),this.collectEnterElement(t)),this._namespaceLookup[e]=i}_balanceNamespaceList(e,t){let i=this._namespaceList,r=this.namespacesByHostElement;if(i.length-1>=0){let o=!1,a=this.driver.getParentElement(t);for(;a;){let l=r.get(a);if(l){let c=i.indexOf(l);i.splice(c+1,0,e),o=!0;break}a=this.driver.getParentElement(a)}o||i.unshift(e)}else i.push(e);return r.set(t,e),e}register(e,t){let i=this._namespaceLookup[e];return i||(i=this.createNamespace(e,t)),i}registerTrigger(e,t,i){let r=this._namespaceLookup[e];r&&r.register(t,i)&&this.totalAnimations++}destroy(e,t){e&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{let i=this._fetchNamespace(e);this.namespacesByHostElement.delete(i.hostElement);let r=this._namespaceList.indexOf(i);r>=0&&this._namespaceList.splice(r,1),i.destroy(t),delete this._namespaceLookup[e]}))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){let t=new Set,i=this.statesByElement.get(e);if(i){for(let r of i.values())if(r.namespaceId){let s=this._fetchNamespace(r.namespaceId);s&&t.add(s)}}return t}trigger(e,t,i,r){if(cy(t)){let s=this._fetchNamespace(e);if(s)return s.trigger(t,i,r),!0}return!1}insertNode(e,t,i,r){if(!cy(t))return;let s=t[gr];if(s&&s.setForRemoval){s.setForRemoval=!1,s.setForMove=!0;let o=this.collectedLeaveElements.indexOf(t);o>=0&&this.collectedLeaveElements.splice(o,1)}if(e){let o=this._fetchNamespace(e);o&&o.insertNode(t,i)}r&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),Qi(e,oE)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),zc(e,oE))}removeNode(e,t,i){if(cy(t)){let r=e?this._fetchNamespace(e):null;r?r.removeNode(t,i):this.markElementAsRemoved(e,t,!1,i);let s=this.namespacesByHostElement.get(t);s&&s.id!==e&&s.removeNode(t,i)}else this._onRemovalComplete(t,i)}markElementAsRemoved(e,t,i,r,s){this.collectedLeaveElements.push(t),t[gr]={namespaceId:e,setForRemoval:r,hasAnimation:i,removedBeforeQueried:!1,previousTriggersValues:s}}listen(e,t,i,r,s){return cy(t)?this._fetchNamespace(e).listen(t,i,r,s):()=>{}}_buildInstruction(e,t,i,r,s){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,i,r,e.fromState.options,e.toState.options,t,s)}destroyInnerAnimations(e){let t=this.driver.query(e,dy,!0);t.forEach(i=>this.destroyActiveAnimationsForElement(i)),this.playersByQueriedElement.size!=0&&(t=this.driver.query(e,uE,!0),t.forEach(i=>this.finishActiveQueriedAnimationOnElement(i)))}destroyActiveAnimationsForElement(e){let t=this.playersByElement.get(e);t&&t.forEach(i=>{i.queued?i.markedForDestroy=!0:i.destroy()})}finishActiveQueriedAnimationOnElement(e){let t=this.playersByQueriedElement.get(e);t&&t.forEach(i=>i.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return zo(this.players).onDone(()=>e());e()})}processLeaveNode(e){let t=e[gr];if(t&&t.setForRemoval){if(e[gr]=WP,t.namespaceId){this.destroyInnerAnimations(e);let i=this._fetchNamespace(t.namespaceId);i&&i.clearElementCache(e)}this._onRemovalComplete(e,t.setForRemoval)}e.classList?.contains(oE)&&this.markElementAsDisabled(e,!1),this.driver.query(e,Gte,!0).forEach(i=>{this.markElementAsDisabled(i,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((i,r)=>this._balanceNamespaceList(i,r)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let i=0;i<this.collectedEnterElements.length;i++){let r=this.collectedEnterElements[i];Qi(r,qte)}if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){let i=[];try{t=this._flushAnimations(i,e)}finally{for(let r=0;r<i.length;r++)i[r]()}}else for(let i=0;i<this.collectedLeaveElements.length;i++){let r=this.collectedLeaveElements[i];this.processLeaveNode(r)}if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(i=>i()),this._flushFns=[],this._whenQuietFns.length){let i=this._whenQuietFns;this._whenQuietFns=[],t.length?zo(t).onDone(()=>{i.forEach(r=>r())}):i.forEach(r=>r())}}reportError(e){throw dte(e)}_flushAnimations(e,t){let i=new Vh,r=[],s=new Map,o=[],a=new Map,l=new Map,c=new Map,u=new Set;this.disabledNodes.forEach(re=>{u.add(re);let ce=this.driver.query(re,Ute,!0);for(let pe=0;pe<ce.length;pe++)u.add(ce[pe])});let p=this.bodyNode,m=Array.from(this.statesByElement.keys()),f=NP(m,this.collectedEnterElements),_=new Map,w=0;f.forEach((re,ce)=>{let pe=HP+w++;_.set(ce,pe),re.forEach(Se=>Qi(Se,pe))});let S=[],D=new Set,R=new Set;for(let re=0;re<this.collectedLeaveElements.length;re++){let ce=this.collectedLeaveElements[re],pe=ce[gr];pe&&pe.setForRemoval&&(S.push(ce),D.add(ce),pe.hasAnimation?this.driver.query(ce,Wte,!0).forEach(Se=>D.add(Se)):R.add(ce))}let F=new Map,U=NP(m,Array.from(D));U.forEach((re,ce)=>{let pe=cE+w++;F.set(ce,pe),re.forEach(Se=>Qi(Se,pe))}),e.push(()=>{f.forEach((re,ce)=>{let pe=_.get(ce);re.forEach(Se=>zc(Se,pe))}),U.forEach((re,ce)=>{let pe=F.get(ce);re.forEach(Se=>zc(Se,pe))}),S.forEach(re=>{this.processLeaveNode(re)})});let ne=[],le=[];for(let re=this._namespaceList.length-1;re>=0;re--)this._namespaceList[re].drainQueuedTransitions(t).forEach(pe=>{let Se=pe.player,Ft=pe.element;if(ne.push(Se),this.collectedEnterElements.length){let Jt=Ft[gr];if(Jt&&Jt.setForMove){if(Jt.previousTriggersValues&&Jt.previousTriggersValues.has(pe.triggerName)){let Xi=Jt.previousTriggersValues.get(pe.triggerName),Mn=this.statesByElement.get(pe.element);if(Mn&&Mn.has(pe.triggerName)){let $o=Mn.get(pe.triggerName);$o.value=Xi,Mn.set(pe.triggerName,$o)}}Se.destroy();return}}let $n=!p||!this.driver.containsElement(p,Ft),mn=F.get(Ft),Fi=_.get(Ft),mt=this._buildInstruction(pe,i,Fi,mn,$n);if(mt.errors&&mt.errors.length){le.push(mt);return}if($n){Se.onStart(()=>Ga(Ft,mt.fromStyles)),Se.onDestroy(()=>rs(Ft,mt.toStyles)),r.push(Se);return}if(pe.isFallbackTransition){Se.onStart(()=>Ga(Ft,mt.fromStyles)),Se.onDestroy(()=>rs(Ft,mt.toStyles)),r.push(Se);return}let Pi=[];mt.timelines.forEach(Jt=>{Jt.stretchStartingKeyframe=!0,this.disabledNodes.has(Jt.element)||Pi.push(Jt)}),mt.timelines=Pi,i.append(Ft,mt.timelines);let Uc={instruction:mt,player:Se,element:Ft};o.push(Uc),mt.queriedElements.forEach(Jt=>Ni(a,Jt,[]).push(Se)),mt.preStyleProps.forEach((Jt,Xi)=>{if(Jt.size){let Mn=l.get(Xi);Mn||l.set(Xi,Mn=new Set),Jt.forEach(($o,Ya)=>Mn.add(Ya))}}),mt.postStyleProps.forEach((Jt,Xi)=>{let Mn=c.get(Xi);Mn||c.set(Xi,Mn=new Set),Jt.forEach(($o,Ya)=>Mn.add(Ya))})});if(le.length){let re=[];le.forEach(ce=>{re.push(hte(ce.triggerName,ce.errors))}),ne.forEach(ce=>ce.destroy()),this.reportError(re)}let me=new Map,ue=new Map;o.forEach(re=>{let ce=re.element;i.has(ce)&&(ue.set(ce,ce),this._beforeAnimationBuild(re.player.namespaceId,re.instruction,me))}),r.forEach(re=>{let ce=re.element;this._getPreviousPlayers(ce,!1,re.namespaceId,re.triggerName,null).forEach(Se=>{Ni(me,ce,[]).push(Se),Se.destroy()})});let ft=S.filter(re=>FP(re,l,c)),Tt=new Map;LP(Tt,this.driver,R,c,Fr).forEach(re=>{FP(re,l,c)&&ft.push(re)});let pt=new Map;f.forEach((re,ce)=>{LP(pt,this.driver,new Set(re),l,Xm)}),ft.forEach(re=>{let ce=Tt.get(re),pe=pt.get(re);Tt.set(re,new Map([...ce?.entries()??[],...pe?.entries()??[]]))});let fe=[],Pe=[],wi={};o.forEach(re=>{let{element:ce,player:pe,instruction:Se}=re;if(i.has(ce)){if(u.has(ce)){pe.onDestroy(()=>rs(ce,Se.toStyles)),pe.disabled=!0,pe.overrideTotalTime(Se.totalTime),r.push(pe);return}let Ft=wi;if(ue.size>1){let mn=ce,Fi=[];for(;mn=mn.parentNode;){let mt=ue.get(mn);if(mt){Ft=mt;break}Fi.push(mn)}Fi.forEach(mt=>ue.set(mt,Ft))}let $n=this._buildAnimation(pe.namespaceId,Se,me,s,pt,Tt);if(pe.setRealPlayer($n),Ft===wi)fe.push(pe);else{let mn=this.playersByElement.get(Ft);mn&&mn.length&&(pe.parentPlayer=zo(mn)),r.push(pe)}}else Ga(ce,Se.fromStyles),pe.onDestroy(()=>rs(ce,Se.toStyles)),Pe.push(pe),u.has(ce)&&r.push(pe)}),Pe.forEach(re=>{let ce=s.get(re.element);if(ce&&ce.length){let pe=zo(ce);re.setRealPlayer(pe)}}),r.forEach(re=>{re.parentPlayer?re.syncPlayerEvents(re.parentPlayer):re.destroy()});for(let re=0;re<S.length;re++){let ce=S[re],pe=ce[gr];if(zc(ce,cE),pe&&pe.hasAnimation)continue;let Se=[];if(a.size){let $n=a.get(ce);$n&&$n.length&&Se.push(...$n);let mn=this.driver.query(ce,uE,!0);for(let Fi=0;Fi<mn.length;Fi++){let mt=a.get(mn[Fi]);mt&&mt.length&&Se.push(...mt)}}let Ft=Se.filter($n=>!$n.destroyed);Ft.length?Jte(this,ce,Ft):this.processLeaveNode(ce)}return S.length=0,fe.forEach(re=>{this.players.push(re),re.onDone(()=>{re.destroy();let ce=this.players.indexOf(re);this.players.splice(ce,1)}),re.play()}),fe}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,i,r,s){let o=[];if(t){let a=this.playersByQueriedElement.get(e);a&&(o=a)}else{let a=this.playersByElement.get(e);if(a){let l=!s||s==Fh;a.forEach(c=>{c.queued||!l&&c.triggerName!=r||o.push(c)})}}return(i||r)&&(o=o.filter(a=>!(i&&i!=a.namespaceId||r&&r!=a.triggerName))),o}_beforeAnimationBuild(e,t,i){let r=t.triggerName,s=t.element,o=t.isRemovalTransition?void 0:e,a=t.isRemovalTransition?void 0:r;for(let l of t.timelines){let c=l.element,u=c!==s,p=Ni(i,c,[]);this._getPreviousPlayers(c,u,o,a,t.toState).forEach(f=>{let _=f.getRealPlayer();_.beforeDestroy&&_.beforeDestroy(),f.destroy(),p.push(f)})}Ga(s,t.fromStyles)}_buildAnimation(e,t,i,r,s,o){let a=t.triggerName,l=t.element,c=[],u=new Set,p=new Set,m=t.timelines.map(_=>{let w=_.element;u.add(w);let S=w[gr];if(S&&S.removedBeforeQueried)return new go(_.duration,_.delay);let D=w!==l,R=ene((i.get(w)||Yte).map(me=>me.getRealPlayer())).filter(me=>{let ue=me;return ue.element?ue.element===w:!1}),F=s.get(w),U=o.get(w),ne=PP(this._normalizer,_.keyframes,F,U),le=this._buildPlayer(_,ne,R);if(_.subTimeline&&r&&p.add(w),D){let me=new jh(e,a,w);me.setRealPlayer(le),c.push(me)}return le});c.forEach(_=>{Ni(this.playersByQueriedElement,_.element,[]).push(_),_.onDone(()=>Xte(this.playersByQueriedElement,_.element,_))}),u.forEach(_=>Qi(_,DP));let f=zo(m);return f.onDestroy(()=>{u.forEach(_=>zc(_,DP)),rs(l,t.toStyles)}),p.forEach(_=>{Ni(r,_,[]).push(f)}),f}_buildPlayer(e,t,i){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,i):new go(e.duration,e.delay)}},jh=class{constructor(e,t,i){this.namespaceId=e,this.triggerName=t,this.element=i,this._player=new go,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,this._queuedCallbacks.forEach((t,i)=>{t.forEach(r=>EE(e,i,void 0,r))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){let t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){Ni(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return this.queued?!1:this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){let t=this._player;t.triggerCallback&&t.triggerCallback(e)}};function Xte(n,e,t){let i=n.get(e);if(i){if(i.length){let r=i.indexOf(t);i.splice(r,1)}i.length==0&&n.delete(e)}return i}function Zte(n){return n??null}function cy(n){return n&&n.nodeType===1}function Kte(n){return n=="start"||n=="done"}function OP(n,e){let t=n.style.display;return n.style.display=e??"none",t}function LP(n,e,t,i,r){let s=[];t.forEach(l=>s.push(OP(l)));let o=[];i.forEach((l,c)=>{let u=new Map;l.forEach(p=>{let m=e.computeStyle(c,p,r);u.set(p,m),(!m||m.length==0)&&(c[gr]=Qte,o.push(c))}),n.set(c,u)});let a=0;return t.forEach(l=>OP(l,s[a++])),o}function NP(n,e){let t=new Map;if(n.forEach(a=>t.set(a,[])),e.length==0)return t;let i=1,r=new Set(e),s=new Map;function o(a){if(!a)return i;let l=s.get(a);if(l)return l;let c=a.parentNode;return t.has(c)?l=c:r.has(c)?l=i:l=o(c),s.set(a,l),l}return e.forEach(a=>{let l=o(a);l!==i&&t.get(l).push(a)}),t}function Qi(n,e){n.classList?.add(e)}function zc(n,e){n.classList?.remove(e)}function Jte(n,e,t){zo(t).onDone(()=>n.processLeaveNode(e))}function ene(n){let e=[];return YP(n,e),e}function YP(n,e){for(let t=0;t<n.length;t++){let i=n[t];i instanceof wd?YP(i.players,e):e.push(i)}}function tne(n,e){let t=Object.keys(n),i=Object.keys(e);if(t.length!=i.length)return!1;for(let r=0;r<t.length;r++){let s=t[r];if(!e.hasOwnProperty(s)||n[s]!==e[s])return!1}return!0}function FP(n,e,t){let i=t.get(n);if(!i)return!1;let r=e.get(n);return r?i.forEach(s=>r.add(s)):e.set(n,i),t.delete(n),!0}var $c=class{constructor(e,t,i){this._driver=t,this._normalizer=i,this._triggerCache={},this.onRemovalComplete=(r,s)=>{},this._transitionEngine=new CE(e.body,t,i),this._timelineEngine=new bE(e.body,t,i),this._transitionEngine.onRemovalComplete=(r,s)=>this.onRemovalComplete(r,s)}registerTrigger(e,t,i,r,s){let o=e+"-"+r,a=this._triggerCache[o];if(!a){let l=[],c=[],u=UP(this._driver,s,l,c);if(l.length)throw tte(r,l);c.length&&void 0,a=Hte(r,u,this._normalizer),this._triggerCache[o]=a}this._transitionEngine.registerTrigger(t,r,a)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,i,r){this._transitionEngine.insertNode(e,t,i,r)}onRemove(e,t,i){this._transitionEngine.removeNode(e,t,i)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,i,r){if(i.charAt(0)=="@"){let[s,o]=SP(i),a=r;this._timelineEngine.command(s,t,o,a)}else this._transitionEngine.trigger(e,t,i,r)}listen(e,t,i,r,s){if(i.charAt(0)=="@"){let[o,a]=SP(i);return this._timelineEngine.listen(o,t,a,s)}return this._transitionEngine.listen(e,t,i,r,s)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(e){this._transitionEngine.afterFlushAnimationsDone(e)}};function nne(n,e){let t=null,i=null;return Array.isArray(e)&&e.length?(t=lE(e[0]),e.length>1&&(i=lE(e[e.length-1]))):e instanceof Map&&(t=lE(e)),t||i?new wE(n,t,i):null}var wE=class n{static{this.initialStylesByElement=new WeakMap}constructor(e,t,i){this._element=e,this._startStyles=t,this._endStyles=i,this._state=0;let r=n.initialStylesByElement.get(e);r||n.initialStylesByElement.set(e,r=new Map),this._initialStyles=r}start(){this._state<1&&(this._startStyles&&rs(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(rs(this._element,this._initialStyles),this._endStyles&&(rs(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(Ga(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Ga(this._element,this._endStyles),this._endStyles=null),rs(this._element,this._initialStyles),this._state=3)}};function lE(n){let e=null;return n.forEach((t,i)=>{ine(i)&&(e=e||new Map,e.set(i,t))}),e}function ine(n){return n==="display"||n==="position"}var yy=class{constructor(e,t,i,r){this.element=e,this.keyframes=t,this.options=i,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=i.duration,this._delay=i.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;let e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:new Map;let t=()=>this._onFinish();this.domPlayer.addEventListener("finish",t),this.onDestroy(()=>{this.domPlayer.removeEventListener("finish",t)})}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(e){let t=[];return e.forEach(i=>{t.push(Object.fromEntries(i))}),t}_triggerWebAnimation(e,t,i){return e.animate(this._convertKeyframesToObject(t),i)}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){this.domPlayer===void 0&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){let e=new Map;this.hasStarted()&&this._finalKeyframe.forEach((i,r)=>{r!=="offset"&&e.set(r,this._finished?i:ME(this.element,r))}),this.currentSnapshot=e}triggerCallback(e){let t=e==="start"?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}},_y=class{validateStyleProperty(e){return!0}validateAnimatableStyleProperty(e){return!0}containsElement(e,t){return VP(e,t)}getParentElement(e){return TE(e)}query(e,t,i){return BP(e,t,i)}computeStyle(e,t,i){return ME(e,t)}animate(e,t,i,r,s,o=[]){let a=r==0?"both":"forwards",l={duration:i,delay:r,fill:a};s&&(l.easing=s);let c=new Map,u=o.filter(f=>f instanceof yy);wte(i,r)&&u.forEach(f=>{f.currentSnapshot.forEach((_,w)=>c.set(w,_))});let p=bte(t).map(f=>new Map(f));p=Ste(e,p,c);let m=nne(e,p);return new yy(e,p,l,m)}};var uy="@",QP="@.disabled",by=class{constructor(e,t,i,r){this.namespaceId=e,this.delegate=t,this.engine=i,this._onDestroy=r,this.\u0275type=0}get data(){return this.delegate.data}destroyNode(e){this.delegate.destroyNode?.(e)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,i,r=!0){this.delegate.insertBefore(e,t,i),this.engine.onInsert(this.namespaceId,t,e,r)}removeChild(e,t,i){this.parentNode(t)&&this.engine.onRemove(this.namespaceId,t,this.delegate)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,i,r){this.delegate.setAttribute(e,t,i,r)}removeAttribute(e,t,i){this.delegate.removeAttribute(e,t,i)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,i,r){this.delegate.setStyle(e,t,i,r)}removeStyle(e,t,i){this.delegate.removeStyle(e,t,i)}setProperty(e,t,i){t.charAt(0)==uy&&t==QP?this.disableAnimations(e,!!i):this.delegate.setProperty(e,t,i)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,i){return this.delegate.listen(e,t,i)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}},SE=class extends by{constructor(e,t,i,r,s){super(t,i,r,s),this.factory=e,this.namespaceId=t}setProperty(e,t,i){t.charAt(0)==uy?t.charAt(1)=="."&&t==QP?(i=i===void 0?!0:!!i,this.disableAnimations(e,i)):this.engine.process(this.namespaceId,e,t.slice(1),i):this.delegate.setProperty(e,t,i)}listen(e,t,i){if(t.charAt(0)==uy){let r=rne(e),s=t.slice(1),o="";return s.charAt(0)!=uy&&([s,o]=sne(s)),this.engine.listen(this.namespaceId,r,s,o,a=>{let l=a._data||-1;this.factory.scheduleListenerCallback(l,i,a)})}return this.delegate.listen(e,t,i)}};function rne(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}function sne(n){let e=n.indexOf("."),t=n.substring(0,e),i=n.slice(e+1);return[t,i]}var xy=class{constructor(e,t,i){this.delegate=e,this.engine=t,this._zone=i,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,t.onRemovalComplete=(r,s)=>{s?.removeChild(null,r)}}createRenderer(e,t){let i="",r=this.delegate.createRenderer(e,t);if(!e||!t?.data?.animation){let c=this._rendererCache,u=c.get(r);if(!u){let p=()=>c.delete(r);u=new by(i,r,this.engine,p),c.set(r,u)}return u}let s=t.id,o=t.id+"-"+this._currentId;this._currentId++,this.engine.register(o,e);let a=c=>{Array.isArray(c)?c.forEach(a):this.engine.registerTrigger(s,o,e,c.name,c)};return t.data.animation.forEach(a),new SE(this,o,r,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(e,t,i){if(e>=0&&e<this._microtaskId){this._zone.run(()=>t(i));return}let r=this._animationCallbacksBuffer;r.length==0&&queueMicrotask(()=>{this._zone.run(()=>{r.forEach(s=>{let[o,a]=s;o(a)}),this._animationCallbacksBuffer=[]})}),r.push([t,i])}end(){this._cdRecurDepth--,this._cdRecurDepth==0&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}};var ane=(()=>{class n extends $c{constructor(t,i,r){super(t,i,r)}ngOnDestroy(){this.flush()}static{this.\u0275fac=function(i){return new(i||n)($(vn),$(qa),$(Wa))}}static{this.\u0275prov=H({token:n,factory:n.\u0275fac})}}return n})();function lne(){return new py}function cne(n,e,t){return new xy(n,e,t)}var ZP=[{provide:Wa,useFactory:lne},{provide:$c,useClass:ane},{provide:Ws,useFactory:cne,deps:[lm,$c,Ke]}],XP=[{provide:qa,useFactory:()=>new _y},{provide:Ob,useValue:"BrowserAnimations"},...ZP],une=[{provide:qa,useClass:AE},{provide:Ob,useValue:"NoopAnimations"},...ZP],KP=(()=>{class n{static withConfig(t){return{ngModule:n,providers:t.disableAnimations?une:XP}}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=Xe({type:n})}static{this.\u0275inj=Qe({providers:XP,imports:[WM]})}}return n})();function dne(n){let e=n,t=Math.floor(Math.abs(n)),i=n.toString().replace(/^[^.]*\.?/,"").length,r=parseInt(n.toString().replace(/^[^e]*(e([-+]?\d+))?/,"$2"))||0;return t===Math.floor(t)&&t>=0&&t<=1?1:r===0&&t!==0&&t%1e6===0&&i===0||!(r>=0&&r<=5)?4:5}var JP=["pt",[["AM","PM"],void 0,void 0],void 0,[["D","S","T","Q","Q","S","S"],["dom.","seg.","ter.","qua.","qui.","sex.","s\xE1b."],["domingo","segunda-feira","ter\xE7a-feira","quarta-feira","quinta-feira","sexta-feira","s\xE1bado"],["dom.","seg.","ter.","qua.","qui.","sex.","s\xE1b."]],void 0,[["J","F","M","A","M","J","J","A","S","O","N","D"],["jan.","fev.","mar.","abr.","mai.","jun.","jul.","ago.","set.","out.","nov.","dez."],["janeiro","fevereiro","mar\xE7o","abril","maio","junho","julho","agosto","setembro","outubro","novembro","dezembro"]],void 0,[["a.C.","d.C."],void 0,["antes de Cristo","depois de Cristo"]],0,[6,0],["dd/MM/y","d 'de' MMM 'de' y","d 'de' MMMM 'de' y","EEEE, d 'de' MMMM 'de' y"],["HH:mm","HH:mm:ss","HH:mm:ss z","HH:mm:ss zzzz"],["{1} {0}",void 0,void 0,void 0],[",",".",";","%","+","-","E","\xD7","\u2030","\u221E","NaN",":"],["#,##0.###","#,##0%","\xA4\xA0#,##0.00","#E0"],"BRL","R$","Real brasileiro",{AUD:["AU$","$"],BYN:[void 0,"\u0440."],JPY:["JP\xA5","\xA5"],PHP:[void 0,"\u20B1"],PTE:["Esc."],RON:[void 0,"L"],SYP:[void 0,"S\xA3"],THB:["\u0E3F"],TWD:["NT$"],USD:["US$","$"]},"ltr",dne];SM(JP,"pt");GM(sy,ye(P({},nE),{providers:[...nE.providers||[],gb(KP),{provide:Ol,useValue:"pt"}]})).catch(n=>console.error(n));
